const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FileView_N-DAQD3yDP.js","./FileView.vue_vue_type_style_index_0_lang-DI8vIxBn.js","./FileItem-CURXQPyC.js","./ContentEditable.vue_vue_type_script_setup_true_lang-C90rbPtt.js","./Hinter-D8UCIHWV.js","./Hinter-DDs2Yukm.css","./FileItem-DUerVcS4.css","./FileView-BSPtTJMB.css","./Favourite-C-Tt4P56.js","./Favourite-BN5yJjEX.css","./FileView_R-CgTtcwCM.js","./TagView-BGh9Qx4k.js","./TagView-BIbJvYcw.css","./UserView-CYdyZiRT.js","./UserView-CmWqTIhk.css","./LogView-D9jHJSdT.js","./LogView-V_AVrbUx.css","./SettingView-BLMp1QaB.js","./SettingView-EQ9DroAn.css"])))=>i.map(i=>d[i]);
var Aa=Object.defineProperty;var Da=(e,t,n)=>t in e?Aa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ke=(e,t,n)=>Da(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ps(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ie={},ln=[],yt=()=>{},Ia=()=>!1,mr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ms=e=>e.startsWith("onUpdate:"),Je=Object.assign,_s=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},La=Object.prototype.hasOwnProperty,Ee=(e,t)=>La.call(e,t),me=Array.isArray,cn=e=>Un(e)==="[object Map]",_n=e=>Un(e)==="[object Set]",Ns=e=>Un(e)==="[object Date]",ve=e=>typeof e=="function",je=e=>typeof e=="string",ht=e=>typeof e=="symbol",Te=e=>e!==null&&typeof e=="object",Bi=e=>(Te(e)||ve(e))&&ve(e.then)&&ve(e.catch),Fi=Object.prototype.toString,Un=e=>Fi.call(e),Ra=e=>Un(e).slice(8,-1),ji=e=>Un(e)==="[object Object]",gs=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,En=ps(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_r=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ta=/-(\w)/g,ut=_r(e=>e.replace(Ta,(t,n)=>n?n.toUpperCase():"")),Pa=/\B([A-Z])/g,Jt=_r(e=>e.replace(Pa,"-$1").toLowerCase()),gr=_r(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rr=_r(e=>e?`on${gr(e)}`:""),zt=(e,t)=>!Object.is(e,t),tr=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Hi=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ar=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Bs;const vr=()=>Bs||(Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nt(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=je(r)?Na(r):nt(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(je(e)||Te(e))return e}const Ma=/;(?![^(]*\))/g,za=/:([^]+)/,$a=/\/\*[^]*?\*\//g;function Na(e){const t={};return e.replace($a,"").split(Ma).forEach(n=>{if(n){const r=n.split(za);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ae(e){let t="";if(je(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const r=Ae(e[n]);r&&(t+=r+" ")}else if(Te(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ba="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fa=ps(Ba);function Ui(e){return!!e||e===""}function ja(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=qt(e[r],t[r]);return n}function qt(e,t){if(e===t)return!0;let n=Ns(e),r=Ns(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ht(e),r=ht(t),n||r)return e===t;if(n=me(e),r=me(t),n||r)return n&&r?ja(e,t):!1;if(n=Te(e),r=Te(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!qt(e[a],t[a]))return!1}}return String(e)===String(t)}function vs(e,t){return e.findIndex(n=>qt(n,t))}const Wi=e=>!!(e&&e.__v_isRef===!0),we=e=>je(e)?e:e==null?"":me(e)||Te(e)&&(e.toString===Fi||!ve(e.toString))?Wi(e)?we(e.value):JSON.stringify(e,Vi,2):String(e),Vi=(e,t)=>Wi(t)?Vi(e,t.value):cn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Tr(r,i)+" =>"]=s,n),{})}:_n(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Tr(n))}:ht(t)?Tr(t):Te(t)&&!me(t)&&!ji(t)?String(t):t,Tr=(e,t="")=>{var n;return ht(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class Ki{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=et;try{return et=this,t()}finally{et=n}}}on(){et=this}off(){et=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Yi(e){return new Ki(e)}function Xi(){return et}function Ha(e,t=!1){et&&et.cleanups.push(e)}let Re;const Pr=new WeakSet;class Zi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pr.has(this)&&(Pr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Gi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fs(this),Ji(this);const t=Re,n=ft;Re=this,ft=!0;try{return this.fn()}finally{Qi(this),Re=t,ft=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ws(t);this.deps=this.depsTail=void 0,Fs(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xr(this)&&this.run()}get dirty(){return Xr(this)}}let qi=0,On,Cn;function Gi(e,t=!1){if(e.flags|=8,t){e.next=Cn,Cn=e;return}e.next=On,On=e}function ys(){qi++}function bs(){if(--qi>0)return;if(Cn){let t=Cn;for(Cn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;On;){let t=On;for(On=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Ji(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Qi(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),ws(r),Ua(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Xr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(eo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function eo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Tn))return;e.globalVersion=Tn;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Xr(e)){e.flags&=-3;return}const n=Re,r=ft;Re=e,ft=!0;try{Ji(e);const s=e.fn(e._value);(t.version===0||zt(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Re=n,ft=r,Qi(e),e.flags&=-3}}function ws(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)ws(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ua(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ft=!0;const to=[];function jt(){to.push(ft),ft=!1}function Ht(){const e=to.pop();ft=e===void 0?!0:e}function Fs(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Re;Re=void 0;try{t()}finally{Re=n}}}let Tn=0;class Wa{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Re||!ft||Re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Re)n=this.activeLink=new Wa(Re,this),Re.deps?(n.prevDep=Re.depsTail,Re.depsTail.nextDep=n,Re.depsTail=n):Re.deps=Re.depsTail=n,no(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Re.depsTail,n.nextDep=void 0,Re.depsTail.nextDep=n,Re.depsTail=n,Re.deps===n&&(Re.deps=r)}return n}trigger(t){this.version++,Tn++,this.notify(t)}notify(t){ys();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{bs()}}}function no(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)no(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const lr=new WeakMap,Xt=Symbol(""),Zr=Symbol(""),Pn=Symbol("");function qe(e,t,n){if(ft&&Re){let r=lr.get(e);r||lr.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new xs),s.map=r,s.key=n),s.track()}}function Et(e,t,n,r,s,i){const a=lr.get(e);if(!a){Tn++;return}const o=l=>{l&&l.trigger()};if(ys(),t==="clear")a.forEach(o);else{const l=me(e),c=l&&gs(n);if(l&&n==="length"){const d=Number(r);a.forEach((p,_)=>{(_==="length"||_===Pn||!ht(_)&&_>=d)&&o(p)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),c&&o(a.get(Pn)),t){case"add":l?c&&o(a.get("length")):(o(a.get(Xt)),cn(e)&&o(a.get(Zr)));break;case"delete":l||(o(a.get(Xt)),cn(e)&&o(a.get(Zr)));break;case"set":cn(e)&&o(a.get(Xt));break}}bs()}function Va(e,t){const n=lr.get(e);return n&&n.get(t)}function tn(e){const t=be(e);return t===e?t:(qe(t,"iterate",Pn),lt(e)?t:t.map(Ge))}function yr(e){return qe(e=be(e),"iterate",Pn),e}const Ka={__proto__:null,[Symbol.iterator](){return Mr(this,Symbol.iterator,Ge)},concat(...e){return tn(this).concat(...e.map(t=>me(t)?tn(t):t))},entries(){return Mr(this,"entries",e=>(e[1]=Ge(e[1]),e))},every(e,t){return xt(this,"every",e,t,void 0,arguments)},filter(e,t){return xt(this,"filter",e,t,n=>n.map(Ge),arguments)},find(e,t){return xt(this,"find",e,t,Ge,arguments)},findIndex(e,t){return xt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xt(this,"findLast",e,t,Ge,arguments)},findLastIndex(e,t){return xt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xt(this,"forEach",e,t,void 0,arguments)},includes(...e){return zr(this,"includes",e)},indexOf(...e){return zr(this,"indexOf",e)},join(e){return tn(this).join(e)},lastIndexOf(...e){return zr(this,"lastIndexOf",e)},map(e,t){return xt(this,"map",e,t,void 0,arguments)},pop(){return bn(this,"pop")},push(...e){return bn(this,"push",e)},reduce(e,...t){return js(this,"reduce",e,t)},reduceRight(e,...t){return js(this,"reduceRight",e,t)},shift(){return bn(this,"shift")},some(e,t){return xt(this,"some",e,t,void 0,arguments)},splice(...e){return bn(this,"splice",e)},toReversed(){return tn(this).toReversed()},toSorted(e){return tn(this).toSorted(e)},toSpliced(...e){return tn(this).toSpliced(...e)},unshift(...e){return bn(this,"unshift",e)},values(){return Mr(this,"values",Ge)}};function Mr(e,t,n){const r=yr(e),s=r[t]();return r!==e&&!lt(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const Ya=Array.prototype;function xt(e,t,n,r,s,i){const a=yr(e),o=a!==e&&!lt(e),l=a[t];if(l!==Ya[t]){const p=l.apply(e,i);return o?Ge(p):p}let c=n;a!==e&&(o?c=function(p,_){return n.call(this,Ge(p),_,e)}:n.length>2&&(c=function(p,_){return n.call(this,p,_,e)}));const d=l.call(a,c,r);return o&&s?s(d):d}function js(e,t,n,r){const s=yr(e);let i=n;return s!==e&&(lt(e)?n.length>3&&(i=function(a,o,l){return n.call(this,a,o,l,e)}):i=function(a,o,l){return n.call(this,a,Ge(o),l,e)}),s[t](i,...r)}function zr(e,t,n){const r=be(e);qe(r,"iterate",Pn);const s=r[t](...n);return(s===-1||s===!1)&&Es(n[0])?(n[0]=be(n[0]),r[t](...n)):s}function bn(e,t,n=[]){jt(),ys();const r=be(e)[t].apply(e,n);return bs(),Ht(),r}const Xa=ps("__proto__,__v_isRef,__isVue"),ro=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ht));function Za(e){ht(e)||(e=String(e));const t=be(this);return qe(t,"has",e),t.hasOwnProperty(e)}class so{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?il:lo:i?ao:oo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=me(t);if(!s){let l;if(a&&(l=Ka[n]))return l;if(n==="hasOwnProperty")return Za}const o=Reflect.get(t,n,Me(t)?t:r);return(ht(n)?ro.has(n):Xa(n))||(s||qe(t,"get",n),i)?o:Me(o)?a&&gs(n)?o:o.value:Te(o)?s?uo(o):Wn(o):o}}class io extends so{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._isShallow){const l=Gt(i);if(!lt(r)&&!Gt(r)&&(i=be(i),r=be(r)),!me(t)&&Me(i)&&!Me(r))return l?!1:(i.value=r,!0)}const a=me(t)&&gs(n)?Number(n)<t.length:Ee(t,n),o=Reflect.set(t,n,r,Me(t)?t:s);return t===be(s)&&(a?zt(r,i)&&Et(t,"set",n,r):Et(t,"add",n,r)),o}deleteProperty(t,n){const r=Ee(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Et(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!ht(n)||!ro.has(n))&&qe(t,"has",n),r}ownKeys(t){return qe(t,"iterate",me(t)?"length":Xt),Reflect.ownKeys(t)}}class qa extends so{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ga=new io,Ja=new qa,Qa=new io(!0);const qr=e=>e,Xn=e=>Reflect.getPrototypeOf(e);function el(e,t,n){return function(...r){const s=this.__v_raw,i=be(s),a=cn(i),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,c=s[e](...r),d=n?qr:t?Gr:Ge;return!t&&qe(i,"iterate",l?Zr:Xt),{next(){const{value:p,done:_}=c.next();return _?{value:p,done:_}:{value:o?[d(p[0]),d(p[1])]:d(p),done:_}},[Symbol.iterator](){return this}}}}function Zn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function tl(e,t){const n={get(s){const i=this.__v_raw,a=be(i),o=be(s);e||(zt(s,o)&&qe(a,"get",s),qe(a,"get",o));const{has:l}=Xn(a),c=t?qr:e?Gr:Ge;if(l.call(a,s))return c(i.get(s));if(l.call(a,o))return c(i.get(o));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!e&&qe(be(s),"iterate",Xt),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=be(i),o=be(s);return e||(zt(s,o)&&qe(a,"has",s),qe(a,"has",o)),s===o?i.has(s):i.has(s)||i.has(o)},forEach(s,i){const a=this,o=a.__v_raw,l=be(o),c=t?qr:e?Gr:Ge;return!e&&qe(l,"iterate",Xt),o.forEach((d,p)=>s.call(i,c(d),c(p),a))}};return Je(n,e?{add:Zn("add"),set:Zn("set"),delete:Zn("delete"),clear:Zn("clear")}:{add(s){!t&&!lt(s)&&!Gt(s)&&(s=be(s));const i=be(this);return Xn(i).has.call(i,s)||(i.add(s),Et(i,"add",s,s)),this},set(s,i){!t&&!lt(i)&&!Gt(i)&&(i=be(i));const a=be(this),{has:o,get:l}=Xn(a);let c=o.call(a,s);c||(s=be(s),c=o.call(a,s));const d=l.call(a,s);return a.set(s,i),c?zt(i,d)&&Et(a,"set",s,i):Et(a,"add",s,i),this},delete(s){const i=be(this),{has:a,get:o}=Xn(i);let l=a.call(i,s);l||(s=be(s),l=a.call(i,s)),o&&o.call(i,s);const c=i.delete(s);return l&&Et(i,"delete",s,void 0),c},clear(){const s=be(this),i=s.size!==0,a=s.clear();return i&&Et(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=el(s,e,t)}),n}function ks(e,t){const n=tl(e,t);return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Ee(n,s)&&s in r?n:r,s,i)}const nl={get:ks(!1,!1)},rl={get:ks(!1,!0)},sl={get:ks(!0,!1)};const oo=new WeakMap,ao=new WeakMap,lo=new WeakMap,il=new WeakMap;function ol(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function al(e){return e.__v_skip||!Object.isExtensible(e)?0:ol(Ra(e))}function Wn(e){return Gt(e)?e:Ss(e,!1,Ga,nl,oo)}function co(e){return Ss(e,!1,Qa,rl,ao)}function uo(e){return Ss(e,!0,Ja,sl,lo)}function Ss(e,t,n,r,s){if(!Te(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=al(e);if(a===0)return e;const o=new Proxy(e,a===2?r:n);return s.set(e,o),o}function $t(e){return Gt(e)?$t(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function lt(e){return!!(e&&e.__v_isShallow)}function Es(e){return e?!!e.__v_raw:!1}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function Os(e){return!Ee(e,"__v_skip")&&Object.isExtensible(e)&&Hi(e,"__v_skip",!0),e}const Ge=e=>Te(e)?Wn(e):e,Gr=e=>Te(e)?uo(e):e;function Me(e){return e?e.__v_isRef===!0:!1}function he(e){return fo(e,!1)}function ll(e){return fo(e,!0)}function fo(e,t){return Me(e)?e:new cl(e,t)}class cl{constructor(t,n){this.dep=new xs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:be(t),this._value=n?t:Ge(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||lt(t)||Gt(t);t=r?t:be(t),zt(t,n)&&(this._rawValue=t,this._value=r?t:Ge(t),this.dep.trigger())}}function xe(e){return Me(e)?e.value:e}const ul={get:(e,t,n)=>t==="__v_raw"?e:xe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return Me(s)&&!Me(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ho(e){return $t(e)?e:new Proxy(e,ul)}function fl(e){const t=me(e)?new Array(e.length):{};for(const n in e)t[n]=hl(e,n);return t}class dl{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Va(be(this._object),this._key)}}function hl(e,t,n){const r=e[t];return Me(r)?r:new dl(e,t,n)}class pl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new xs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return Gi(this,!0),!0}get value(){const t=this.dep.track();return eo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ml(e,t,n=!1){let r,s;return ve(e)?r=e:(r=e.get,s=e.set),new pl(r,s,n)}const qn={},cr=new WeakMap;let Yt;function _l(e,t=!1,n=Yt){if(n){let r=cr.get(n);r||cr.set(n,r=[]),r.push(e)}}function gl(e,t,n=Ie){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:o,call:l}=n,c=x=>s?x:lt(x)||s===!1||s===0?Ot(x,1):Ot(x);let d,p,_,f,y=!1,h=!1;if(Me(e)?(p=()=>e.value,y=lt(e)):$t(e)?(p=()=>c(e),y=!0):me(e)?(h=!0,y=e.some(x=>$t(x)||lt(x)),p=()=>e.map(x=>{if(Me(x))return x.value;if($t(x))return c(x);if(ve(x))return l?l(x,2):x()})):ve(e)?t?p=l?()=>l(e,2):e:p=()=>{if(_){jt();try{_()}finally{Ht()}}const x=Yt;Yt=d;try{return l?l(e,3,[f]):e(f)}finally{Yt=x}}:p=yt,t&&s){const x=p,E=s===!0?1/0:s;p=()=>Ot(x(),E)}const m=Xi(),g=()=>{d.stop(),m&&m.active&&_s(m.effects,d)};if(i&&t){const x=t;t=(...E)=>{x(...E),g()}}let v=h?new Array(e.length).fill(qn):qn;const w=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(t){const E=d.run();if(s||y||(h?E.some((z,L)=>zt(z,v[L])):zt(E,v))){_&&_();const z=Yt;Yt=d;try{const L=[E,v===qn?void 0:h&&v[0]===qn?[]:v,f];l?l(t,3,L):t(...L),v=E}finally{Yt=z}}}else d.run()};return o&&o(w),d=new Zi(p),d.scheduler=a?()=>a(w,!1):w,f=x=>_l(x,!1,d),_=d.onStop=()=>{const x=cr.get(d);if(x){if(l)l(x,4);else for(const E of x)E();cr.delete(d)}},t?r?w(!0):v=d.run():a?a(w.bind(null,!0),!0):d.run(),g.pause=d.pause.bind(d),g.resume=d.resume.bind(d),g.stop=g,g}function Ot(e,t=1/0,n){if(t<=0||!Te(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Me(e))Ot(e.value,t,n);else if(me(e))for(let r=0;r<e.length;r++)Ot(e[r],t,n);else if(_n(e)||cn(e))e.forEach(r=>{Ot(r,t,n)});else if(ji(e)){for(const r in e)Ot(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ot(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vn(e,t,n,r){try{return r?e(...r):e()}catch(s){br(s,t,n)}}function wt(e,t,n,r){if(ve(e)){const s=Vn(e,t,n,r);return s&&Bi(s)&&s.catch(i=>{br(i,t,n)}),s}if(me(e)){const s=[];for(let i=0;i<e.length;i++)s.push(wt(e[i],t,n,r));return s}}function br(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ie;if(t){let o=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,l,c)===!1)return}o=o.parent}if(i){jt(),Vn(i,null,10,[e,l,c]),Ht();return}}vl(e,n,s,r,a)}function vl(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const tt=[];let gt=-1;const un=[];let Rt=null,rn=0;const po=Promise.resolve();let ur=null;function wr(e){const t=ur||po;return e?t.then(this?e.bind(this):e):t}function yl(e){let t=gt+1,n=tt.length;for(;t<n;){const r=t+n>>>1,s=tt[r],i=Mn(s);i<e||i===e&&s.flags&2?t=r+1:n=r}return t}function Cs(e){if(!(e.flags&1)){const t=Mn(e),n=tt[tt.length-1];!n||!(e.flags&2)&&t>=Mn(n)?tt.push(e):tt.splice(yl(t),0,e),e.flags|=1,mo()}}function mo(){ur||(ur=po.then(go))}function bl(e){me(e)?un.push(...e):Rt&&e.id===-1?Rt.splice(rn+1,0,e):e.flags&1||(un.push(e),e.flags|=1),mo()}function Hs(e,t,n=gt+1){for(;n<tt.length;n++){const r=tt[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;tt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function _o(e){if(un.length){const t=[...new Set(un)].sort((n,r)=>Mn(n)-Mn(r));if(un.length=0,Rt){Rt.push(...t);return}for(Rt=t,rn=0;rn<Rt.length;rn++){const n=Rt[rn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Rt=null,rn=0}}const Mn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function go(e){try{for(gt=0;gt<tt.length;gt++){const t=tt[gt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Vn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gt<tt.length;gt++){const t=tt[gt];t&&(t.flags&=-2)}gt=-1,tt.length=0,_o(),ur=null,(tt.length||un.length)&&go()}}let Ve=null,vo=null;function fr(e){const t=Ve;return Ve=e,vo=e&&e.type.__scopeId||null,t}function nr(e,t=Ve,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Js(-1);const i=fr(t);let a;try{a=e(...s)}finally{fr(i),r._d&&Js(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ze(e,t){if(Ve===null)return e;const n=Or(Ve),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,o,l=Ie]=t[s];i&&(ve(i)&&(i={mounted:i,updated:i}),i.deep&&Ot(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function Wt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let a=0;a<s.length;a++){const o=s[a];i&&(o.oldValue=i[a].value);let l=o.dir[r];l&&(jt(),wt(l,n,8,[e.el,o,e,t]),Ht())}}const wl=Symbol("_vte"),xl=e=>e.__isTeleport;function As(e,t){e.shapeFlag&6&&e.component?(e.transition=t,As(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function We(e,t){return ve(e)?Je({name:e.name},t,{setup:e}):e}function yo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function dr(e,t,n,r,s=!1){if(me(e)){e.forEach((y,h)=>dr(y,t&&(me(t)?t[h]:t),n,r,s));return}if(fn(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&dr(e,t,n,r.component.subTree);return}const i=r.shapeFlag&4?Or(r.component):r.el,a=s?null:i,{i:o,r:l}=e,c=t&&t.r,d=o.refs===Ie?o.refs={}:o.refs,p=o.setupState,_=be(p),f=p===Ie?()=>!1:y=>Ee(_,y);if(c!=null&&c!==l&&(je(c)?(d[c]=null,f(c)&&(p[c]=null)):Me(c)&&(c.value=null)),ve(l))Vn(l,o,12,[a,d]);else{const y=je(l),h=Me(l);if(y||h){const m=()=>{if(e.f){const g=y?f(l)?p[l]:d[l]:l.value;s?me(g)&&_s(g,i):me(g)?g.includes(i)||g.push(i):y?(d[l]=[i],f(l)&&(p[l]=d[l])):(l.value=[i],e.k&&(d[e.k]=l.value))}else y?(d[l]=a,f(l)&&(p[l]=a)):h&&(l.value=a,e.k&&(d[e.k]=a))};a?(m.id=-1,rt(m,n)):m()}}}vr().requestIdleCallback;vr().cancelIdleCallback;const fn=e=>!!e.type.__asyncLoader,bo=e=>e.type.__isKeepAlive;function wo(e,t){ko(e,"a",t)}function xo(e,t){ko(e,"da",t)}function ko(e,t,n=Ye){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(xr(t,r,n),n){let s=n.parent;for(;s&&s.parent;)bo(s.parent.vnode)&&kl(r,t,n,s),s=s.parent}}function kl(e,t,n,r){const s=xr(t,e,r,!0);mt(()=>{_s(r[t],s)},n)}function xr(e,t,n=Ye,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...a)=>{jt();const o=Kn(n),l=wt(t,n,e,a);return o(),Ht(),l});return r?s.unshift(i):s.push(i),i}}const At=e=>(t,n=Ye)=>{(!Bn||e==="sp")&&xr(e,(...r)=>t(...r),n)},Sl=At("bm"),ot=At("m"),El=At("bu"),Ol=At("u"),kr=At("bum"),mt=At("um"),Cl=At("sp"),Al=At("rtg"),Dl=At("rtc");function Il(e,t=Ye){xr("ec",e,t)}const So="components";function Ll(e,t){return Co(So,e,!0,t)||e}const Eo=Symbol.for("v-ndc");function Oo(e){return je(e)?Co(So,e,!1)||e:e||Eo}function Co(e,t,n=!0,r=!1){const s=Ve||Ye;if(s){const i=s.type;{const o=vc(i,!1);if(o&&(o===t||o===ut(t)||o===gr(ut(t))))return i}const a=Us(s[e]||i[e],t)||Us(s.appContext[e],t);return!a&&r?i:a}}function Us(e,t){return e&&(e[t]||e[ut(t)]||e[gr(ut(t))])}function Ne(e,t,n,r){let s;const i=n,a=me(e);if(a||je(e)){const o=a&&$t(e);let l=!1;o&&(l=!lt(e),e=yr(e)),s=new Array(e.length);for(let c=0,d=e.length;c<d;c++)s[c]=t(l?Ge(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i)}else if(Te(e))if(e[Symbol.iterator])s=Array.from(e,(o,l)=>t(o,l,void 0,i));else{const o=Object.keys(e);s=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const d=o[l];s[l]=t(e[d],d,l,i)}}else s=[];return s}function Fe(e,t,n={},r,s){if(Ve.ce||Ve.parent&&fn(Ve.parent)&&Ve.parent.ce)return t!=="default"&&(n.name=t),ae(),$n(_e,null,[Be("slot",n,r)],64);let i=e[t];i&&i._c&&(i._d=!1),ae();const a=i&&Ao(i(n)),o=n.key||a&&a.key,l=$n(_e,{key:(o&&!ht(o)?o:`_${t}`)+""},a||[],a&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Ao(e){return e.some(t=>Nn(t)?!(t.type===Bt||t.type===_e&&!Ao(t.children)):!0)?e:null}const Jr=e=>e?qo(e)?Or(e):Jr(e.parent):null,An=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jr(e.parent),$root:e=>Jr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Io(e),$forceUpdate:e=>e.f||(e.f=()=>{Cs(e.update)}),$nextTick:e=>e.n||(e.n=wr.bind(e.proxy)),$watch:e=>Ql.bind(e)}),$r=(e,t)=>e!==Ie&&!e.__isScriptSetup&&Ee(e,t),Rl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:o,appContext:l}=e;let c;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if($r(r,t))return a[t]=1,r[t];if(s!==Ie&&Ee(s,t))return a[t]=2,s[t];if((c=e.propsOptions[0])&&Ee(c,t))return a[t]=3,i[t];if(n!==Ie&&Ee(n,t))return a[t]=4,n[t];Qr&&(a[t]=0)}}const d=An[t];let p,_;if(d)return t==="$attrs"&&qe(e.attrs,"get",""),d(e);if((p=o.__cssModules)&&(p=p[t]))return p;if(n!==Ie&&Ee(n,t))return a[t]=4,n[t];if(_=l.config.globalProperties,Ee(_,t))return _[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return $r(s,t)?(s[t]=n,!0):r!==Ie&&Ee(r,t)?(r[t]=n,!0):Ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let o;return!!n[a]||e!==Ie&&Ee(e,a)||$r(t,a)||(o=i[0])&&Ee(o,a)||Ee(r,a)||Ee(An,a)||Ee(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ee(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ws(e){return me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Qr=!0;function Tl(e){const t=Io(e),n=e.proxy,r=e.ctx;Qr=!1,t.beforeCreate&&Vs(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:a,watch:o,provide:l,inject:c,created:d,beforeMount:p,mounted:_,beforeUpdate:f,updated:y,activated:h,deactivated:m,beforeDestroy:g,beforeUnmount:v,destroyed:w,unmounted:x,render:E,renderTracked:z,renderTriggered:L,errorCaptured:D,serverPrefetch:A,expose:N,inheritAttrs:te,components:R,directives:V,filters:b}=t;if(c&&Pl(c,r,null),a)for(const G in a){const J=a[G];ve(J)&&(r[G]=J.bind(n))}if(s){const G=s.call(n,n);Te(G)&&(e.data=Wn(G))}if(Qr=!0,i)for(const G in i){const J=i[G],F=ve(J)?J.bind(n,n):ve(J.get)?J.get.bind(n,n):yt,ie=!ve(J)&&ve(J.set)?J.set.bind(n):yt,H=at({get:F,set:ie});Object.defineProperty(r,G,{enumerable:!0,configurable:!0,get:()=>H.value,set:M=>H.value=M})}if(o)for(const G in o)Do(o[G],r,n,G);if(l){const G=ve(l)?l.call(n):l;Reflect.ownKeys(G).forEach(J=>{rr(J,G[J])})}d&&Vs(d,e,"c");function ce(G,J){me(J)?J.forEach(F=>G(F.bind(n))):J&&G(J.bind(n))}if(ce(Sl,p),ce(ot,_),ce(El,f),ce(Ol,y),ce(wo,h),ce(xo,m),ce(Il,D),ce(Dl,z),ce(Al,L),ce(kr,v),ce(mt,x),ce(Cl,A),me(N))if(N.length){const G=e.exposed||(e.exposed={});N.forEach(J=>{Object.defineProperty(G,J,{get:()=>n[J],set:F=>n[J]=F})})}else e.exposed||(e.exposed={});E&&e.render===yt&&(e.render=E),te!=null&&(e.inheritAttrs=te),R&&(e.components=R),V&&(e.directives=V),A&&yo(e)}function Pl(e,t,n=yt){me(e)&&(e=es(e));for(const r in e){const s=e[r];let i;Te(s)?"default"in s?i=it(s.from||r,s.default,!0):i=it(s.from||r):i=it(s),Me(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function Vs(e,t,n){wt(me(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Do(e,t,n,r){let s=r.includes(".")?Wo(n,r):()=>n[r];if(je(e)){const i=t[e];ve(i)&&dt(s,i)}else if(ve(e))dt(s,e.bind(n));else if(Te(e))if(me(e))e.forEach(i=>Do(i,t,n,r));else{const i=ve(e.handler)?e.handler.bind(n):t[e.handler];ve(i)&&dt(s,i,e)}}function Io(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,o=i.get(t);let l;return o?l=o:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>hr(l,c,a,!0)),hr(l,t,a)),Te(t)&&i.set(t,l),l}function hr(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&hr(e,i,n,!0),s&&s.forEach(a=>hr(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const o=Ml[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const Ml={data:Ks,props:Ys,emits:Ys,methods:kn,computed:kn,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:kn,directives:kn,watch:$l,provide:Ks,inject:zl};function Ks(e,t){return t?e?function(){return Je(ve(e)?e.call(this,this):e,ve(t)?t.call(this,this):t)}:t:e}function zl(e,t){return kn(es(e),es(t))}function es(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Qe(e,t){return e?[...new Set([].concat(e,t))]:t}function kn(e,t){return e?Je(Object.create(null),e,t):t}function Ys(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:Je(Object.create(null),Ws(e),Ws(t??{})):t}function $l(e,t){if(!e)return t;if(!t)return e;const n=Je(Object.create(null),e);for(const r in t)n[r]=Qe(e[r],t[r]);return n}function Lo(){return{app:null,config:{isNativeTag:Ia,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nl=0;function Bl(e,t){return function(r,s=null){ve(r)||(r=Je({},r)),s!=null&&!Te(s)&&(s=null);const i=Lo(),a=new WeakSet,o=[];let l=!1;const c=i.app={_uid:Nl++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:bc,get config(){return i.config},set config(d){},use(d,...p){return a.has(d)||(d&&ve(d.install)?(a.add(d),d.install(c,...p)):ve(d)&&(a.add(d),d(c,...p))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,p){return p?(i.components[d]=p,c):i.components[d]},directive(d,p){return p?(i.directives[d]=p,c):i.directives[d]},mount(d,p,_){if(!l){const f=c._ceVNode||Be(r,s);return f.appContext=i,_===!0?_="svg":_===!1&&(_=void 0),e(f,d,_),l=!0,c._container=d,d.__vue_app__=c,Or(f.component)}},onUnmount(d){o.push(d)},unmount(){l&&(wt(o,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,p){return i.provides[d]=p,c},runWithContext(d){const p=Zt;Zt=c;try{return d()}finally{Zt=p}}};return c}}let Zt=null;function rr(e,t){if(Ye){let n=Ye.provides;const r=Ye.parent&&Ye.parent.provides;r===n&&(n=Ye.provides=Object.create(r)),n[e]=t}}function it(e,t,n=!1){const r=Ye||Ve;if(r||Zt){const s=Zt?Zt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ve(t)?t.call(r&&r.proxy):t}}function Fl(){return!!(Ye||Ve||Zt)}const Ro={},To=()=>Object.create(Ro),Po=e=>Object.getPrototypeOf(e)===Ro;function jl(e,t,n,r=!1){const s={},i=To();e.propsDefaults=Object.create(null),Mo(e,t,s,i);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=r?s:co(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Hl(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=e,o=be(s),[l]=e.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let _=d[p];if(Sr(e.emitsOptions,_))continue;const f=t[_];if(l)if(Ee(i,_))f!==i[_]&&(i[_]=f,c=!0);else{const y=ut(_);s[y]=ts(l,o,y,f,e,!1)}else f!==i[_]&&(i[_]=f,c=!0)}}}else{Mo(e,t,s,i)&&(c=!0);let d;for(const p in o)(!t||!Ee(t,p)&&((d=Jt(p))===p||!Ee(t,d)))&&(l?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=ts(l,o,p,void 0,e,!0)):delete s[p]);if(i!==o)for(const p in i)(!t||!Ee(t,p))&&(delete i[p],c=!0)}c&&Et(e.attrs,"set","")}function Mo(e,t,n,r){const[s,i]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(En(l))continue;const c=t[l];let d;s&&Ee(s,d=ut(l))?!i||!i.includes(d)?n[d]=c:(o||(o={}))[d]=c:Sr(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(i){const l=be(n),c=o||Ie;for(let d=0;d<i.length;d++){const p=i[d];n[p]=ts(s,l,p,c[p],e,!Ee(c,p))}}return a}function ts(e,t,n,r,s,i){const a=e[n];if(a!=null){const o=Ee(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ve(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const d=Kn(s);r=c[n]=l.call(null,t),d()}}else r=l;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!o?r=!1:a[1]&&(r===""||r===Jt(n))&&(r=!0))}return r}const Ul=new WeakMap;function zo(e,t,n=!1){const r=n?Ul:t.propsCache,s=r.get(e);if(s)return s;const i=e.props,a={},o=[];let l=!1;if(!ve(e)){const d=p=>{l=!0;const[_,f]=zo(p,t,!0);Je(a,_),f&&o.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!i&&!l)return Te(e)&&r.set(e,ln),ln;if(me(i))for(let d=0;d<i.length;d++){const p=ut(i[d]);Xs(p)&&(a[p]=Ie)}else if(i)for(const d in i){const p=ut(d);if(Xs(p)){const _=i[d],f=a[p]=me(_)||ve(_)?{type:_}:Je({},_),y=f.type;let h=!1,m=!0;if(me(y))for(let g=0;g<y.length;++g){const v=y[g],w=ve(v)&&v.name;if(w==="Boolean"){h=!0;break}else w==="String"&&(m=!1)}else h=ve(y)&&y.name==="Boolean";f[0]=h,f[1]=m,(h||Ee(f,"default"))&&o.push(p)}}const c=[a,o];return Te(e)&&r.set(e,c),c}function Xs(e){return e[0]!=="$"&&!En(e)}const $o=e=>e[0]==="_"||e==="$stable",Ds=e=>me(e)?e.map(vt):[vt(e)],Wl=(e,t,n)=>{if(t._n)return t;const r=nr((...s)=>Ds(t(...s)),n);return r._c=!1,r},No=(e,t,n)=>{const r=e._ctx;for(const s in e){if($o(s))continue;const i=e[s];if(ve(i))t[s]=Wl(s,i,r);else if(i!=null){const a=Ds(i);t[s]=()=>a}}},Bo=(e,t)=>{const n=Ds(t);e.slots.default=()=>n},Fo=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Vl=(e,t,n)=>{const r=e.slots=To();if(e.vnode.shapeFlag&32){const s=t._;s?(Fo(r,t,n),n&&Hi(r,"_",s,!0)):No(t,r)}else t&&Bo(e,t)},Kl=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,a=Ie;if(r.shapeFlag&32){const o=t._;o?n&&o===1?i=!1:Fo(s,t,n):(i=!t.$stable,No(t,s)),a=t}else t&&(Bo(e,t),a={default:1});if(i)for(const o in s)!$o(o)&&a[o]==null&&delete s[o]},rt=oc;function Yl(e){return Xl(e)}function Xl(e,t){const n=vr();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:o,createComment:l,setText:c,setElementText:d,parentNode:p,nextSibling:_,setScopeId:f=yt,insertStaticContent:y}=e,h=(C,O,u,P=null,T=null,k=null,S=void 0,I=null,W=!!O.dynamicChildren)=>{if(C===O)return;C&&!wn(C,O)&&(P=q(C),M(C,T,k,!0),C=null),O.patchFlag===-2&&(W=!1,O.dynamicChildren=null);const{type:U,ref:B,shapeFlag:X}=O;switch(U){case Er:m(C,O,u,P);break;case Bt:g(C,O,u,P);break;case sr:C==null&&v(O,u,P,S);break;case _e:R(C,O,u,P,T,k,S,I,W);break;default:X&1?E(C,O,u,P,T,k,S,I,W):X&6?V(C,O,u,P,T,k,S,I,W):(X&64||X&128)&&U.process(C,O,u,P,T,k,S,I,W,Q)}B!=null&&T&&dr(B,C&&C.ref,k,O||C,!O)},m=(C,O,u,P)=>{if(C==null)r(O.el=o(O.children),u,P);else{const T=O.el=C.el;O.children!==C.children&&c(T,O.children)}},g=(C,O,u,P)=>{C==null?r(O.el=l(O.children||""),u,P):O.el=C.el},v=(C,O,u,P)=>{[C.el,C.anchor]=y(C.children,O,u,P,C.el,C.anchor)},w=({el:C,anchor:O},u,P)=>{let T;for(;C&&C!==O;)T=_(C),r(C,u,P),C=T;r(O,u,P)},x=({el:C,anchor:O})=>{let u;for(;C&&C!==O;)u=_(C),s(C),C=u;s(O)},E=(C,O,u,P,T,k,S,I,W)=>{O.type==="svg"?S="svg":O.type==="math"&&(S="mathml"),C==null?z(O,u,P,T,k,S,I,W):A(C,O,T,k,S,I,W)},z=(C,O,u,P,T,k,S,I)=>{let W,U;const{props:B,shapeFlag:X,transition:re,dirs:ne}=C;if(W=C.el=a(C.type,k,B&&B.is,B),X&8?d(W,C.children):X&16&&D(C.children,W,null,P,T,Nr(C,k),S,I),ne&&Wt(C,null,P,"created"),L(W,C,C.scopeId,S,P),B){for(const pe in B)pe!=="value"&&!En(pe)&&i(W,pe,null,B[pe],k,P);"value"in B&&i(W,"value",null,B.value,k),(U=B.onVnodeBeforeMount)&&_t(U,P,C)}ne&&Wt(C,null,P,"beforeMount");const ue=Zl(T,re);ue&&re.beforeEnter(W),r(W,O,u),((U=B&&B.onVnodeMounted)||ue||ne)&&rt(()=>{U&&_t(U,P,C),ue&&re.enter(W),ne&&Wt(C,null,P,"mounted")},T)},L=(C,O,u,P,T)=>{if(u&&f(C,u),P)for(let k=0;k<P.length;k++)f(C,P[k]);if(T){let k=T.subTree;if(O===k||Ko(k.type)&&(k.ssContent===O||k.ssFallback===O)){const S=T.vnode;L(C,S,S.scopeId,S.slotScopeIds,T.parent)}}},D=(C,O,u,P,T,k,S,I,W=0)=>{for(let U=W;U<C.length;U++){const B=C[U]=I?Tt(C[U]):vt(C[U]);h(null,B,O,u,P,T,k,S,I)}},A=(C,O,u,P,T,k,S)=>{const I=O.el=C.el;let{patchFlag:W,dynamicChildren:U,dirs:B}=O;W|=C.patchFlag&16;const X=C.props||Ie,re=O.props||Ie;let ne;if(u&&Vt(u,!1),(ne=re.onVnodeBeforeUpdate)&&_t(ne,u,O,C),B&&Wt(O,C,u,"beforeUpdate"),u&&Vt(u,!0),(X.innerHTML&&re.innerHTML==null||X.textContent&&re.textContent==null)&&d(I,""),U?N(C.dynamicChildren,U,I,u,P,Nr(O,T),k):S||J(C,O,I,null,u,P,Nr(O,T),k,!1),W>0){if(W&16)te(I,X,re,u,T);else if(W&2&&X.class!==re.class&&i(I,"class",null,re.class,T),W&4&&i(I,"style",X.style,re.style,T),W&8){const ue=O.dynamicProps;for(let pe=0;pe<ue.length;pe++){const de=ue[pe],Le=X[de],He=re[de];(He!==Le||de==="value")&&i(I,de,Le,He,T,u)}}W&1&&C.children!==O.children&&d(I,O.children)}else!S&&U==null&&te(I,X,re,u,T);((ne=re.onVnodeUpdated)||B)&&rt(()=>{ne&&_t(ne,u,O,C),B&&Wt(O,C,u,"updated")},P)},N=(C,O,u,P,T,k,S)=>{for(let I=0;I<O.length;I++){const W=C[I],U=O[I],B=W.el&&(W.type===_e||!wn(W,U)||W.shapeFlag&70)?p(W.el):u;h(W,U,B,null,P,T,k,S,!0)}},te=(C,O,u,P,T)=>{if(O!==u){if(O!==Ie)for(const k in O)!En(k)&&!(k in u)&&i(C,k,O[k],null,T,P);for(const k in u){if(En(k))continue;const S=u[k],I=O[k];S!==I&&k!=="value"&&i(C,k,I,S,T,P)}"value"in u&&i(C,"value",O.value,u.value,T)}},R=(C,O,u,P,T,k,S,I,W)=>{const U=O.el=C?C.el:o(""),B=O.anchor=C?C.anchor:o("");let{patchFlag:X,dynamicChildren:re,slotScopeIds:ne}=O;ne&&(I=I?I.concat(ne):ne),C==null?(r(U,u,P),r(B,u,P),D(O.children||[],u,B,T,k,S,I,W)):X>0&&X&64&&re&&C.dynamicChildren?(N(C.dynamicChildren,re,u,T,k,S,I),(O.key!=null||T&&O===T.subTree)&&jo(C,O,!0)):J(C,O,u,B,T,k,S,I,W)},V=(C,O,u,P,T,k,S,I,W)=>{O.slotScopeIds=I,C==null?O.shapeFlag&512?T.ctx.activate(O,u,P,S,W):b(O,u,P,T,k,S,W):Z(C,O,W)},b=(C,O,u,P,T,k,S)=>{const I=C.component=hc(C,P,T);if(bo(C)&&(I.ctx.renderer=Q),pc(I,!1,S),I.asyncDep){if(T&&T.registerDep(I,ce,S),!C.el){const W=I.subTree=Be(Bt);g(null,W,O,u)}}else ce(I,C,O,u,T,k,S)},Z=(C,O,u)=>{const P=O.component=C.component;if(sc(C,O,u))if(P.asyncDep&&!P.asyncResolved){G(P,O,u);return}else P.next=O,P.update();else O.el=C.el,P.vnode=O},ce=(C,O,u,P,T,k,S)=>{const I=()=>{if(C.isMounted){let{next:X,bu:re,u:ne,parent:ue,vnode:pe}=C;{const Xe=Ho(C);if(Xe){X&&(X.el=pe.el,G(C,X,S)),Xe.asyncDep.then(()=>{C.isUnmounted||I()});return}}let de=X,Le;Vt(C,!1),X?(X.el=pe.el,G(C,X,S)):X=pe,re&&tr(re),(Le=X.props&&X.props.onVnodeBeforeUpdate)&&_t(Le,ue,X,pe),Vt(C,!0);const He=qs(C),$e=C.subTree;C.subTree=He,h($e,He,p($e.el),q($e),C,T,k),X.el=He.el,de===null&&ic(C,He.el),ne&&rt(ne,T),(Le=X.props&&X.props.onVnodeUpdated)&&rt(()=>_t(Le,ue,X,pe),T)}else{let X;const{el:re,props:ne}=O,{bm:ue,m:pe,parent:de,root:Le,type:He}=C,$e=fn(O);Vt(C,!1),ue&&tr(ue),!$e&&(X=ne&&ne.onVnodeBeforeMount)&&_t(X,de,O),Vt(C,!0);{Le.ce&&Le.ce._injectChildStyle(He);const Xe=C.subTree=qs(C);h(null,Xe,u,P,C,T,k),O.el=Xe.el}if(pe&&rt(pe,T),!$e&&(X=ne&&ne.onVnodeMounted)){const Xe=O;rt(()=>_t(X,de,Xe),T)}(O.shapeFlag&256||de&&fn(de.vnode)&&de.vnode.shapeFlag&256)&&C.a&&rt(C.a,T),C.isMounted=!0,O=u=P=null}};C.scope.on();const W=C.effect=new Zi(I);C.scope.off();const U=C.update=W.run.bind(W),B=C.job=W.runIfDirty.bind(W);B.i=C,B.id=C.uid,W.scheduler=()=>Cs(B),Vt(C,!0),U()},G=(C,O,u)=>{O.component=C;const P=C.vnode.props;C.vnode=O,C.next=null,Hl(C,O.props,P,u),Kl(C,O.children,u),jt(),Hs(C),Ht()},J=(C,O,u,P,T,k,S,I,W=!1)=>{const U=C&&C.children,B=C?C.shapeFlag:0,X=O.children,{patchFlag:re,shapeFlag:ne}=O;if(re>0){if(re&128){ie(U,X,u,P,T,k,S,I,W);return}else if(re&256){F(U,X,u,P,T,k,S,I,W);return}}ne&8?(B&16&&fe(U,T,k),X!==U&&d(u,X)):B&16?ne&16?ie(U,X,u,P,T,k,S,I,W):fe(U,T,k,!0):(B&8&&d(u,""),ne&16&&D(X,u,P,T,k,S,I,W))},F=(C,O,u,P,T,k,S,I,W)=>{C=C||ln,O=O||ln;const U=C.length,B=O.length,X=Math.min(U,B);let re;for(re=0;re<X;re++){const ne=O[re]=W?Tt(O[re]):vt(O[re]);h(C[re],ne,u,null,T,k,S,I,W)}U>B?fe(C,T,k,!0,!1,X):D(O,u,P,T,k,S,I,W,X)},ie=(C,O,u,P,T,k,S,I,W)=>{let U=0;const B=O.length;let X=C.length-1,re=B-1;for(;U<=X&&U<=re;){const ne=C[U],ue=O[U]=W?Tt(O[U]):vt(O[U]);if(wn(ne,ue))h(ne,ue,u,null,T,k,S,I,W);else break;U++}for(;U<=X&&U<=re;){const ne=C[X],ue=O[re]=W?Tt(O[re]):vt(O[re]);if(wn(ne,ue))h(ne,ue,u,null,T,k,S,I,W);else break;X--,re--}if(U>X){if(U<=re){const ne=re+1,ue=ne<B?O[ne].el:P;for(;U<=re;)h(null,O[U]=W?Tt(O[U]):vt(O[U]),u,ue,T,k,S,I,W),U++}}else if(U>re)for(;U<=X;)M(C[U],T,k,!0),U++;else{const ne=U,ue=U,pe=new Map;for(U=ue;U<=re;U++){const Ke=O[U]=W?Tt(O[U]):vt(O[U]);Ke.key!=null&&pe.set(Ke.key,U)}let de,Le=0;const He=re-ue+1;let $e=!1,Xe=0;const De=new Array(He);for(U=0;U<He;U++)De[U]=0;for(U=ne;U<=X;U++){const Ke=C[U];if(Le>=He){M(Ke,T,k,!0);continue}let Ue;if(Ke.key!=null)Ue=pe.get(Ke.key);else for(de=ue;de<=re;de++)if(De[de-ue]===0&&wn(Ke,O[de])){Ue=de;break}Ue===void 0?M(Ke,T,k,!0):(De[Ue-ue]=U+1,Ue>=Xe?Xe=Ue:$e=!0,h(Ke,O[Ue],u,null,T,k,S,I,W),Le++)}const Ut=$e?ql(De):ln;for(de=Ut.length-1,U=He-1;U>=0;U--){const Ke=ue+U,Ue=O[Ke],vn=Ke+1<B?O[Ke+1].el:P;De[U]===0?h(null,Ue,u,vn,T,k,S,I,W):$e&&(de<0||U!==Ut[de]?H(Ue,u,vn,2):de--)}}},H=(C,O,u,P,T=null)=>{const{el:k,type:S,transition:I,children:W,shapeFlag:U}=C;if(U&6){H(C.component.subTree,O,u,P);return}if(U&128){C.suspense.move(O,u,P);return}if(U&64){S.move(C,O,u,Q);return}if(S===_e){r(k,O,u);for(let X=0;X<W.length;X++)H(W[X],O,u,P);r(C.anchor,O,u);return}if(S===sr){w(C,O,u);return}if(P!==2&&U&1&&I)if(P===0)I.beforeEnter(k),r(k,O,u),rt(()=>I.enter(k),T);else{const{leave:X,delayLeave:re,afterLeave:ne}=I,ue=()=>r(k,O,u),pe=()=>{X(k,()=>{ue(),ne&&ne()})};re?re(k,ue,pe):pe()}else r(k,O,u)},M=(C,O,u,P=!1,T=!1)=>{const{type:k,props:S,ref:I,children:W,dynamicChildren:U,shapeFlag:B,patchFlag:X,dirs:re,cacheIndex:ne}=C;if(X===-2&&(T=!1),I!=null&&dr(I,null,u,C,!0),ne!=null&&(O.renderCache[ne]=void 0),B&256){O.ctx.deactivate(C);return}const ue=B&1&&re,pe=!fn(C);let de;if(pe&&(de=S&&S.onVnodeBeforeUnmount)&&_t(de,O,C),B&6)ee(C.component,u,P);else{if(B&128){C.suspense.unmount(u,P);return}ue&&Wt(C,null,O,"beforeUnmount"),B&64?C.type.remove(C,O,u,Q,P):U&&!U.hasOnce&&(k!==_e||X>0&&X&64)?fe(U,O,u,!1,!0):(k===_e&&X&384||!T&&B&16)&&fe(W,O,u),P&&K(C)}(pe&&(de=S&&S.onVnodeUnmounted)||ue)&&rt(()=>{de&&_t(de,O,C),ue&&Wt(C,null,O,"unmounted")},u)},K=C=>{const{type:O,el:u,anchor:P,transition:T}=C;if(O===_e){Y(u,P);return}if(O===sr){x(C);return}const k=()=>{s(u),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(C.shapeFlag&1&&T&&!T.persisted){const{leave:S,delayLeave:I}=T,W=()=>S(u,k);I?I(C.el,k,W):W()}else k()},Y=(C,O)=>{let u;for(;C!==O;)u=_(C),s(C),C=u;s(O)},ee=(C,O,u)=>{const{bum:P,scope:T,job:k,subTree:S,um:I,m:W,a:U}=C;Zs(W),Zs(U),P&&tr(P),T.stop(),k&&(k.flags|=8,M(S,C,O,u)),I&&rt(I,O),rt(()=>{C.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},fe=(C,O,u,P=!1,T=!1,k=0)=>{for(let S=k;S<C.length;S++)M(C[S],O,u,P,T)},q=C=>{if(C.shapeFlag&6)return q(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const O=_(C.anchor||C.el),u=O&&O[wl];return u?_(u):O};let $=!1;const j=(C,O,u)=>{C==null?O._vnode&&M(O._vnode,null,null,!0):h(O._vnode||null,C,O,null,null,null,u),O._vnode=C,$||($=!0,Hs(),_o(),$=!1)},Q={p:h,um:M,m:H,r:K,mt:b,mc:D,pc:J,pbc:N,n:q,o:e};return{render:j,hydrate:void 0,createApp:Bl(j)}}function Nr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Vt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Zl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function jo(e,t,n=!1){const r=e.children,s=t.children;if(me(r)&&me(s))for(let i=0;i<r.length;i++){const a=r[i];let o=s[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[i]=Tt(s[i]),o.el=a.el),!n&&o.patchFlag!==-2&&jo(a,o)),o.type===Er&&(o.el=a.el)}}function ql(e){const t=e.slice(),n=[0];let r,s,i,a,o;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)o=i+a>>1,e[n[o]]<c?i=o+1:a=o;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=t[a];return n}function Ho(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ho(t)}function Zs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Gl=Symbol.for("v-scx"),Jl=()=>it(Gl);function dt(e,t,n){return Uo(e,t,n)}function Uo(e,t,n=Ie){const{immediate:r,deep:s,flush:i,once:a}=n,o=Je({},n),l=t&&r||!t&&i!=="post";let c;if(Bn){if(i==="sync"){const f=Jl();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=yt,f.resume=yt,f.pause=yt,f}}const d=Ye;o.call=(f,y,h)=>wt(f,d,y,h);let p=!1;i==="post"?o.scheduler=f=>{rt(f,d&&d.suspense)}:i!=="sync"&&(p=!0,o.scheduler=(f,y)=>{y?f():Cs(f)}),o.augmentJob=f=>{t&&(f.flags|=4),p&&(f.flags|=2,d&&(f.id=d.uid,f.i=d))};const _=gl(e,t,o);return Bn&&(c?c.push(_):l&&_()),_}function Ql(e,t,n){const r=this.proxy,s=je(e)?e.includes(".")?Wo(r,e):()=>r[e]:e.bind(r,r);let i;ve(t)?i=t:(i=t.handler,n=t);const a=Kn(this),o=Uo(s,i.bind(r),n);return a(),o}function Wo(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const ec=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ut(t)}Modifiers`]||e[`${Jt(t)}Modifiers`];function tc(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ie;let s=n;const i=t.startsWith("update:"),a=i&&ec(r,t.slice(7));a&&(a.trim&&(s=n.map(d=>je(d)?d.trim():d)),a.number&&(s=n.map(ar)));let o,l=r[o=Rr(t)]||r[o=Rr(ut(t))];!l&&i&&(l=r[o=Rr(Jt(t))]),l&&wt(l,e,6,s);const c=r[o+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,wt(c,e,6,s)}}function Vo(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let a={},o=!1;if(!ve(e)){const l=c=>{const d=Vo(c,t,!0);d&&(o=!0,Je(a,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!o?(Te(e)&&r.set(e,null),null):(me(i)?i.forEach(l=>a[l]=null):Je(a,i),Te(e)&&r.set(e,a),a)}function Sr(e,t){return!e||!mr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ee(e,t[0].toLowerCase()+t.slice(1))||Ee(e,Jt(t))||Ee(e,t))}function qs(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:o,emit:l,render:c,renderCache:d,props:p,data:_,setupState:f,ctx:y,inheritAttrs:h}=e,m=fr(e);let g,v;try{if(n.shapeFlag&4){const x=s||r,E=x;g=vt(c.call(E,x,d,p,f,_,y)),v=o}else{const x=t;g=vt(x.length>1?x(p,{attrs:o,slots:a,emit:l}):x(p,null)),v=t.props?o:nc(o)}}catch(x){Dn.length=0,br(x,e,1),g=Be(Bt)}let w=g;if(v&&h!==!1){const x=Object.keys(v),{shapeFlag:E}=w;x.length&&E&7&&(i&&x.some(ms)&&(v=rc(v,i)),w=dn(w,v,!1,!0))}return n.dirs&&(w=dn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&As(w,n.transition),g=w,fr(m),g}const nc=e=>{let t;for(const n in e)(n==="class"||n==="style"||mr(n))&&((t||(t={}))[n]=e[n]);return t},rc=(e,t)=>{const n={};for(const r in e)(!ms(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function sc(e,t,n){const{props:r,children:s,component:i}=e,{props:a,children:o,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Gs(r,a,c):!!a;if(l&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const _=d[p];if(a[_]!==r[_]&&!Sr(c,_))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?Gs(r,a,c):!0:!!a;return!1}function Gs(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Sr(n,i))return!0}return!1}function ic({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ko=e=>e.__isSuspense;function oc(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):bl(e)}const _e=Symbol.for("v-fgt"),Er=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),sr=Symbol.for("v-stc"),Dn=[];let st=null;function ae(e=!1){Dn.push(st=e?null:[])}function ac(){Dn.pop(),st=Dn[Dn.length-1]||null}let zn=1;function Js(e,t=!1){zn+=e,e<0&&st&&t&&(st.hasOnce=!0)}function Yo(e){return e.dynamicChildren=zn>0?st||ln:null,ac(),zn>0&&st&&st.push(e),e}function le(e,t,n,r,s,i){return Yo(se(e,t,n,r,s,i,!0))}function $n(e,t,n,r,s){return Yo(Be(e,t,n,r,s,!0))}function Nn(e){return e?e.__v_isVNode===!0:!1}function wn(e,t){return e.type===t.type&&e.key===t.key}const Xo=({key:e})=>e??null,ir=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||Me(e)||ve(e)?{i:Ve,r:e,k:t,f:!!n}:e:null);function se(e,t=null,n=null,r=0,s=null,i=e===_e?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xo(t),ref:t&&ir(t),scopeId:vo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ve};return o?(Is(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=je(n)?8:16),zn>0&&!a&&st&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&st.push(l),l}const Be=lc;function lc(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Eo)&&(e=Bt),Nn(e)){const o=dn(e,t,!0);return n&&Is(o,n),zn>0&&!i&&st&&(o.shapeFlag&6?st[st.indexOf(e)]=o:st.push(o)),o.patchFlag=-2,o}if(yc(e)&&(e=e.__vccOpts),t){t=cc(t);let{class:o,style:l}=t;o&&!je(o)&&(t.class=Ae(o)),Te(l)&&(Es(l)&&!me(l)&&(l=Je({},l)),t.style=nt(l))}const a=je(e)?1:Ko(e)?128:xl(e)?64:Te(e)?4:ve(e)?2:0;return se(e,t,n,r,s,a,i,!0)}function cc(e){return e?Es(e)||Po(e)?Je({},e):e:null}function dn(e,t,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:o,transition:l}=e,c=t?uc(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Xo(c),ref:t&&t.ref?n&&i?me(i)?i.concat(ir(t)):[i,ir(t)]:ir(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_e?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&As(d,l.clone(d)),d}function ns(e=" ",t=0){return Be(Er,null,e,t)}function Zo(e,t){const n=Be(sr,null,e);return n.staticCount=t,n}function Ce(e="",t=!1){return t?(ae(),$n(Bt,null,e)):Be(Bt,null,e)}function vt(e){return e==null||typeof e=="boolean"?Be(Bt):me(e)?Be(_e,null,e.slice()):Nn(e)?Tt(e):Be(Er,null,String(e))}function Tt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function Is(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Is(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Po(t)?t._ctx=Ve:s===3&&Ve&&(Ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ve(t)?(t={default:t,_ctx:Ve},n=32):(t=String(t),r&64?(n=16,t=[ns(t)]):n=8);e.children=t,e.shapeFlag|=n}function uc(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ae([t.class,r.class]));else if(s==="style")t.style=nt([t.style,r.style]);else if(mr(s)){const i=t[s],a=r[s];a&&i!==a&&!(me(i)&&i.includes(a))&&(t[s]=i?[].concat(i,a):a)}else s!==""&&(t[s]=r[s])}return t}function _t(e,t,n,r=null){wt(e,t,7,[n,r])}const fc=Lo();let dc=0;function hc(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||fc,i={uid:dc++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ki(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zo(r,s),emitsOptions:Vo(r,s),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:r.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=tc.bind(null,i),e.ce&&e.ce(i),i}let Ye=null,pr,rs;{const e=vr(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};pr=t("__VUE_INSTANCE_SETTERS__",n=>Ye=n),rs=t("__VUE_SSR_SETTERS__",n=>Bn=n)}const Kn=e=>{const t=Ye;return pr(e),e.scope.on(),()=>{e.scope.off(),pr(t)}},Qs=()=>{Ye&&Ye.scope.off(),pr(null)};function qo(e){return e.vnode.shapeFlag&4}let Bn=!1;function pc(e,t=!1,n=!1){t&&rs(t);const{props:r,children:s}=e.vnode,i=qo(e);jl(e,r,i,t),Vl(e,s,n);const a=i?mc(e,t):void 0;return t&&rs(!1),a}function mc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Rl);const{setup:r}=n;if(r){jt();const s=e.setupContext=r.length>1?gc(e):null,i=Kn(e),a=Vn(r,e,0,[e.props,s]),o=Bi(a);if(Ht(),i(),(o||e.sp)&&!fn(e)&&yo(e),o){if(a.then(Qs,Qs),t)return a.then(l=>{ei(e,l)}).catch(l=>{br(l,e,0)});e.asyncDep=a}else ei(e,a)}else Go(e)}function ei(e,t,n){ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Te(t)&&(e.setupState=ho(t)),Go(e)}function Go(e,t,n){const r=e.type;e.render||(e.render=r.render||yt);{const s=Kn(e);jt();try{Tl(e)}finally{Ht(),s()}}}const _c={get(e,t){return qe(e,"get",""),e[t]}};function gc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,_c),slots:e.slots,emit:e.emit,expose:t}}function Or(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ho(Os(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in An)return An[n](e)},has(t,n){return n in t||n in An}})):e.proxy}function vc(e,t=!0){return ve(e)?e.displayName||e.name:e.name||t&&e.__name}function yc(e){return ve(e)&&"__vccOpts"in e}const at=(e,t)=>ml(e,t,Bn);function Jo(e,t,n){const r=arguments.length;return r===2?Te(t)&&!me(t)?Nn(t)?Be(e,null,[t]):Be(e,t):Be(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Nn(n)&&(n=[n]),Be(e,t,n))}const bc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ss;const ti=typeof window<"u"&&window.trustedTypes;if(ti)try{ss=ti.createPolicy("vue",{createHTML:e=>e})}catch{}const Qo=ss?e=>ss.createHTML(e):e=>e,wc="http://www.w3.org/2000/svg",xc="http://www.w3.org/1998/Math/MathML",St=typeof document<"u"?document:null,ni=St&&St.createElement("template"),kc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?St.createElementNS(wc,e):t==="mathml"?St.createElementNS(xc,e):n?St.createElement(e,{is:n}):St.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>St.createTextNode(e),createComment:e=>St.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>St.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const a=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{ni.innerHTML=Qo(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const o=ni.content;if(r==="svg"||r==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Sc=Symbol("_vtc");function Ec(e,t,n){const r=e[Sc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ri=Symbol("_vod"),Oc=Symbol("_vsh"),Cc=Symbol(""),Ac=/(^|;)\s*display\s*:/;function Dc(e,t,n){const r=e.style,s=je(n);let i=!1;if(n&&!s){if(t)if(je(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&or(r,o,"")}else for(const a in t)n[a]==null&&or(r,a,"");for(const a in n)a==="display"&&(i=!0),or(r,a,n[a])}else if(s){if(t!==n){const a=r[Cc];a&&(n+=";"+a),r.cssText=n,i=Ac.test(n)}}else t&&e.removeAttribute("style");ri in e&&(e[ri]=i?r.display:"",e[Oc]&&(r.display="none"))}const si=/\s*!important$/;function or(e,t,n){if(me(n))n.forEach(r=>or(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Ic(e,t);si.test(n)?e.setProperty(Jt(r),n.replace(si,""),"important"):e[r]=n}}const ii=["Webkit","Moz","ms"],Br={};function Ic(e,t){const n=Br[t];if(n)return n;let r=ut(t);if(r!=="filter"&&r in e)return Br[t]=r;r=gr(r);for(let s=0;s<ii.length;s++){const i=ii[s]+r;if(i in e)return Br[t]=i}return t}const oi="http://www.w3.org/1999/xlink";function ai(e,t,n,r,s,i=Fa(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(oi,t.slice(6,t.length)):e.setAttributeNS(oi,t,n):n==null||i&&!Ui(n)?e.removeAttribute(t):e.setAttribute(t,i?"":ht(n)?String(n):n)}function li(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Qo(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=Ui(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(s||t)}function Ct(e,t,n,r){e.addEventListener(t,n,r)}function Lc(e,t,n,r){e.removeEventListener(t,n,r)}const ci=Symbol("_vei");function Rc(e,t,n,r,s=null){const i=e[ci]||(e[ci]={}),a=i[t];if(r&&a)a.value=r;else{const[o,l]=Tc(t);if(r){const c=i[t]=zc(r,s);Ct(e,o,c,l)}else a&&(Lc(e,o,a,l),i[t]=void 0)}}const ui=/(?:Once|Passive|Capture)$/;function Tc(e){let t;if(ui.test(e)){t={};let r;for(;r=e.match(ui);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jt(e.slice(2)),t]}let Fr=0;const Pc=Promise.resolve(),Mc=()=>Fr||(Pc.then(()=>Fr=0),Fr=Date.now());function zc(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;wt($c(r,n.value),t,5,[r])};return n.value=e,n.attached=Mc(),n}function $c(e,t){if(me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const fi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Nc=(e,t,n,r,s,i)=>{const a=s==="svg";t==="class"?Ec(e,r,a):t==="style"?Dc(e,n,r):mr(t)?ms(t)||Rc(e,t,n,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bc(e,t,r,a))?(li(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ai(e,t,r,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!je(r))?li(e,ut(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ai(e,t,r,a))};function Bc(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&fi(t)&&ve(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return fi(t)&&je(n)?!1:t in e}const Ft=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?n=>tr(t,n):t};function Fc(e){e.target.composing=!0}function di(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ct=Symbol("_assign"),on={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[ct]=Ft(s);const i=r||s.props&&s.props.type==="number";Ct(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;n&&(o=o.trim()),i&&(o=ar(o)),e[ct](o)}),n&&Ct(e,"change",()=>{e.value=e.value.trim()}),t||(Ct(e,"compositionstart",Fc),Ct(e,"compositionend",di),Ct(e,"change",di))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(e[ct]=Ft(a),e.composing)return;const o=(i||e.type==="number")&&!/^0\d/.test(e.value)?ar(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===l)||(e.value=l))}},jc={deep:!0,created(e,t,n){e[ct]=Ft(n),Ct(e,"change",()=>{const r=e._modelValue,s=hn(e),i=e.checked,a=e[ct];if(me(r)){const o=vs(r,s),l=o!==-1;if(i&&!l)a(r.concat(s));else if(!i&&l){const c=[...r];c.splice(o,1),a(c)}}else if(_n(r)){const o=new Set(r);i?o.add(s):o.delete(s),a(o)}else a(ea(e,i))})},mounted:hi,beforeUpdate(e,t,n){e[ct]=Ft(n),hi(e,t,n)}};function hi(e,{value:t,oldValue:n},r){e._modelValue=t;let s;if(me(t))s=vs(t,r.props.value)>-1;else if(_n(t))s=t.has(r.props.value);else{if(t===n)return;s=qt(t,ea(e,!0))}e.checked!==s&&(e.checked=s)}const is={created(e,{value:t},n){e.checked=qt(t,n.props.value),e[ct]=Ft(n),Ct(e,"change",()=>{e[ct](hn(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[ct]=Ft(r),t!==n&&(e.checked=qt(t,r.props.value))}},an={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=_n(t);Ct(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?ar(hn(a)):hn(a));e[ct](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,wr(()=>{e._assigning=!1})}),e[ct]=Ft(r)},mounted(e,{value:t}){pi(e,t)},beforeUpdate(e,t,n){e[ct]=Ft(n)},updated(e,{value:t}){e._assigning||pi(e,t)}};function pi(e,t){const n=e.multiple,r=me(t);if(!(n&&!r&&!_n(t))){for(let s=0,i=e.options.length;s<i;s++){const a=e.options[s],o=hn(a);if(n)if(r){const l=typeof o;l==="string"||l==="number"?a.selected=t.some(c=>String(c)===String(o)):a.selected=vs(t,o)>-1}else a.selected=t.has(o);else if(qt(hn(a),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function hn(e){return"_value"in e?e._value:e.value}function ea(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Hc=["ctrl","shift","alt","meta"],Uc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Hc.some(n=>e[`${n}Key`]&&!t.includes(n))},Wc=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<t.length;a++){const o=Uc[t[a]];if(o&&o(s,t))return}return e(s,...i)})},Vc=Je({patchProp:Nc},kc);let mi;function Kc(){return mi||(mi=Yl(Vc))}const Yc=(...e)=>{const t=Kc().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Zc(r);if(!s)return;const i=t._component;!ve(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,Xc(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function Xc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Zc(e){return je(e)?document.querySelector(e):e}var qc=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let ta;const Cr=e=>ta=e,na=Symbol();function os(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var In;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(In||(In={}));function Gc(){const e=Yi(!0),t=e.run(()=>he({}));let n=[],r=[];const s=Os({install(i){Cr(s),s._a=i,i.provide(na,s),i.config.globalProperties.$pinia=s,r.forEach(a=>n.push(a)),r=[]},use(i){return!this._a&&!qc?r.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const ra=()=>{};function _i(e,t,n,r=ra){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!n&&Xi()&&Ha(s),s}function nn(e,...t){e.slice().forEach(n=>{n(...t)})}const Jc=e=>e(),gi=Symbol(),jr=Symbol();function as(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];os(s)&&os(r)&&e.hasOwnProperty(n)&&!Me(r)&&!$t(r)?e[n]=as(s,r):e[n]=r}return e}const Qc=Symbol();function eu(e){return!os(e)||!e.hasOwnProperty(Qc)}const{assign:Lt}=Object;function tu(e){return!!(Me(e)&&e.effect)}function nu(e,t,n,r){const{state:s,actions:i,getters:a}=t,o=n.state.value[e];let l;function c(){o||(n.state.value[e]=s?s():{});const d=fl(n.state.value[e]);return Lt(d,i,Object.keys(a||{}).reduce((p,_)=>(p[_]=Os(at(()=>{Cr(n);const f=n._s.get(e);return a[_].call(f,f)})),p),{}))}return l=sa(e,c,t,n,r,!0),l}function sa(e,t,n={},r,s,i){let a;const o=Lt({actions:{}},n),l={deep:!0};let c,d,p=[],_=[],f;const y=r.state.value[e];!i&&!y&&(r.state.value[e]={}),he({});let h;function m(D){let A;c=d=!1,typeof D=="function"?(D(r.state.value[e]),A={type:In.patchFunction,storeId:e,events:f}):(as(r.state.value[e],D),A={type:In.patchObject,payload:D,storeId:e,events:f});const N=h=Symbol();wr().then(()=>{h===N&&(c=!0)}),d=!0,nn(p,A,r.state.value[e])}const g=i?function(){const{state:A}=n,N=A?A():{};this.$patch(te=>{Lt(te,N)})}:ra;function v(){a.stop(),p=[],_=[],r._s.delete(e)}const w=(D,A="")=>{if(gi in D)return D[jr]=A,D;const N=function(){Cr(r);const te=Array.from(arguments),R=[],V=[];function b(G){R.push(G)}function Z(G){V.push(G)}nn(_,{args:te,name:N[jr],store:E,after:b,onError:Z});let ce;try{ce=D.apply(this&&this.$id===e?this:E,te)}catch(G){throw nn(V,G),G}return ce instanceof Promise?ce.then(G=>(nn(R,G),G)).catch(G=>(nn(V,G),Promise.reject(G))):(nn(R,ce),ce)};return N[gi]=!0,N[jr]=A,N},x={_p:r,$id:e,$onAction:_i.bind(null,_),$patch:m,$reset:g,$subscribe(D,A={}){const N=_i(p,D,A.detached,()=>te()),te=a.run(()=>dt(()=>r.state.value[e],R=>{(A.flush==="sync"?d:c)&&D({storeId:e,type:In.direct,events:f},R)},Lt({},l,A)));return N},$dispose:v},E=Wn(x);r._s.set(e,E);const L=(r._a&&r._a.runWithContext||Jc)(()=>r._e.run(()=>(a=Yi()).run(()=>t({action:w}))));for(const D in L){const A=L[D];if(Me(A)&&!tu(A)||$t(A))i||(y&&eu(A)&&(Me(A)?A.value=y[D]:as(A,y[D])),r.state.value[e][D]=A);else if(typeof A=="function"){const N=w(A,D);L[D]=N,o.actions[D]=A}}return Lt(E,L),Lt(be(E),L),Object.defineProperty(E,"$state",{get:()=>r.state.value[e],set:D=>{m(A=>{Lt(A,D)})}}),r._p.forEach(D=>{Lt(E,a.run(()=>D({store:E,app:r._a,pinia:r,options:o})))}),y&&i&&n.hydrate&&n.hydrate(E.$state,y),c=!0,d=!0,E}/*! #__NO_SIDE_EFFECTS__ */function Ar(e,t,n){let r,s;const i=typeof t=="function";typeof e=="string"?(r=e,s=i?n:t):(s=e,r=e.id);function a(o,l){const c=Fl();return o=o||(c?it(na,null):null),o&&Cr(o),o=ta,o._s.has(r)||(i?sa(r,t,s,o):nu(r,s,o)),o._s.get(r)}return a.$id=r,a}const vi="tosho_user",Qt=Ar("userStore",()=>{let e=null;function t(){if(e)return e;const r=localStorage.getItem(vi);if(!r)return null;try{e=JSON.parse(r)}catch{e=null}return e}function n(r){return e=r,localStorage.setItem(vi,JSON.stringify(r)),r}return{get:t,set:n}}),ze={apiPath:"/api/",fileType:["any","directory","file","audio","video","image","binary","text","pdf","office"],indexedDBName:"tosho_db",timeouts:{sort:50,selectEvt:50,clearEvt:100,scrollEvt:100,scrollSave:500,offsetDebounce:50},sort:{id_asc:"id ↑",id_desc:"id ↓",name_asc:"name ↑",name_desc:"name ↓",crt_asc:"crt time ↑",crt_desc:"crt time ↓",upd_asc:"upd time ↑",upd_desc:"upd time ↓",rate_asc:"rate ↑",rate_desc:"rate ↓"},rate:{0:"&#xe69f;&#xe69f;&#xe69f;&#xe69f;&#xe69f;",1:"&#xe6b6;&#xe69f;&#xe69f;&#xe69f;&#xe69f;",2:"&#xe69e;&#xe69f;&#xe69f;&#xe69f;&#xe69f;",3:"&#xe69e;&#xe6b6;&#xe69f;&#xe69f;&#xe69f;",4:"&#xe69e;&#xe69e;&#xe69f;&#xe69f;&#xe69f;",5:"&#xe69e;&#xe69e;&#xe6b6;&#xe69f;&#xe69f;",6:"&#xe69e;&#xe69e;&#xe69e;&#xe69f;&#xe69f;",7:"&#xe69e;&#xe69e;&#xe69e;&#xe6b6;&#xe69f;",8:"&#xe69e;&#xe69e;&#xe69e;&#xe69e;&#xe69f;",9:"&#xe69e;&#xe69e;&#xe69e;&#xe69e;&#xe6b6;",10:"&#xe69e;&#xe69e;&#xe69e;&#xe69e;&#xe69e;"},rateMobile:{0:"☆☆☆☆☆",1:"※☆☆☆☆",2:"★☆☆☆☆",3:"★※☆☆☆",4:"★★☆☆☆",5:"★★※☆☆",6:"★★★☆☆",7:"★★★※☆",8:"★★★★☆",9:"★★★★※",10:"★★★★★"},listType:["detail","text","img"],playMode:["loop","single","shuffle"],ignoreFileType:["directory","subtitle"],onlyOffice:{enabled:!1,onlyofficeOrigin:"",jwtSecret:""},theme:[["default","./theme/default.css"],["light","./theme/light.css"],["solarized_dark","./theme/solarized_dark.css"],["solarized_light","./theme/solarized_light.css"],["warm","./theme/warm.css"]]};let Fn={set:null,close:null};const en=Ar("modalStore",()=>({set:ru,close:su,handleEvent:iu,simpleMsg:ou}));function ru(e){return Fn.set?Fn.set(e):null}function su(e){return Fn.close?Fn.close(e):null}function iu(e,t){return Fn[e]=t}function ou(e,t){return{title:e,text:t,w:320,h:100,minW:320,minH:100,allow_resize:!1,callback:{confirm:async function(n){}}}}function Oe(e,t,n){return new Promise((r,s)=>{let i;if(t instanceof FormData)i=t;else{i=new FormData;for(const c in t)Object.prototype.hasOwnProperty.call(t,c)&&i.append(c,t[c])}const a=new XMLHttpRequest;a.withCredentials=!0,a.onreadystatechange=function(){if(a.readyState!==4)return;if(a.status>=400)return cs(`${a.status}:${a.statusText}`);const c=JSON.parse(a.responseText);switch(console.info(c),c.code){case 10:ls(),r(!1);break;case 100:cs(c.msg),r(!1);break;default:r(c.data);break}},n&&n.upload&&(a.upload.onprogress=n.upload),a.open("POST",ze.apiPath+e);const l=Qt().get();l&&l.token&&a.setRequestHeader("Auth-Token",l.token),a.send(i)})}function ls(){console.info("throwLogin"),en().set({title:"login required",alpha:!0,key:"",single:!1,w:360,h:120,minW:360,minH:120,allow_resize:!1,allow_move:!0,allow_escape:!1,allow_fullscreen:!1,auto_focus:!0,form:[{type:"text",label:"username",key:"username"},{type:"text",label:"password",key:"password"}],callback:{login:async function(t){console.info(t);const n=await Oe("user/login",{username:t.content.form[0].value,password:t.content.form[1].value});if(!n)return!0;Qt().set(n),location.reload()}}})}function cs(e){en().set({title:"error",alpha:!1,key:"",single:!1,w:360,h:100,minW:360,minH:100,allow_resize:!1,allow_move:!0,allow_escape:!0,allow_fullscreen:!1,auto_focus:!0,text:e,callback:{close:n=>{}}})}function Mt(e){if(!e)return!1;let t=e;for(;;){if(t.tagName==="BODY")return!1;if(t.tagName==="HTML")return!1;if(t.tagName==="TEXTAREA")return!0;if(t.tagName==="INPUT")switch(t.type){case"input":case"date":case"datetime":case"datetime-local":case"file":case"number":case"password":case"search":case"text":case"time":case"tel":case"url":return!0}else{if(t.contentEditable&&t.contentEditable.toLowerCase()==="true")return!0;if(!t.parentElement)return!1}t=t.parentElement}return!1}function Sn(e){if(!e)return!1;let t=e;for(;;){if(t.classList.contains("modal_dom"))return!0;if(t.tagName=="BODY")return!1;if(t.tagName=="HTML")return!1;if(!t.parentElement)return!1;t=t.parentElement}return!1}const Hr="tosho_config_",gn=Ar("localConfigure",()=>{let e=he({});const t={};function n(a){if(a=Hr+a,e[a])return e[a];const o=localStorage.getItem(a);if(!o)return null;try{e[a]=JSON.parse(o)}catch{e[a]=null}return e[a]}function r(a,o,l){return a=Hr+a,l||(l=new Date().valueOf().toString(32)+Math.random().toString(32)),t[a]||(t[a]=new Map),t[a].set(l,o),l}function s(a,o){t[a]&&(t[a].delete(o),t[a].size==0&&delete t[a])}function i(a,o){a=Hr+a,e[a]=o,t[a]&&t[a].forEach(l=>l(o)),localStorage.setItem(a,JSON.stringify(o))}return{get:n,set:i,listen:r,release:s}}),au={class:"fr_header"},lu={class:"navi"},cu=["innerHTML"],uu={class:"user"},fu={class:"pointer"},du=We({__name:"Header",setup(e){const t=[{name:"Nas",meta:{cur:!0},path:"/"},{name:"Hyper",meta:{cur:!1},path:""},{name:"Router",meta:{cur:!1},path:""},{name:"Spider",meta:{cur:!1},path:""},{name:"Git",meta:{cur:!1},path:""},{name:"Torrent",meta:{cur:!1},path:""}],n=Qt();let r=n.get();function s(){n.set(null),location.reload()}const i=gn(),a=ze.theme;let o=i.get("theme")??"default";function l(){const d={};a.forEach(_=>{d[_[0]]=_[0]}),en().set({title:"theme configure",alpha:!0,key:"theme_configure",single:!0,w:360,h:160,minW:360,minH:160,allow_resize:!0,allow_move:!0,allow_escape:!0,allow_fullscreen:!1,auto_focus:!0,form:[{type:"radio",label:"theme name",key:"theme",options:d,value:o}],callback:{check:async _=>{console.info(_),o=_.content.form[0].value,c(o)}}})}function c(d){a.forEach(p=>{const _=p[0],f=p[1];if(_!==d)return;i.set("theme",_);const y=document.body.className.trim().split(" "),h=[];y.forEach(g=>{g&&g.length&&g.indexOf("theme_")!==0&&h.push(g)}),h.push("theme_"+d);const m=document.createElement("link");m.setAttribute("rel","stylesheet"),m.setAttribute("href",f),document.body.appendChild(m),document.body.className=h.join(" ")})}return c(o),(d,p)=>(ae(),le("div",au,[p[1]||(p[1]=se("div",{class:"logo"},"Hentai.",-1)),se("div",lu,[(ae(),le(_e,null,Ne(t,_=>{var f;return se("div",{key:_.name,class:Ae({active:(f=_.meta)==null?void 0:f.cur,pointer:1}),innerHTML:_.name},null,10,cu)}),64))]),se("div",uu,[xe(r)&&xe(r).id?(ae(),le(_e,{key:0},[se("div",fu,we(xe(r).name),1),se("ul",{class:"action pointer"},[se("li",{onClick:l},"theme"),se("li",{onClick:s},"logout")])],64)):(ae(),le("div",{key:1,class:"pointer",onClick:p[0]||(p[0]=(..._)=>xe(ls)&&xe(ls)(..._))},"login"))])]))}}),hu=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},pu=hu(du,[["__scopeId","data-v-f25df7f8"]]),mu="modulepreload",_u=function(e,t){return new URL(e,t).href},yi={},Kt=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=_u(c,r),c in yi)return;yi[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!r)for(let y=a.length-1;y>=0;y--){const h=a[y];if(h.href===c&&(!d||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":mu,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((y,h)=>{f.addEventListener("load",y),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const sn=typeof document<"u";function ia(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function gu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ia(e.default)}const Se=Object.assign;function Ur(e,t){const n={};for(const r in t){const s=t[r];n[r]=pt(s)?s.map(e):e(s)}return n}const Ln=()=>{},pt=Array.isArray,oa=/#/g,vu=/&/g,yu=/\//g,bu=/=/g,wu=/\?/g,aa=/\+/g,xu=/%5B/g,ku=/%5D/g,la=/%5E/g,Su=/%60/g,ca=/%7B/g,Eu=/%7C/g,ua=/%7D/g,Ou=/%20/g;function Ls(e){return encodeURI(""+e).replace(Eu,"|").replace(xu,"[").replace(ku,"]")}function Cu(e){return Ls(e).replace(ca,"{").replace(ua,"}").replace(la,"^")}function us(e){return Ls(e).replace(aa,"%2B").replace(Ou,"+").replace(oa,"%23").replace(vu,"%26").replace(Su,"`").replace(ca,"{").replace(ua,"}").replace(la,"^")}function Au(e){return us(e).replace(bu,"%3D")}function Du(e){return Ls(e).replace(oa,"%23").replace(wu,"%3F")}function Iu(e){return e==null?"":Du(e).replace(yu,"%2F")}function jn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Lu=/\/$/,Ru=e=>e.replace(Lu,"");function Wr(e,t,n="/"){let r,s={},i="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,o>-1?o:t.length),s=e(i)),o>-1&&(r=r||t.slice(0,o),a=t.slice(o,t.length)),r=zu(r??t,n),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:jn(a)}}function Tu(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function bi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Pu(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&pn(t.matched[r],n.matched[s])&&fa(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function fa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Mu(e[n],t[n]))return!1;return!0}function Mu(e,t){return pt(e)?wi(e,t):pt(t)?wi(t,e):e===t}function wi(e,t){return pt(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function zu(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,a,o;for(a=0;a<r.length;a++)if(o=r[a],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const Dt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Hn;(function(e){e.pop="pop",e.push="push"})(Hn||(Hn={}));var Rn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Rn||(Rn={}));function $u(e){if(!e)if(sn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ru(e)}const Nu=/^[^#]+#/;function Bu(e,t){return e.replace(Nu,"#")+t}function Fu(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Dr=()=>({left:window.scrollX,top:window.scrollY});function ju(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Fu(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function xi(e,t){return(history.state?history.state.position-t:-1)+e}const fs=new Map;function Hu(e,t){fs.set(e,t)}function Uu(e){const t=fs.get(e);return fs.delete(e),t}let Wu=()=>location.protocol+"//"+location.host;function da(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let o=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(o);return l[0]!=="/"&&(l="/"+l),bi(l,"")}return bi(n,e)+r+s}function Vu(e,t,n,r){let s=[],i=[],a=null;const o=({state:_})=>{const f=da(e,location),y=n.value,h=t.value;let m=0;if(_){if(n.value=f,t.value=_,a&&a===y){a=null;return}m=h?_.position-h.position:0}else r(f);s.forEach(g=>{g(n.value,y,{delta:m,type:Hn.pop,direction:m?m>0?Rn.forward:Rn.back:Rn.unknown})})};function l(){a=n.value}function c(_){s.push(_);const f=()=>{const y=s.indexOf(_);y>-1&&s.splice(y,1)};return i.push(f),f}function d(){const{history:_}=window;_.state&&_.replaceState(Se({},_.state,{scroll:Dr()}),"")}function p(){for(const _ of i)_();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:p}}function ki(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Dr():null}}function Ku(e){const{history:t,location:n}=window,r={value:da(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,d){const p=e.indexOf("#"),_=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+l:Wu()+e+l;try{t[d?"replaceState":"pushState"](c,"",_),s.value=c}catch(f){console.error(f),n[d?"replace":"assign"](_)}}function a(l,c){const d=Se({},t.state,ki(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,d,!0),r.value=l}function o(l,c){const d=Se({},s.value,t.state,{forward:l,scroll:Dr()});i(d.current,d,!0);const p=Se({},ki(r.value,l,null),{position:d.position+1},c);i(l,p,!1),r.value=l}return{location:r,state:s,push:o,replace:a}}function Yu(e){e=$u(e);const t=Ku(e),n=Vu(e,t.state,t.location,t.replace);function r(i,a=!0){a||n.pauseListeners(),history.go(i)}const s=Se({location:"",base:e,go:r,createHref:Bu.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Xu(e){return typeof e=="string"||e&&typeof e=="object"}function ha(e){return typeof e=="string"||typeof e=="symbol"}const pa=Symbol("");var Si;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Si||(Si={}));function mn(e,t){return Se(new Error,{type:e,[pa]:!0},t)}function kt(e,t){return e instanceof Error&&pa in e&&(t==null||!!(e.type&t))}const Ei="[^/]+?",Zu={sensitive:!1,strict:!1,start:!0,end:!0},qu=/[.+*?^${}()[\]/\\]/g;function Gu(e,t){const n=Se({},Zu,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const d=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let p=0;p<c.length;p++){const _=c[p];let f=40+(n.sensitive?.25:0);if(_.type===0)p||(s+="/"),s+=_.value.replace(qu,"\\$&"),f+=40;else if(_.type===1){const{value:y,repeatable:h,optional:m,regexp:g}=_;i.push({name:y,repeatable:h,optional:m});const v=g||Ei;if(v!==Ei){f+=10;try{new RegExp(`(${v})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${y}" (${v}): `+x.message)}}let w=h?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;p||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),s+=w,f+=20,m&&(f+=-8),h&&(f+=-20),v===".*"&&(f+=-50)}d.push(f)}r.push(d)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function o(c){const d=c.match(a),p={};if(!d)return null;for(let _=1;_<d.length;_++){const f=d[_]||"",y=i[_-1];p[y.name]=f&&y.repeatable?f.split("/"):f}return p}function l(c){let d="",p=!1;for(const _ of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const f of _)if(f.type===0)d+=f.value;else if(f.type===1){const{value:y,repeatable:h,optional:m}=f,g=y in c?c[y]:"";if(pt(g)&&!h)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const v=pt(g)?g.join("/"):g;if(!v)if(m)_.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${y}"`);d+=v}}return d||"/"}return{re:a,score:r,keys:i,parse:o,stringify:l}}function Ju(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ma(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Ju(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Oi(r))return 1;if(Oi(s))return-1}return s.length-r.length}function Oi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Qu={type:0,value:""},ef=/[a-zA-Z0-9_]/;function tf(e){if(!e)return[[]];if(e==="/")return[[Qu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,r=n;const s=[];let i;function a(){i&&s.push(i),i=[]}let o=0,l,c="",d="";function p(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function _(){c+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&p(),a()):l===":"?(p(),n=1):_();break;case 4:_(),n=r;break;case 1:l==="("?n=2:ef.test(l)?_():(p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:p(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),p(),a(),s}function nf(e,t,n){const r=Gu(tf(e.path),n),s=Se(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function rf(e,t){const n=[],r=new Map;t=Ii({strict:!1,end:!0,sensitive:!1},t);function s(p){return r.get(p)}function i(p,_,f){const y=!f,h=Ai(p);h.aliasOf=f&&f.record;const m=Ii(t,p),g=[h];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const E of x)g.push(Ai(Se({},h,{components:f?f.record.components:h.components,path:E,aliasOf:f?f.record:h})))}let v,w;for(const x of g){const{path:E}=x;if(_&&E[0]!=="/"){const z=_.record.path,L=z[z.length-1]==="/"?"":"/";x.path=_.record.path+(E&&L+E)}if(v=nf(x,_,m),f?f.alias.push(v):(w=w||v,w!==v&&w.alias.push(v),y&&p.name&&!Di(v)&&a(p.name)),_a(v)&&l(v),h.children){const z=h.children;for(let L=0;L<z.length;L++)i(z[L],v,f&&f.children[L])}f=f||v}return w?()=>{a(w)}:Ln}function a(p){if(ha(p)){const _=r.get(p);_&&(r.delete(p),n.splice(n.indexOf(_),1),_.children.forEach(a),_.alias.forEach(a))}else{const _=n.indexOf(p);_>-1&&(n.splice(_,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function o(){return n}function l(p){const _=af(p,n);n.splice(_,0,p),p.record.name&&!Di(p)&&r.set(p.record.name,p)}function c(p,_){let f,y={},h,m;if("name"in p&&p.name){if(f=r.get(p.name),!f)throw mn(1,{location:p});m=f.record.name,y=Se(Ci(_.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),p.params&&Ci(p.params,f.keys.map(w=>w.name))),h=f.stringify(y)}else if(p.path!=null)h=p.path,f=n.find(w=>w.re.test(h)),f&&(y=f.parse(h),m=f.record.name);else{if(f=_.name?r.get(_.name):n.find(w=>w.re.test(_.path)),!f)throw mn(1,{location:p,currentLocation:_});m=f.record.name,y=Se({},_.params,p.params),h=f.stringify(y)}const g=[];let v=f;for(;v;)g.unshift(v.record),v=v.parent;return{name:m,path:h,params:y,matched:g,meta:of(g)}}e.forEach(p=>i(p));function d(){n.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:a,clearRoutes:d,getRoutes:o,getRecordMatcher:s}}function Ci(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Ai(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:sf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function sf(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Di(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function of(e){return e.reduce((t,n)=>Se(t,n.meta),{})}function Ii(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function af(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;ma(e,t[i])<0?r=i:n=i+1}const s=lf(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function lf(e){let t=e;for(;t=t.parent;)if(_a(t)&&ma(e,t)===0)return t}function _a({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function cf(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(aa," "),a=i.indexOf("="),o=jn(a<0?i:i.slice(0,a)),l=a<0?null:jn(i.slice(a+1));if(o in t){let c=t[o];pt(c)||(c=t[o]=[c]),c.push(l)}else t[o]=l}return t}function Li(e){let t="";for(let n in e){const r=e[n];if(n=Au(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(pt(r)?r.map(i=>i&&us(i)):[r&&us(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function uf(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=pt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const ga=Symbol(""),Ri=Symbol(""),Ir=Symbol(""),Rs=Symbol(""),ds=Symbol("");function xn(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ff(e,t,n){const r=()=>{e[t].delete(n)};mt(r),xo(r),wo(()=>{e[t].add(n)}),e[t].add(n)}function ip(e){const t=it(ga,{}).value;t&&ff(t,"updateGuards",e)}function Pt(e,t,n,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const c=_=>{_===!1?l(mn(4,{from:n,to:t})):_ instanceof Error?l(_):Xu(_)?l(mn(2,{from:t,to:_})):(a&&r.enterCallbacks[s]===a&&typeof _=="function"&&a.push(_),o())},d=i(()=>e.call(r&&r.instances[s],t,n,c));let p=Promise.resolve(d);e.length<3&&(p=p.then(c)),p.catch(_=>l(_))})}function Vr(e,t,n,r,s=i=>i()){const i=[];for(const a of e)for(const o in a.components){let l=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(ia(l)){const d=(l.__vccOpts||l)[t];d&&i.push(Pt(d,n,r,a,o,s))}else{let c=l();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const p=gu(d)?d.default:d;a.mods[o]=d,a.components[o]=p;const f=(p.__vccOpts||p)[t];return f&&Pt(f,n,r,a,o,s)()}))}}return i}function Ti(e){const t=it(Ir),n=it(Rs),r=at(()=>{const l=xe(e.to);return t.resolve(l)}),s=at(()=>{const{matched:l}=r.value,{length:c}=l,d=l[c-1],p=n.matched;if(!d||!p.length)return-1;const _=p.findIndex(pn.bind(null,d));if(_>-1)return _;const f=Pi(l[c-2]);return c>1&&Pi(d)===f&&p[p.length-1].path!==f?p.findIndex(pn.bind(null,l[c-2])):_}),i=at(()=>s.value>-1&&_f(n.params,r.value.params)),a=at(()=>s.value>-1&&s.value===n.matched.length-1&&fa(n.params,r.value.params));function o(l={}){if(mf(l)){const c=t[xe(e.replace)?"replace":"push"](xe(e.to)).catch(Ln);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:at(()=>r.value.href),isActive:i,isExactActive:a,navigate:o}}function df(e){return e.length===1?e[0]:e}const hf=We({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ti,setup(e,{slots:t}){const n=Wn(Ti(e)),{options:r}=it(Ir),s=at(()=>({[Mi(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Mi(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&df(t.default(n));return e.custom?i:Jo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),pf=hf;function mf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _f(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!pt(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function Pi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Mi=(e,t,n)=>e??t??n,gf=We({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=it(ds),s=at(()=>e.route||r.value),i=it(Ri,0),a=at(()=>{let c=xe(i);const{matched:d}=s.value;let p;for(;(p=d[c])&&!p.components;)c++;return c}),o=at(()=>s.value.matched[a.value]);rr(Ri,at(()=>a.value+1)),rr(ga,o),rr(ds,s);const l=he();return dt(()=>[l.value,o.value,e.name],([c,d,p],[_,f,y])=>{d&&(d.instances[p]=c,f&&f!==d&&c&&c===_&&(d.leaveGuards.size||(d.leaveGuards=f.leaveGuards),d.updateGuards.size||(d.updateGuards=f.updateGuards))),c&&d&&(!f||!pn(d,f)||!_)&&(d.enterCallbacks[p]||[]).forEach(h=>h(c))},{flush:"post"}),()=>{const c=s.value,d=e.name,p=o.value,_=p&&p.components[d];if(!_)return zi(n.default,{Component:_,route:c});const f=p.props[d],y=f?f===!0?c.params:typeof f=="function"?f(c):f:null,m=Jo(_,Se({},y,t,{onVnodeUnmounted:g=>{g.component.isUnmounted&&(p.instances[d]=null)},ref:l}));return zi(n.default,{Component:m,route:c})||m}}});function zi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vf=gf;function yf(e){const t=rf(e.routes,e),n=e.parseQuery||cf,r=e.stringifyQuery||Li,s=e.history,i=xn(),a=xn(),o=xn(),l=ll(Dt);let c=Dt;sn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Ur.bind(null,q=>""+q),p=Ur.bind(null,Iu),_=Ur.bind(null,jn);function f(q,$){let j,Q;return ha(q)?(j=t.getRecordMatcher(q),Q=$):Q=q,t.addRoute(Q,j)}function y(q){const $=t.getRecordMatcher(q);$&&t.removeRoute($)}function h(){return t.getRoutes().map(q=>q.record)}function m(q){return!!t.getRecordMatcher(q)}function g(q,$){if($=Se({},$||l.value),typeof q=="string"){const u=Wr(n,q,$.path),P=t.resolve({path:u.path},$),T=s.createHref(u.fullPath);return Se(u,P,{params:_(P.params),hash:jn(u.hash),redirectedFrom:void 0,href:T})}let j;if(q.path!=null)j=Se({},q,{path:Wr(n,q.path,$.path).path});else{const u=Se({},q.params);for(const P in u)u[P]==null&&delete u[P];j=Se({},q,{params:p(u)}),$.params=p($.params)}const Q=t.resolve(j,$),oe=q.hash||"";Q.params=d(_(Q.params));const C=Tu(r,Se({},q,{hash:Cu(oe),path:Q.path})),O=s.createHref(C);return Se({fullPath:C,hash:oe,query:r===Li?uf(q.query):q.query||{}},Q,{redirectedFrom:void 0,href:O})}function v(q){return typeof q=="string"?Wr(n,q,l.value.path):Se({},q)}function w(q,$){if(c!==q)return mn(8,{from:$,to:q})}function x(q){return L(q)}function E(q){return x(Se(v(q),{replace:!0}))}function z(q){const $=q.matched[q.matched.length-1];if($&&$.redirect){const{redirect:j}=$;let Q=typeof j=="function"?j(q):j;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=v(Q):{path:Q},Q.params={}),Se({query:q.query,hash:q.hash,params:Q.path!=null?{}:q.params},Q)}}function L(q,$){const j=c=g(q),Q=l.value,oe=q.state,C=q.force,O=q.replace===!0,u=z(j);if(u)return L(Se(v(u),{state:typeof u=="object"?Se({},oe,u.state):oe,force:C,replace:O}),$||j);const P=j;P.redirectedFrom=$;let T;return!C&&Pu(r,Q,j)&&(T=mn(16,{to:P,from:Q}),H(Q,Q,!0,!1)),(T?Promise.resolve(T):N(P,Q)).catch(k=>kt(k)?kt(k,2)?k:ie(k):J(k,P,Q)).then(k=>{if(k){if(kt(k,2))return L(Se({replace:O},v(k.to),{state:typeof k.to=="object"?Se({},oe,k.to.state):oe,force:C}),$||P)}else k=R(P,Q,!0,O,oe);return te(P,Q,k),k})}function D(q,$){const j=w(q,$);return j?Promise.reject(j):Promise.resolve()}function A(q){const $=Y.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(q):q()}function N(q,$){let j;const[Q,oe,C]=bf(q,$);j=Vr(Q.reverse(),"beforeRouteLeave",q,$);for(const u of Q)u.leaveGuards.forEach(P=>{j.push(Pt(P,q,$))});const O=D.bind(null,q,$);return j.push(O),fe(j).then(()=>{j=[];for(const u of i.list())j.push(Pt(u,q,$));return j.push(O),fe(j)}).then(()=>{j=Vr(oe,"beforeRouteUpdate",q,$);for(const u of oe)u.updateGuards.forEach(P=>{j.push(Pt(P,q,$))});return j.push(O),fe(j)}).then(()=>{j=[];for(const u of C)if(u.beforeEnter)if(pt(u.beforeEnter))for(const P of u.beforeEnter)j.push(Pt(P,q,$));else j.push(Pt(u.beforeEnter,q,$));return j.push(O),fe(j)}).then(()=>(q.matched.forEach(u=>u.enterCallbacks={}),j=Vr(C,"beforeRouteEnter",q,$,A),j.push(O),fe(j))).then(()=>{j=[];for(const u of a.list())j.push(Pt(u,q,$));return j.push(O),fe(j)}).catch(u=>kt(u,8)?u:Promise.reject(u))}function te(q,$,j){o.list().forEach(Q=>A(()=>Q(q,$,j)))}function R(q,$,j,Q,oe){const C=w(q,$);if(C)return C;const O=$===Dt,u=sn?history.state:{};j&&(Q||O?s.replace(q.fullPath,Se({scroll:O&&u&&u.scroll},oe)):s.push(q.fullPath,oe)),l.value=q,H(q,$,j,O),ie()}let V;function b(){V||(V=s.listen((q,$,j)=>{if(!ee.listening)return;const Q=g(q),oe=z(Q);if(oe){L(Se(oe,{replace:!0,force:!0}),Q).catch(Ln);return}c=Q;const C=l.value;sn&&Hu(xi(C.fullPath,j.delta),Dr()),N(Q,C).catch(O=>kt(O,12)?O:kt(O,2)?(L(Se(v(O.to),{force:!0}),Q).then(u=>{kt(u,20)&&!j.delta&&j.type===Hn.pop&&s.go(-1,!1)}).catch(Ln),Promise.reject()):(j.delta&&s.go(-j.delta,!1),J(O,Q,C))).then(O=>{O=O||R(Q,C,!1),O&&(j.delta&&!kt(O,8)?s.go(-j.delta,!1):j.type===Hn.pop&&kt(O,20)&&s.go(-1,!1)),te(Q,C,O)}).catch(Ln)}))}let Z=xn(),ce=xn(),G;function J(q,$,j){ie(q);const Q=ce.list();return Q.length?Q.forEach(oe=>oe(q,$,j)):console.error(q),Promise.reject(q)}function F(){return G&&l.value!==Dt?Promise.resolve():new Promise((q,$)=>{Z.add([q,$])})}function ie(q){return G||(G=!q,b(),Z.list().forEach(([$,j])=>q?j(q):$()),Z.reset()),q}function H(q,$,j,Q){const{scrollBehavior:oe}=e;if(!sn||!oe)return Promise.resolve();const C=!j&&Uu(xi(q.fullPath,0))||(Q||!j)&&history.state&&history.state.scroll||null;return wr().then(()=>oe(q,$,C)).then(O=>O&&ju(O)).catch(O=>J(O,q,$))}const M=q=>s.go(q);let K;const Y=new Set,ee={currentRoute:l,listening:!0,addRoute:f,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:h,resolve:g,options:e,push:x,replace:E,go:M,back:()=>M(-1),forward:()=>M(1),beforeEach:i.add,beforeResolve:a.add,afterEach:o.add,onError:ce.add,isReady:F,install(q){const $=this;q.component("RouterLink",pf),q.component("RouterView",vf),q.config.globalProperties.$router=$,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>xe(l)}),sn&&!K&&l.value===Dt&&(K=!0,x(s.location).catch(oe=>{}));const j={};for(const oe in Dt)Object.defineProperty(j,oe,{get:()=>l.value[oe],enumerable:!0});q.provide(Ir,$),q.provide(Rs,co(j)),q.provide(ds,l);const Q=q.unmount;Y.add(q),q.unmount=function(){Y.delete(q),Y.size<1&&(c=Dt,V&&V(),V=null,l.value=Dt,K=!1,G=!1),Q()}}};function fe(q){return q.reduce(($,j)=>$.then(()=>A(j)),Promise.resolve())}return ee}function bf(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const o=t.matched[a];o&&(e.matched.find(c=>pn(c,o))?r.push(o):n.push(o));const l=e.matched[a];l&&(t.matched.find(c=>pn(c,l))||s.push(l))}return[n,r,s]}function wf(){return it(Ir)}function xf(e){return it(Rs)}const va=[{path:"/",name:"Directory",component:()=>Kt(()=>import("./FileView_N-DAQD3yDP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),meta:{icon:"sysIcon_folderopen",deny_user:!1,deny_guest:!1}},{path:"/favourite",name:"Favourite",component:()=>Kt(()=>import("./Favourite-C-Tt4P56.js"),__vite__mapDeps([8,3,2,4,5,6,9]),import.meta.url),meta:{icon:"sysIcon_star-o",deny_user:!1,deny_guest:!0}},{path:"/recycle",name:"Recycle",component:()=>Kt(()=>import("./FileView_R-CgTtcwCM.js"),__vite__mapDeps([10,1,2,3,4,5,6,7]),import.meta.url),meta:{icon:"sysIcon_delete",deny_user:!1,deny_guest:!0}},{path:"/tag",name:"Tag",component:()=>Kt(()=>import("./TagView-BGh9Qx4k.js"),__vite__mapDeps([11,3,4,5,12]),import.meta.url),meta:{icon:"sysIcon_tagso",deny_user:!1,deny_guest:!0}},{path:"/group",name:"User",component:()=>Kt(()=>import("./UserView-CYdyZiRT.js"),__vite__mapDeps([13,3,4,5,14]),import.meta.url),meta:{icon:"sysIcon_team",deny_user:!0,deny_guest:!0}},{path:"/log",name:"ProcessLog",component:()=>Kt(()=>import("./LogView-D9jHJSdT.js"),__vite__mapDeps([15,16]),import.meta.url),meta:{icon:"sysIcon_filetext",deny_user:!0,deny_guest:!0}},{path:"/setting",name:"Setting",component:()=>Kt(()=>import("./SettingView-BLMp1QaB.js"),__vite__mapDeps([17,3,18]),import.meta.url),meta:{icon:"sysIcon_setting",deny_user:!0,deny_guest:!0}}],kf=yf({history:Yu("./"),routes:va}),Sf=["onClick"],Ef={class:"content"},Of=We({__name:"NaviContent",props:{depth:{},records:{}},setup(e){const t=e;t.depth&&t.depth;const n=t.records,r=wf(),s=xf();async function i(l){console.info("go",l);const c=await r.push(l.path);console.info(c)}const o=Qt().get();return(l,c)=>(ae(!0),le(_e,null,Ne(xe(n),(d,p)=>{var _,f,y,h,m,g;return ae(),le(_e,{key:p},[(_=d.meta)!=null&&_.hide?(ae(),le(_e,{key:0},[],64)):(f=d.meta)!=null&&f.deny_guest&&((y=xe(o))==null?void 0:y.group.title)=="guest"?(ae(),le(_e,{key:1},[],64)):(h=d.meta)!=null&&h.deny_user&&!((m=xe(o))!=null&&m.group.admin)?(ae(),le(_e,{key:2},[],64)):(ae(),le("p",{key:3,onClick:v=>i(d),class:Ae({title:!0,active:d.path===xe(s).path})},[se("span",{class:Ae(["icon","sysIcon",(g=d.meta)==null?void 0:g.icon])},null,2),se("span",Ef,we(d.name),1)],10,Sf))],64)}),128))}}),Cf=We({__name:"Navi",setup(e){return(t,n)=>(ae(),le("div",{class:Ae(["fr_navi",{folded:!1}])},[Be(Of,{records:xe(va),depth:1},null,8,["records"])]))}}),Gn=new Map,Pe={send:function(e){const t=new XMLHttpRequest;t.withCredentials=!!e.withCredentials;{if(e.get instanceof Array){const s={};for(let i=0;i<e.get.length;i++)s[e.get[i].k]=e.get[i].v;e.get=s}let n=e.path.split(/#/ig);n=n[0].split(/\?/ig),(n.length===1||n[n.length-1].length===0)&&(e.path+="?");let r=0;for(const s in e.get)Object.prototype.hasOwnProperty.call(e.get,s)&&(r++!==0&&(e.path+="&"),e.path+=`${s}=${e.get[s]}`)}if(e.post instanceof Array){const n=new FormData;for(let r=0;r<e.post.length;r++)n.append(e.post[r].k,e.post[r].v);e.post=n}else if(typeof e.post!="string"){if(!(e.post instanceof FormData)){const n=new FormData;let r=!1;for(const s in e.post)Object.prototype.hasOwnProperty.call(e.post,s)&&(r=!0,n.append(s,e.post[s]));r&&(e.post=n)}}if(e.method||(e.method="get"),e.post&&(e.method="post"),e.method=e.method.toLocaleUpperCase(),e.header instanceof Array){const n={};for(let r=0;r<e.header.length;r++){const s=e.header[r].indexOf(":");s!==-1&&(n[e.header[r].slice(0,s).trim()]=e.header[r].slice(s+1).trim())}e.header=n}t.onreadystatechange=function(){if(t.readyState===4&&e.async)return t.status<400?e.success?e.success(t.responseText,t.status):!0:e.error?e.error(t.responseText,t.status):!1},e.onUploadProgress&&(t.upload.onprogress=e.onUploadProgress),e.onProgress&&(t.onprogress=e.onProgress),t.open(e.method,e.path,!!e.async);for(const n in e.header)Object.prototype.hasOwnProperty.call(e.header,n)&&t.setRequestHeader(n,e.header[n]);return e.method==="GET"?t.send():t.send(e.post),e.async?t:t.responseText},mergeArray:function(...e){const t={};for(let n=0;n<e.length;n++)for(const r in e[n])Object.prototype.hasOwnProperty.call(e[n],r)&&(t[r]=e[n][r]);return t},explode:function(e,t,n){return e.split(t,n)},implode:function(e,t){t||(t=",");let n="";for(let r=0;r<e.length;r++)n+=e[r],r!==e.length-1&&(n+=t);return n},removeVal:function(e,t){if(typeof t=="string")t=[t];else if(typeof t!="object"||!t.length)return[];const n=e.slice();for(let r=0;r<t.length;r++)for(let s=0;s<n.length;s++)n[s]===t[r]&&(n.splice(s,1),--s);return n},sort2DTable:function(e,t,n,r){return e.sort(function(s,i){return n?r?s[t]-i[t]:i[t]-s[t]:r?s[t].localeCompare(i[t]):i[t].localeCompare(s[t])})},toMap:function(e,t,n){const r=new Map;return e.forEach(s=>{n&&n(s),r.set(s[t],s)}),r},setCookie:function(e,t,n,r){console.warn("setCookie");const s=new Date;s.setDate(s.getDate()+n),document.cookie=e+"="+escape(t)+";"+(n==null?"":"expires="+s.toUTCString())+";"+(r==null?"":";path="+r)+";"},getCookie:function(e){if(console.info(document.cookie),document.cookie.length>0){let t=document.cookie.indexOf(e+"=");if(t!==-1){t=t+e.length+1;let n=document.cookie.indexOf(";",t);return n===-1&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},getRequests:function(){const e=location.search,t={};if(e.indexOf("?")!==-1){const r=e.substr(1).split("&");for(let s=0;s<r.length;s++){const i=r[s].split("=");i.length===2&&(t[i[0]]=unescape(i[1]))}}return t},mergeRequests:function(e){const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n+"="+e[n]);return Pe.implode(t,"&")},trim:function(e,t){t||(t="\\s");const n="^["+t+"]*(.*?)["+t+"]*$";return e.replace(new RegExp(n,"igm"),"$1")},prefix:function(e,t,n){return(Array(t).join(n)+e).slice(-t)},encodeGBKurl:function(e){const t=document.createElement("img");function n(r){return r?(t.src="nothing.action?separator="+r,t.src.split("?separator=").pop()):""}return e.replace(/([^\x00-\xff]+)|([\x00-\xff]+)/g,function(r,s,i){return n(s)+encodeURIComponent(i||"")})},getUrlParam:function(e){const t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substring(1).match(t);return n!=null?unescape(n[2]):null},randStr:function(e,t){e=e||32;const n=t||"abcdefghijklmnopqrstuvwxyz0123456789",r=n.length;let s="";for(let i=0;i<e;i++)s+=n.charAt(Math.floor(Math.random()*r));return s},randInt:function(e,t){const n=Math.random(),r=e;return e>t&&(e=t,t=r),Math.floor(e+n*(t-e))},kmgt:function(e,t){typeof e!="number"&&(e=parseFloat(e)),t||(t=0);const n=e<0;n&&(t=-1*t);let r;return e<1e3?r=e.toFixed(t):e<1e3*1e3?r=(e/1e3).toFixed(t)+" K":e<1e3*1e3*1e3?r=(e/(1e3*1e3)).toFixed(t)+" M":r=(e/(1e3*1e3*1e3)).toFixed(t)+" G",(n?"-":"")+r},nodeOffsetX:function(e){let t=e.offsetLeft?e.offsetLeft:0;return e.offsetParent&&(t+=this.nodeOffsetX(e.offsetParent)),t},nodeOffsetY:function(e){let t=e.offsetTop?e.offsetTop:0;return e.offsetParent&&(t+=this.nodeOffsetY(e.offsetParent)),t},nodeOffsetXY:function(e){let t=e.offsetLeft?e.offsetLeft:0,n=e.offsetTop?e.offsetTop:0;if(e.offsetParent){let{x:r,y:s}=this.nodeOffsetXY(e.offsetParent);t+=r,n+=s}return{x:t,y:n}},isEmpty:function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1},copyObject:function(e){return JSON.parse(JSON.stringify(e))},toggleClass:function(e,t){const n=e.className;if(!n||!n.trim().length){e.className=t;return}const r=n.split(" ");let s=!1;for(let i=0;i<r.length;i++)r[i]===t&&(r.splice(i,1),s=!0);s||r.push(t),e.className=Array.prototype.join.call(r," ")},template:function(e,t){let n=e;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.replace("{"+r+"}",t[r]);return n},debounce:function(e,t,n){const r=Gn.get(n);r&&(clearTimeout(r),Gn.delete(n));const s=setTimeout(()=>{Gn.delete(n),e()},t);Gn.set(n,s)}};let hs=null;const ya=Ar("useContext",()=>({register:Af,trigger:Df}));function Af(e){hs=e}function Df(e,t){hs&&hs(e,t)}var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qn(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wa={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,i){function a(c,d){if(!s[c]){if(!r[c]){var p=typeof Qn=="function"&&Qn;if(!d&&p)return p(c,!0);if(o)return o(c,!0);var _=new Error("Cannot find module '"+c+"'");throw _.code="MODULE_NOT_FOUND",_}var f=s[c]={exports:{}};r[c][0].call(f.exports,function(y){var h=r[c][1][y];return a(h||y)},f,f.exports,n,r,s,i)}return s[c].exports}for(var o=typeof Qn=="function"&&Qn,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(n,r,s){var i=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(l){for(var c,d,p,_,f,y,h,m=[],g=0,v=l.length,w=v,x=i.getTypeOf(l)!=="string";g<l.length;)w=v-g,p=x?(c=l[g++],d=g<v?l[g++]:0,g<v?l[g++]:0):(c=l.charCodeAt(g++),d=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),_=c>>2,f=(3&c)<<4|d>>4,y=1<w?(15&d)<<2|p>>6:64,h=2<w?63&p:64,m.push(o.charAt(_)+o.charAt(f)+o.charAt(y)+o.charAt(h));return m.join("")},s.decode=function(l){var c,d,p,_,f,y,h=0,m=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|w):new Array(0|w);h<l.length;)c=o.indexOf(l.charAt(h++))<<2|(_=o.indexOf(l.charAt(h++)))>>4,d=(15&_)<<4|(f=o.indexOf(l.charAt(h++)))>>2,p=(3&f)<<6|(y=o.indexOf(l.charAt(h++))),v[m++]=c,f!==64&&(v[m++]=d),y!==64&&(v[m++]=p);return v}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(d,p,_,f,y){this.compressedSize=d,this.uncompressedSize=p,this.crc32=_,this.compression=f,this.compressedContent=y}c.prototype={getContentWorker:function(){var d=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return d.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(d,p,_){return d.pipe(new o).pipe(new l("uncompressedSize")).pipe(p.compressWorker(_)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(c,d,p,_){var f=a,y=_+p;c^=-1;for(var h=_;h<y;h++)c=c>>>8^f[255&(c^d[h])];return-1^c}(0|l,o,o.length,0):function(c,d,p,_){var f=a,y=_+p;c^=-1;for(var h=_;h<y;h++)c=c>>>8^f[255&(c^d.charCodeAt(h))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),c=i?"uint8array":"array";function d(p,_){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=_,this.meta={}}s.magic="\b\0",o.inherits(d,l),d.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,p.data),!1)},d.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(_){p.push({data:_,meta:p.meta})}},s.compressWorker=function(p){return new d("Deflate",p)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(f,y){var h,m="";for(h=0;h<y;h++)m+=String.fromCharCode(255&f),f>>>=8;return m}function a(f,y,h,m,g,v){var w,x,E=f.file,z=f.compression,L=v!==c.utf8encode,D=o.transformTo("string",v(E.name)),A=o.transformTo("string",c.utf8encode(E.name)),N=E.comment,te=o.transformTo("string",v(N)),R=o.transformTo("string",c.utf8encode(N)),V=A.length!==E.name.length,b=R.length!==N.length,Z="",ce="",G="",J=E.dir,F=E.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};y&&!h||(ie.crc32=f.crc32,ie.compressedSize=f.compressedSize,ie.uncompressedSize=f.uncompressedSize);var H=0;y&&(H|=8),L||!V&&!b||(H|=2048);var M=0,K=0;J&&(M|=16),g==="UNIX"?(K=798,M|=function(ee,fe){var q=ee;return ee||(q=fe?16893:33204),(65535&q)<<16}(E.unixPermissions,J)):(K=20,M|=function(ee){return 63&(ee||0)}(E.dosPermissions)),w=F.getUTCHours(),w<<=6,w|=F.getUTCMinutes(),w<<=5,w|=F.getUTCSeconds()/2,x=F.getUTCFullYear()-1980,x<<=4,x|=F.getUTCMonth()+1,x<<=5,x|=F.getUTCDate(),V&&(ce=i(1,1)+i(d(D),4)+A,Z+="up"+i(ce.length,2)+ce),b&&(G=i(1,1)+i(d(te),4)+R,Z+="uc"+i(G.length,2)+G);var Y="";return Y+=`
\0`,Y+=i(H,2),Y+=z.magic,Y+=i(w,2),Y+=i(x,2),Y+=i(ie.crc32,4),Y+=i(ie.compressedSize,4),Y+=i(ie.uncompressedSize,4),Y+=i(D.length,2),Y+=i(Z.length,2),{fileRecord:p.LOCAL_FILE_HEADER+Y+D+Z,dirRecord:p.CENTRAL_FILE_HEADER+i(K,2)+Y+i(te.length,2)+"\0\0\0\0"+i(M,4)+i(m,4)+D+Z+te}}var o=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),d=n("../crc32"),p=n("../signature");function _(f,y,h,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=h,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(_,l),_.prototype.push=function(f){var y=f.meta.percent||0,h=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:h?(y+100*(h-m-1))/h:100}}))},_.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var y=this.streamFiles&&!f.file.dir;if(y){var h=a(f,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(f){this.accumulate=!1;var y=this.streamFiles&&!f.file.dir,h=a(f,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),y)this.push({data:function(m){return p.DATA_DESCRIPTOR+i(m.crc32,4)+i(m.compressedSize,4)+i(m.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var f=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var h=this.bytesWritten-f,m=function(g,v,w,x,E){var z=o.transformTo("string",E(x));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(v,4)+i(w,4)+i(z.length,2)+z}(this.dirRecords.length,h,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(f){this._sources.push(f);var y=this;return f.on("data",function(h){y.processChunk(h)}),f.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),f.on("error",function(h){y.error(h)}),this},_.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(f){var y=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var h=0;h<y.length;h++)try{y[h].error(f)}catch{}return!0},_.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,y=0;y<f.length;y++)f[y].lock()},r.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),a=n("./ZipFileWorker");s.generateWorker=function(o,l,c){var d=new a(l.streamFiles,c,l.platform,l.encodeFileName),p=0;try{o.forEach(function(_,f){p++;var y=function(v,w){var x=v||w,E=i[x];if(!E)throw new Error(x+" is not a valid compression method !");return E}(f.options.compression,l.compression),h=f.options.compressionOptions||l.compressionOptions||{},m=f.dir,g=f.date;f._compressWorker(y,h).withStreamInfo("file",{name:_,dir:m,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(d)}),d.entriesCount=p}catch(_){d.error(_)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(a,o){return new i().loadAsync(a,o)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),a=n("./external"),o=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function p(_){return new a.Promise(function(f,y){var h=_.decompressed.getContentWorker().pipe(new c);h.on("error",function(m){y(m)}).on("end",function(){h.streamInfo.crc32!==_.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}r.exports=function(_,f){var y=this;return f=i.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",_,!0,f.optimizedBinaryString,f.base64).then(function(h){var m=new l(f);return m.load(h),m}).then(function(h){var m=[a.Promise.resolve(h)],g=h.files;if(f.checkCRC32)for(var v=0;v<g.length;v++)m.push(p(g[v]));return a.Promise.all(m)}).then(function(h){for(var m=h.shift(),g=m.files,v=0;v<g.length;v++){var w=g[v],x=w.fileNameStr,E=i.resolve(w.fileNameStr);y.file(E,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:f.createFolders}),w.dir||(y.file(E).unsafeOriginalName=x)}return m.zipComment.length&&(y.comment=m.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),a=n("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(d){c.push({data:d,meta:{percent:0}})}).on("error",function(d){c.isPaused?this.generatedError=d:c.error(d)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function a(o,l,c){i.call(this,l),this._helper=o;var d=this;o.on("data",function(p,_){d.push(p)||d._helper.pause(),c&&c(_)}).on("error",function(p){d.emit("error",p)}).on("end",function(){d.push(null)})}n("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(E,z,L){var D,A=o.getTypeOf(z),N=o.extend(L||{},d);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(E=g(E)),N.createFolders&&(D=m(E))&&v.call(this,D,!0);var te=A==="string"&&N.binary===!1&&N.base64===!1;L&&L.binary!==void 0||(N.binary=!te),(z instanceof p&&z.uncompressedSize===0||N.dir||!z||z.length===0)&&(N.base64=!1,N.binary=!0,z="",N.compression="STORE",A="string");var R=null;R=z instanceof p||z instanceof l?z:y.isNode&&y.isStream(z)?new h(E,z):o.prepareContent(E,z,N.binary,N.optimizedBinaryString,N.base64);var V=new _(E,R,N);this.files[E]=V}var a=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),d=n("./defaults"),p=n("./compressedObject"),_=n("./zipObject"),f=n("./generate"),y=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),m=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var z=E.lastIndexOf("/");return 0<z?E.substring(0,z):""},g=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},v=function(E,z){return z=z!==void 0?z:d.createFolders,E=g(E),this.files[E]||i.call(this,E,null,{dir:!0,createFolders:z}),this.files[E]};function w(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var z,L,D;for(z in this.files)D=this.files[z],(L=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&E(L,D)},filter:function(E){var z=[];return this.forEach(function(L,D){E(L,D)&&z.push(D)}),z},file:function(E,z,L){if(arguments.length!==1)return E=this.root+E,i.call(this,E,z,L),this;if(w(E)){var D=E;return this.filter(function(N,te){return!te.dir&&D.test(N)})}var A=this.files[this.root+E];return A&&!A.dir?A:null},folder:function(E){if(!E)return this;if(w(E))return this.filter(function(A,N){return N.dir&&E.test(A)});var z=this.root+E,L=v.call(this,z),D=this.clone();return D.root=L.name,D},remove:function(E){E=this.root+E;var z=this.files[E];if(z||(E.slice(-1)!=="/"&&(E+="/"),z=this.files[E]),z&&!z.dir)delete this.files[E];else for(var L=this.filter(function(A,N){return N.name.slice(0,E.length)===E}),D=0;D<L.length;D++)delete this.files[L[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var z,L={};try{if((L=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");o.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var D=L.comment||this.comment||"";z=f.generateWorker(this,L,D)}catch(A){(z=new l("error")).error(A)}return new c(z,L.type||"string",L.mimeType)},generateAsync:function(E,z){return this.generateInternalStream(E).accumulate(z)},generateNodeStream:function(E,z){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(z)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function a(o){i.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),d=o.charCodeAt(2),p=o.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===l&&this.data[_+1]===c&&this.data[_+2]===d&&this.data[_+3]===p)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),d=o.charCodeAt(2),p=o.charCodeAt(3),_=this.readData(4);return l===_[0]&&c===_[1]&&d===_[2]&&p===_[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function a(o){i.call(this,o)}n("../utils").inherits(a,i),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function a(o){i.call(this,o)}n("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function a(o){i.call(this,o)}n("../utils").inherits(a,i),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),a=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(p){var _=i.getTypeOf(p);return i.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new c(p):a.uint8array?new d(i.transformTo("uint8array",p)):new o(i.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),a=n("../utils");function o(l){i.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,i),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),a=n("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,i),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),a=n("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=i.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}i.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),c=n("../support"),d=n("../external"),p=null;if(c.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(y,h){return new d.Promise(function(m,g){var v=[],w=y._internalType,x=y._outputType,E=y._mimeType;y.on("data",function(z,L){v.push(z),h&&h(L)}).on("error",function(z){v=[],g(z)}).on("end",function(){try{var z=function(L,D,A){switch(L){case"blob":return i.newBlob(i.transformTo("arraybuffer",D),A);case"base64":return l.encode(D);default:return i.transformTo(L,D)}}(x,function(L,D){var A,N=0,te=null,R=0;for(A=0;A<D.length;A++)R+=D[A].length;switch(L){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(te=new Uint8Array(R),A=0;A<D.length;A++)te.set(D[A],N),N+=D[A].length;return te;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+L+"'")}}(w,v),E);m(z)}catch(L){g(L)}v=[]}).resume()})}function f(y,h,m){var g=h;switch(h){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=h,this._mimeType=m,i.checkSupport(g),this._worker=y.pipe(new a(g)),y.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}f.prototype={accumulate:function(y){return _(this,y)},on:function(y,h){var m=this;return y==="data"?this._worker.on(y,function(g){h.call(m,g.data,g.meta)}):this._worker.on(y,function(){i.delay(h,arguments,m)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;c[254]=c[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function _(){l.call(this,"utf-8 encode")}s.utf8encode=function(f){return a.nodebuffer?o.newBufferFrom(f,"utf-8"):function(y){var h,m,g,v,w,x=y.length,E=0;for(v=0;v<x;v++)(64512&(m=y.charCodeAt(v)))==55296&&v+1<x&&(64512&(g=y.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),v++),E+=m<128?1:m<2048?2:m<65536?3:4;for(h=a.uint8array?new Uint8Array(E):new Array(E),v=w=0;w<E;v++)(64512&(m=y.charCodeAt(v)))==55296&&v+1<x&&(64512&(g=y.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),v++),m<128?h[w++]=m:(m<2048?h[w++]=192|m>>>6:(m<65536?h[w++]=224|m>>>12:(h[w++]=240|m>>>18,h[w++]=128|m>>>12&63),h[w++]=128|m>>>6&63),h[w++]=128|63&m);return h}(f)},s.utf8decode=function(f){return a.nodebuffer?i.transformTo("nodebuffer",f).toString("utf-8"):function(y){var h,m,g,v,w=y.length,x=new Array(2*w);for(h=m=0;h<w;)if((g=y[h++])<128)x[m++]=g;else if(4<(v=c[g]))x[m++]=65533,h+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&h<w;)g=g<<6|63&y[h++],v--;1<v?x[m++]=65533:g<65536?x[m++]=g:(g-=65536,x[m++]=55296|g>>10&1023,x[m++]=56320|1023&g)}return x.length!==m&&(x.subarray?x=x.subarray(0,m):x.length=m),i.applyFromCharCode(x)}(f=i.transformTo(a.uint8array?"uint8array":"array",f))},i.inherits(p,l),p.prototype.processChunk=function(f){var y=i.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var h=y;(y=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),y.set(h,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var m=function(v,w){var x;for((w=w||v.length)>v.length&&(w=v.length),x=w-1;0<=x&&(192&v[x])==128;)x--;return x<0||x===0?w:x+c[v[x]]>w?x:w}(y),g=y;m!==y.length&&(a.uint8array?(g=y.subarray(0,m),this.leftOver=y.subarray(m,y.length)):(g=y.slice(0,m),this.leftOver=y.slice(m,y.length))),this.push({data:s.utf8decode(g),meta:f.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=p,i.inherits(_,l),_.prototype.processChunk=function(f){this.push({data:s.utf8encode(f.data),meta:f.meta})},s.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function c(h){return h}function d(h,m){for(var g=0;g<h.length;++g)m[g]=255&h.charCodeAt(g);return m}n("setimmediate"),s.newBlob=function(h,m){s.checkSupport("blob");try{return new Blob([h],{type:m})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(h),g.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(h,m,g){var v=[],w=0,x=h.length;if(x<=g)return String.fromCharCode.apply(null,h);for(;w<x;)m==="array"||m==="nodebuffer"?v.push(String.fromCharCode.apply(null,h.slice(w,Math.min(w+g,x)))):v.push(String.fromCharCode.apply(null,h.subarray(w,Math.min(w+g,x)))),w+=g;return v.join("")},stringifyByChar:function(h){for(var m="",g=0;g<h.length;g++)m+=String.fromCharCode(h[g]);return m},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function _(h){var m=65536,g=s.getTypeOf(h),v=!0;if(g==="uint8array"?v=p.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=p.applyCanBeUsed.nodebuffer),v)for(;1<m;)try{return p.stringifyByChunk(h,g,m)}catch{m=Math.floor(m/2)}return p.stringifyByChar(h)}function f(h,m){for(var g=0;g<h.length;g++)m[g]=h[g];return m}s.applyFromCharCode=_;var y={};y.string={string:c,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return y.string.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:function(h){return d(h,o.allocBuffer(h.length))}},y.array={string:_,array:c,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},y.arraybuffer={string:function(h){return _(new Uint8Array(h))},array:function(h){return f(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:c,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},y.uint8array={string:_,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:c,nodebuffer:function(h){return o.newBufferFrom(h)}},y.nodebuffer={string:_,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return y.nodebuffer.uint8array(h).buffer},uint8array:function(h){return f(h,new Uint8Array(h.length))},nodebuffer:c},s.transformTo=function(h,m){if(m=m||"",!h)return m;s.checkSupport(h);var g=s.getTypeOf(m);return y[g][h](m)},s.resolve=function(h){for(var m=h.split("/"),g=[],v=0;v<m.length;v++){var w=m[v];w==="."||w===""&&v!==0&&v!==m.length-1||(w===".."?g.pop():g.push(w))}return g.join("/")},s.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(h)?"nodebuffer":i.uint8array&&h instanceof Uint8Array?"uint8array":i.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(h){if(!i[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(h){var m,g,v="";for(g=0;g<(h||"").length;g++)v+="\\x"+((m=h.charCodeAt(g))<16?"0":"")+m.toString(16).toUpperCase();return v},s.delay=function(h,m,g){setImmediate(function(){h.apply(g||null,m||[])})},s.inherits=function(h,m){function g(){}g.prototype=m.prototype,h.prototype=new g},s.extend=function(){var h,m,g={};for(h=0;h<arguments.length;h++)for(m in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],m)&&g[m]===void 0&&(g[m]=arguments[h][m]);return g},s.prepareContent=function(h,m,g,v,w){return l.Promise.resolve(m).then(function(x){return i.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,z){var L=new FileReader;L.onload=function(D){E(D.target.result)},L.onerror=function(D){z(D.target.error)},L.readAsArrayBuffer(x)}):x}).then(function(x){var E=s.getTypeOf(x);return E?(E==="arraybuffer"?x=s.transformTo("uint8array",x):E==="string"&&(w?x=a.decode(x):g&&v!==!0&&(x=function(z){return d(z,i.uint8array?new Uint8Array(z.length):new Array(z.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),l=n("./zipEntry"),c=n("./support");function d(p){this.files=[],this.loadOptions=p}d.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(p)+")")}},isSignature:function(p,_){var f=this.reader.index;this.reader.setIndex(p);var y=this.reader.readString(4)===_;return this.reader.setIndex(f),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),_=c.uint8array?"uint8array":"array",f=a.transformTo(_,p);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,_,f,y=this.zip64EndOfCentralSize-44;0<y;)p=this.reader.readInt(2),_=this.reader.readInt(4),f=this.reader.readData(_),this.zip64ExtensibleData[p]={id:p,length:_,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,_;for(p=0;p<this.files.length;p++)_=this.files[p],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var _=p;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var y=_-f;if(0<y)this.isSignature(_,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(p){this.reader=i(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),d=n("./compressions"),p=n("./support");function _(f,y){this.options=f,this.loadOptions=y}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var y,h;if(f.skip(22),this.fileNameLength=f.readInt(2),h=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(m){for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)&&d[g].magic===m)return d[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var y=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(y),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var y,h,m,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)y=f.readInt(2),h=f.readInt(2),m=f.readData(h),this.extraFields[y]={id:y,length:h,value:m};f.setIndex(g)},handleUTF8:function(){var f=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var h=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var g=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var y=i(f.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var y=i(f.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(f.length-5))}return null}},r.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(y,h,m){this.name=y,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=h,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),d=n("./stream/GenericWorker");i.prototype={internalStream:function(y){var h=null,m="string";try{if(!y)throw new Error("No output type specified.");var g=(m=y.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),h=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(h=h.pipe(new l.Utf8EncodeWorker)),!v&&g&&(h=h.pipe(new l.Utf8DecodeWorker))}catch(w){(h=new d("error")).error(w)}return new a(h,m,"")},async:function(y,h){return this.internalStream(y).accumulate(h)},nodeStream:function(y,h){return this.internalStream(y||"nodebuffer").toNodejsStream(h)},_compressWorker:function(y,h){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,y,h)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<p.length;f++)i.prototype[p[f]]=_;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var a,o,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,d=new l(y),p=i.document.createTextNode("");d.observe(p,{characterData:!0}),a=function(){p.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var h=i.document.createElement("script");h.onreadystatechange=function(){y(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},i.document.documentElement.appendChild(h)}:function(){setTimeout(y,0)};else{var _=new i.MessageChannel;_.port1.onmessage=y,a=function(){_.port2.postMessage(0)}}var f=[];function y(){var h,m;o=!0;for(var g=f.length;g;){for(m=f,f=[],h=-1;++h<g;)m[h]();g=f.length}o=!1}r.exports=function(h){f.push(h)!==1||o||a()}}).call(this,typeof Jn<"u"?Jn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];function p(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,g!==a&&h(this,g)}function _(g,v,w){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function f(g,v,w){i(function(){var x;try{x=v(w)}catch(E){return o.reject(g,E)}x===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,x)})}function y(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function h(g,v){var w=!1;function x(L){w||(w=!0,o.reject(g,L))}function E(L){w||(w=!0,o.resolve(g,L))}var z=m(function(){v(E,x)});z.status==="error"&&x(z.value)}function m(g,v){var w={};try{w.value=g(v),w.status="success"}catch(x){w.status="error",w.value=x}return w}(r.exports=p).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(g()).then(function(){return w})},function(w){return v.resolve(g()).then(function(){throw w})})},p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,v){if(typeof g!="function"&&this.state===c||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==d?f(w,this.state===c?g:v,this.outcome):this.queue.push(new _(w,g,v)),w},_.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},_.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},_.prototype.callRejected=function(g){o.reject(this.promise,g)},_.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},o.resolve=function(g,v){var w=m(y,v);if(w.status==="error")return o.reject(g,w.value);var x=w.value;if(x)h(g,x);else{g.state=c,g.outcome=v;for(var E=-1,z=g.queue.length;++E<z;)g.queue[E].callFulfilled(v)}return g},o.reject=function(g,v){g.state=l,g.outcome=v;for(var w=-1,x=g.queue.length;++w<x;)g.queue[w].callRejected(v);return g},p.resolve=function(g){return g instanceof this?g:o.resolve(new this(a),g)},p.reject=function(g){var v=new this(a);return o.reject(v,g)},p.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,x=!1;if(!w)return this.resolve([]);for(var E=new Array(w),z=0,L=-1,D=new this(a);++L<w;)A(g[L],L);return D;function A(N,te){v.resolve(N).then(function(R){E[te]=R,++z!==w||x||(x=!0,o.resolve(D,E))},function(R){x||(x=!0,o.reject(D,R))})}},p.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=g.length,x=!1;if(!w)return this.resolve([]);for(var E=-1,z=new this(a);++E<w;)L=g[E],v.resolve(L).then(function(D){x||(x=!0,o.resolve(z,D))},function(D){x||(x=!0,o.reject(z,D))});var L;return z}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),d=Object.prototype.toString,p=0,_=-1,f=0,y=8;function h(g){if(!(this instanceof h))return new h(g);this.options=a.assign({level:_,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==p)throw new Error(l[w]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var x;if(x=typeof v.dictionary=="string"?o.string2buf(v.dictionary):d.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=i.deflateSetDictionary(this.strm,x))!==p)throw new Error(l[w]);this._dict_set=!0}}function m(g,v){var w=new h(v);if(w.push(g,!0),w.err)throw w.msg||l[w.err];return w.result}h.prototype.push=function(g,v){var w,x,E=this.strm,z=this.options.chunkSize;if(this.ended)return!1;x=v===~~v?v:v===!0?4:0,typeof g=="string"?E.input=o.string2buf(g):d.call(g)==="[object ArrayBuffer]"?E.input=new Uint8Array(g):E.input=g,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(z),E.next_out=0,E.avail_out=z),(w=i.deflate(E,x))!==1&&w!==p)return this.onEnd(w),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&w!==1);return x===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===p):x!==2||(this.onEnd(p),!(E.avail_out=0))},h.prototype.onData=function(g){this.chunks.push(g)},h.prototype.onEnd=function(g){g===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Deflate=h,s.deflate=m,s.deflateRaw=function(g,v){return(v=v||{}).raw=!0,m(g,v)},s.gzip=function(g,v){return(v=v||{}).gzip=!0,m(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),d=n("./zlib/zstream"),p=n("./zlib/gzheader"),_=Object.prototype.toString;function f(h){if(!(this instanceof f))return new f(h);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},h||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||h&&h.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,m.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new p,i.inflateGetHeader(this.strm,this.header)}function y(h,m){var g=new f(m);if(g.push(h,!0),g.err)throw g.msg||c[g.err];return g.result}f.prototype.push=function(h,m){var g,v,w,x,E,z,L=this.strm,D=this.options.chunkSize,A=this.options.dictionary,N=!1;if(this.ended)return!1;v=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof h=="string"?L.input=o.binstring2buf(h):_.call(h)==="[object ArrayBuffer]"?L.input=new Uint8Array(h):L.input=h,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new a.Buf8(D),L.next_out=0,L.avail_out=D),(g=i.inflate(L,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&A&&(z=typeof A=="string"?o.string2buf(A):_.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,g=i.inflateSetDictionary(this.strm,z)),g===l.Z_BUF_ERROR&&N===!0&&(g=l.Z_OK,N=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&g!==l.Z_STREAM_END&&(L.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(L.output,L.next_out),x=L.next_out-w,E=o.buf2string(L.output,w),L.next_out=x,L.avail_out=D-x,x&&a.arraySet(L.output,L.output,w,x,0),this.onData(E)):this.onData(a.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(N=!0)}while((0<L.avail_in||L.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(L.avail_out=0))},f.prototype.onData=function(h){this.chunks.push(h)},f.prototype.onEnd=function(h){h===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},s.Inflate=f,s.inflate=y,s.inflateRaw=function(h,m){return(m=m||{}).raw=!0,y(h,m)},s.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var d=c.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var p in d)d.hasOwnProperty(p)&&(l[p]=d[p])}}return l},s.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,d,p,_){if(c.subarray&&l.subarray)l.set(c.subarray(d,d+p),_);else for(var f=0;f<p;f++)l[_+f]=c[d+f]},flattenChunks:function(l){var c,d,p,_,f,y;for(c=p=0,d=l.length;c<d;c++)p+=l[c].length;for(y=new Uint8Array(p),c=_=0,d=l.length;c<d;c++)f=l[c],y.set(f,_),_+=f.length;return y}},o={arraySet:function(l,c,d,p,_){for(var f=0;f<p;f++)l[_+f]=c[d+f]},flattenChunks:function(l){return[].concat.apply([],l)}};s.setTyped=function(l){l?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function d(p,_){if(_<65537&&(p.subarray&&o||!p.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(p,_));for(var f="",y=0;y<_;y++)f+=String.fromCharCode(p[y]);return f}l[254]=l[254]=1,s.string2buf=function(p){var _,f,y,h,m,g=p.length,v=0;for(h=0;h<g;h++)(64512&(f=p.charCodeAt(h)))==55296&&h+1<g&&(64512&(y=p.charCodeAt(h+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),h++),v+=f<128?1:f<2048?2:f<65536?3:4;for(_=new i.Buf8(v),h=m=0;m<v;h++)(64512&(f=p.charCodeAt(h)))==55296&&h+1<g&&(64512&(y=p.charCodeAt(h+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),h++),f<128?_[m++]=f:(f<2048?_[m++]=192|f>>>6:(f<65536?_[m++]=224|f>>>12:(_[m++]=240|f>>>18,_[m++]=128|f>>>12&63),_[m++]=128|f>>>6&63),_[m++]=128|63&f);return _},s.buf2binstring=function(p){return d(p,p.length)},s.binstring2buf=function(p){for(var _=new i.Buf8(p.length),f=0,y=_.length;f<y;f++)_[f]=p.charCodeAt(f);return _},s.buf2string=function(p,_){var f,y,h,m,g=_||p.length,v=new Array(2*g);for(f=y=0;f<g;)if((h=p[f++])<128)v[y++]=h;else if(4<(m=l[h]))v[y++]=65533,f+=m-1;else{for(h&=m===2?31:m===3?15:7;1<m&&f<g;)h=h<<6|63&p[f++],m--;1<m?v[y++]=65533:h<65536?v[y++]=h:(h-=65536,v[y++]=55296|h>>10&1023,v[y++]=56320|1023&h)}return d(v,y)},s.utf8border=function(p,_){var f;for((_=_||p.length)>p.length&&(_=p.length),f=_-1;0<=f&&(192&p[f])==128;)f--;return f<0||f===0?_:f+l[p[f]]>_?f:_}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,a,o,l){for(var c=65535&i|0,d=i>>>16&65535|0,p=0;o!==0;){for(o-=p=2e3<o?2e3:o;d=d+(c=c+a[l++]|0)|0,--p;);c%=65521,d%=65521}return c|d<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();r.exports=function(a,o,l,c){var d=i,p=c+l;a^=-1;for(var _=c;_<p;_++)a=a>>>8^d[255&(a^o[_])];return-1^a}},{}],46:[function(n,r,s){var i,a=n("../utils/common"),o=n("./trees"),l=n("./adler32"),c=n("./crc32"),d=n("./messages"),p=0,_=4,f=0,y=-2,h=-1,m=4,g=2,v=8,w=9,x=286,E=30,z=19,L=2*x+1,D=15,A=3,N=258,te=N+A+1,R=42,V=113,b=1,Z=2,ce=3,G=4;function J(u,P){return u.msg=d[P],P}function F(u){return(u<<1)-(4<u?9:0)}function ie(u){for(var P=u.length;0<=--P;)u[P]=0}function H(u){var P=u.state,T=P.pending;T>u.avail_out&&(T=u.avail_out),T!==0&&(a.arraySet(u.output,P.pending_buf,P.pending_out,T,u.next_out),u.next_out+=T,P.pending_out+=T,u.total_out+=T,u.avail_out-=T,P.pending-=T,P.pending===0&&(P.pending_out=0))}function M(u,P){o._tr_flush_block(u,0<=u.block_start?u.block_start:-1,u.strstart-u.block_start,P),u.block_start=u.strstart,H(u.strm)}function K(u,P){u.pending_buf[u.pending++]=P}function Y(u,P){u.pending_buf[u.pending++]=P>>>8&255,u.pending_buf[u.pending++]=255&P}function ee(u,P){var T,k,S=u.max_chain_length,I=u.strstart,W=u.prev_length,U=u.nice_match,B=u.strstart>u.w_size-te?u.strstart-(u.w_size-te):0,X=u.window,re=u.w_mask,ne=u.prev,ue=u.strstart+N,pe=X[I+W-1],de=X[I+W];u.prev_length>=u.good_match&&(S>>=2),U>u.lookahead&&(U=u.lookahead);do if(X[(T=P)+W]===de&&X[T+W-1]===pe&&X[T]===X[I]&&X[++T]===X[I+1]){I+=2,T++;do;while(X[++I]===X[++T]&&X[++I]===X[++T]&&X[++I]===X[++T]&&X[++I]===X[++T]&&X[++I]===X[++T]&&X[++I]===X[++T]&&X[++I]===X[++T]&&X[++I]===X[++T]&&I<ue);if(k=N-(ue-I),I=ue-N,W<k){if(u.match_start=P,U<=(W=k))break;pe=X[I+W-1],de=X[I+W]}}while((P=ne[P&re])>B&&--S!=0);return W<=u.lookahead?W:u.lookahead}function fe(u){var P,T,k,S,I,W,U,B,X,re,ne=u.w_size;do{if(S=u.window_size-u.lookahead-u.strstart,u.strstart>=ne+(ne-te)){for(a.arraySet(u.window,u.window,ne,ne,0),u.match_start-=ne,u.strstart-=ne,u.block_start-=ne,P=T=u.hash_size;k=u.head[--P],u.head[P]=ne<=k?k-ne:0,--T;);for(P=T=ne;k=u.prev[--P],u.prev[P]=ne<=k?k-ne:0,--T;);S+=ne}if(u.strm.avail_in===0)break;if(W=u.strm,U=u.window,B=u.strstart+u.lookahead,X=S,re=void 0,re=W.avail_in,X<re&&(re=X),T=re===0?0:(W.avail_in-=re,a.arraySet(U,W.input,W.next_in,re,B),W.state.wrap===1?W.adler=l(W.adler,U,re,B):W.state.wrap===2&&(W.adler=c(W.adler,U,re,B)),W.next_in+=re,W.total_in+=re,re),u.lookahead+=T,u.lookahead+u.insert>=A)for(I=u.strstart-u.insert,u.ins_h=u.window[I],u.ins_h=(u.ins_h<<u.hash_shift^u.window[I+1])&u.hash_mask;u.insert&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[I+A-1])&u.hash_mask,u.prev[I&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=I,I++,u.insert--,!(u.lookahead+u.insert<A)););}while(u.lookahead<te&&u.strm.avail_in!==0)}function q(u,P){for(var T,k;;){if(u.lookahead<te){if(fe(u),u.lookahead<te&&P===p)return b;if(u.lookahead===0)break}if(T=0,u.lookahead>=A&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+A-1])&u.hash_mask,T=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),T!==0&&u.strstart-T<=u.w_size-te&&(u.match_length=ee(u,T)),u.match_length>=A)if(k=o._tr_tally(u,u.strstart-u.match_start,u.match_length-A),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=A){for(u.match_length--;u.strstart++,u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+A-1])&u.hash_mask,T=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart,--u.match_length!=0;);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+1])&u.hash_mask;else k=o._tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(k&&(M(u,!1),u.strm.avail_out===0))return b}return u.insert=u.strstart<A-1?u.strstart:A-1,P===_?(M(u,!0),u.strm.avail_out===0?ce:G):u.last_lit&&(M(u,!1),u.strm.avail_out===0)?b:Z}function $(u,P){for(var T,k,S;;){if(u.lookahead<te){if(fe(u),u.lookahead<te&&P===p)return b;if(u.lookahead===0)break}if(T=0,u.lookahead>=A&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+A-1])&u.hash_mask,T=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=A-1,T!==0&&u.prev_length<u.max_lazy_match&&u.strstart-T<=u.w_size-te&&(u.match_length=ee(u,T),u.match_length<=5&&(u.strategy===1||u.match_length===A&&4096<u.strstart-u.match_start)&&(u.match_length=A-1)),u.prev_length>=A&&u.match_length<=u.prev_length){for(S=u.strstart+u.lookahead-A,k=o._tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-A),u.lookahead-=u.prev_length-1,u.prev_length-=2;++u.strstart<=S&&(u.ins_h=(u.ins_h<<u.hash_shift^u.window[u.strstart+A-1])&u.hash_mask,T=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),--u.prev_length!=0;);if(u.match_available=0,u.match_length=A-1,u.strstart++,k&&(M(u,!1),u.strm.avail_out===0))return b}else if(u.match_available){if((k=o._tr_tally(u,0,u.window[u.strstart-1]))&&M(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return b}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(k=o._tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<A-1?u.strstart:A-1,P===_?(M(u,!0),u.strm.avail_out===0?ce:G):u.last_lit&&(M(u,!1),u.strm.avail_out===0)?b:Z}function j(u,P,T,k,S){this.good_length=u,this.max_lazy=P,this.nice_length=T,this.max_chain=k,this.func=S}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*L),this.dyn_dtree=new a.Buf16(2*(2*E+1)),this.bl_tree=new a.Buf16(2*(2*z+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*x+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*x+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function oe(u){var P;return u&&u.state?(u.total_in=u.total_out=0,u.data_type=g,(P=u.state).pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?R:V,u.adler=P.wrap===2?0:1,P.last_flush=p,o._tr_init(P),f):J(u,y)}function C(u){var P=oe(u);return P===f&&function(T){T.window_size=2*T.w_size,ie(T.head),T.max_lazy_match=i[T.level].max_lazy,T.good_match=i[T.level].good_length,T.nice_match=i[T.level].nice_length,T.max_chain_length=i[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=A-1,T.match_available=0,T.ins_h=0}(u.state),P}function O(u,P,T,k,S,I){if(!u)return y;var W=1;if(P===h&&(P=6),k<0?(W=0,k=-k):15<k&&(W=2,k-=16),S<1||w<S||T!==v||k<8||15<k||P<0||9<P||I<0||m<I)return J(u,y);k===8&&(k=9);var U=new Q;return(u.state=U).strm=u,U.wrap=W,U.gzhead=null,U.w_bits=k,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=S+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+A-1)/A),U.window=new a.Buf8(2*U.w_size),U.head=new a.Buf16(U.hash_size),U.prev=new a.Buf16(U.w_size),U.lit_bufsize=1<<S+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new a.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=P,U.strategy=I,U.method=T,C(u)}i=[new j(0,0,0,0,function(u,P){var T=65535;for(T>u.pending_buf_size-5&&(T=u.pending_buf_size-5);;){if(u.lookahead<=1){if(fe(u),u.lookahead===0&&P===p)return b;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;var k=u.block_start+T;if((u.strstart===0||u.strstart>=k)&&(u.lookahead=u.strstart-k,u.strstart=k,M(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-te&&(M(u,!1),u.strm.avail_out===0))return b}return u.insert=0,P===_?(M(u,!0),u.strm.avail_out===0?ce:G):(u.strstart>u.block_start&&(M(u,!1),u.strm.avail_out),b)}),new j(4,4,8,4,q),new j(4,5,16,8,q),new j(4,6,32,32,q),new j(4,4,16,16,$),new j(8,16,32,32,$),new j(8,16,128,128,$),new j(8,32,128,256,$),new j(32,128,258,1024,$),new j(32,258,258,4096,$)],s.deflateInit=function(u,P){return O(u,P,v,15,8,0)},s.deflateInit2=O,s.deflateReset=C,s.deflateResetKeep=oe,s.deflateSetHeader=function(u,P){return u&&u.state?u.state.wrap!==2?y:(u.state.gzhead=P,f):y},s.deflate=function(u,P){var T,k,S,I;if(!u||!u.state||5<P||P<0)return u?J(u,y):y;if(k=u.state,!u.output||!u.input&&u.avail_in!==0||k.status===666&&P!==_)return J(u,u.avail_out===0?-5:y);if(k.strm=u,T=k.last_flush,k.last_flush=P,k.status===R)if(k.wrap===2)u.adler=0,K(k,31),K(k,139),K(k,8),k.gzhead?(K(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),K(k,255&k.gzhead.time),K(k,k.gzhead.time>>8&255),K(k,k.gzhead.time>>16&255),K(k,k.gzhead.time>>24&255),K(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),K(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(K(k,255&k.gzhead.extra.length),K(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(u.adler=c(u.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(K(k,0),K(k,0),K(k,0),K(k,0),K(k,0),K(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),K(k,3),k.status=V);else{var W=v+(k.w_bits-8<<4)<<8;W|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(W|=32),W+=31-W%31,k.status=V,Y(k,W),k.strstart!==0&&(Y(k,u.adler>>>16),Y(k,65535&u.adler)),u.adler=1}if(k.status===69)if(k.gzhead.extra){for(S=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>S&&(u.adler=c(u.adler,k.pending_buf,k.pending-S,S)),H(u),S=k.pending,k.pending!==k.pending_buf_size));)K(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>S&&(u.adler=c(u.adler,k.pending_buf,k.pending-S,S)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){S=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>S&&(u.adler=c(u.adler,k.pending_buf,k.pending-S,S)),H(u),S=k.pending,k.pending===k.pending_buf_size)){I=1;break}I=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,K(k,I)}while(I!==0);k.gzhead.hcrc&&k.pending>S&&(u.adler=c(u.adler,k.pending_buf,k.pending-S,S)),I===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){S=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>S&&(u.adler=c(u.adler,k.pending_buf,k.pending-S,S)),H(u),S=k.pending,k.pending===k.pending_buf_size)){I=1;break}I=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,K(k,I)}while(I!==0);k.gzhead.hcrc&&k.pending>S&&(u.adler=c(u.adler,k.pending_buf,k.pending-S,S)),I===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&H(u),k.pending+2<=k.pending_buf_size&&(K(k,255&u.adler),K(k,u.adler>>8&255),u.adler=0,k.status=V)):k.status=V),k.pending!==0){if(H(u),u.avail_out===0)return k.last_flush=-1,f}else if(u.avail_in===0&&F(P)<=F(T)&&P!==_)return J(u,-5);if(k.status===666&&u.avail_in!==0)return J(u,-5);if(u.avail_in!==0||k.lookahead!==0||P!==p&&k.status!==666){var U=k.strategy===2?function(B,X){for(var re;;){if(B.lookahead===0&&(fe(B),B.lookahead===0)){if(X===p)return b;break}if(B.match_length=0,re=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,re&&(M(B,!1),B.strm.avail_out===0))return b}return B.insert=0,X===_?(M(B,!0),B.strm.avail_out===0?ce:G):B.last_lit&&(M(B,!1),B.strm.avail_out===0)?b:Z}(k,P):k.strategy===3?function(B,X){for(var re,ne,ue,pe,de=B.window;;){if(B.lookahead<=N){if(fe(B),B.lookahead<=N&&X===p)return b;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=A&&0<B.strstart&&(ne=de[ue=B.strstart-1])===de[++ue]&&ne===de[++ue]&&ne===de[++ue]){pe=B.strstart+N;do;while(ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ue<pe);B.match_length=N-(pe-ue),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=A?(re=o._tr_tally(B,1,B.match_length-A),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(re=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),re&&(M(B,!1),B.strm.avail_out===0))return b}return B.insert=0,X===_?(M(B,!0),B.strm.avail_out===0?ce:G):B.last_lit&&(M(B,!1),B.strm.avail_out===0)?b:Z}(k,P):i[k.level].func(k,P);if(U!==ce&&U!==G||(k.status=666),U===b||U===ce)return u.avail_out===0&&(k.last_flush=-1),f;if(U===Z&&(P===1?o._tr_align(k):P!==5&&(o._tr_stored_block(k,0,0,!1),P===3&&(ie(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),H(u),u.avail_out===0))return k.last_flush=-1,f}return P!==_?f:k.wrap<=0?1:(k.wrap===2?(K(k,255&u.adler),K(k,u.adler>>8&255),K(k,u.adler>>16&255),K(k,u.adler>>24&255),K(k,255&u.total_in),K(k,u.total_in>>8&255),K(k,u.total_in>>16&255),K(k,u.total_in>>24&255)):(Y(k,u.adler>>>16),Y(k,65535&u.adler)),H(u),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?f:1)},s.deflateEnd=function(u){var P;return u&&u.state?(P=u.state.status)!==R&&P!==69&&P!==73&&P!==91&&P!==103&&P!==V&&P!==666?J(u,y):(u.state=null,P===V?J(u,-3):f):y},s.deflateSetDictionary=function(u,P){var T,k,S,I,W,U,B,X,re=P.length;if(!u||!u.state||(I=(T=u.state).wrap)===2||I===1&&T.status!==R||T.lookahead)return y;for(I===1&&(u.adler=l(u.adler,P,re,0)),T.wrap=0,re>=T.w_size&&(I===0&&(ie(T.head),T.strstart=0,T.block_start=0,T.insert=0),X=new a.Buf8(T.w_size),a.arraySet(X,P,re-T.w_size,T.w_size,0),P=X,re=T.w_size),W=u.avail_in,U=u.next_in,B=u.input,u.avail_in=re,u.next_in=0,u.input=P,fe(T);T.lookahead>=A;){for(k=T.strstart,S=T.lookahead-(A-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[k+A-1])&T.hash_mask,T.prev[k&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=k,k++,--S;);T.strstart=k,T.lookahead=A-1,fe(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=A-1,T.match_available=0,u.next_in=U,u.input=B,u.avail_in=W,T.wrap=I,f},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,a){var o,l,c,d,p,_,f,y,h,m,g,v,w,x,E,z,L,D,A,N,te,R,V,b,Z;o=i.state,l=i.next_in,b=i.input,c=l+(i.avail_in-5),d=i.next_out,Z=i.output,p=d-(a-i.avail_out),_=d+(i.avail_out-257),f=o.dmax,y=o.wsize,h=o.whave,m=o.wnext,g=o.window,v=o.hold,w=o.bits,x=o.lencode,E=o.distcode,z=(1<<o.lenbits)-1,L=(1<<o.distbits)-1;e:do{w<15&&(v+=b[l++]<<w,w+=8,v+=b[l++]<<w,w+=8),D=x[v&z];t:for(;;){if(v>>>=A=D>>>24,w-=A,(A=D>>>16&255)===0)Z[d++]=65535&D;else{if(!(16&A)){if(!(64&A)){D=x[(65535&D)+(v&(1<<A)-1)];continue t}if(32&A){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}N=65535&D,(A&=15)&&(w<A&&(v+=b[l++]<<w,w+=8),N+=v&(1<<A)-1,v>>>=A,w-=A),w<15&&(v+=b[l++]<<w,w+=8,v+=b[l++]<<w,w+=8),D=E[v&L];n:for(;;){if(v>>>=A=D>>>24,w-=A,!(16&(A=D>>>16&255))){if(!(64&A)){D=E[(65535&D)+(v&(1<<A)-1)];continue n}i.msg="invalid distance code",o.mode=30;break e}if(te=65535&D,w<(A&=15)&&(v+=b[l++]<<w,(w+=8)<A&&(v+=b[l++]<<w,w+=8)),f<(te+=v&(1<<A)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=A,w-=A,(A=d-p)<te){if(h<(A=te-A)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(V=g,(R=0)===m){if(R+=y-A,A<N){for(N-=A;Z[d++]=g[R++],--A;);R=d-te,V=Z}}else if(m<A){if(R+=y+m-A,(A-=m)<N){for(N-=A;Z[d++]=g[R++],--A;);if(R=0,m<N){for(N-=A=m;Z[d++]=g[R++],--A;);R=d-te,V=Z}}}else if(R+=m-A,A<N){for(N-=A;Z[d++]=g[R++],--A;);R=d-te,V=Z}for(;2<N;)Z[d++]=V[R++],Z[d++]=V[R++],Z[d++]=V[R++],N-=3;N&&(Z[d++]=V[R++],1<N&&(Z[d++]=V[R++]))}else{for(R=d-te;Z[d++]=Z[R++],Z[d++]=Z[R++],Z[d++]=Z[R++],2<(N-=3););N&&(Z[d++]=Z[R++],1<N&&(Z[d++]=Z[R++]))}break}}break}}while(l<c&&d<_);l-=N=w>>3,v&=(1<<(w-=N<<3))-1,i.next_in=l,i.next_out=d,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=d<_?_-d+257:257-(d-_),o.hold=v,o.bits=w}},{}],49:[function(n,r,s){var i=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),d=1,p=2,_=0,f=-2,y=1,h=852,m=592;function g(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(R){var V;return R&&R.state?(V=R.state,R.total_in=R.total_out=V.total=0,R.msg="",V.wrap&&(R.adler=1&V.wrap),V.mode=y,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new i.Buf32(h),V.distcode=V.distdyn=new i.Buf32(m),V.sane=1,V.back=-1,_):f}function x(R){var V;return R&&R.state?((V=R.state).wsize=0,V.whave=0,V.wnext=0,w(R)):f}function E(R,V){var b,Z;return R&&R.state?(Z=R.state,V<0?(b=0,V=-V):(b=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?f:(Z.window!==null&&Z.wbits!==V&&(Z.window=null),Z.wrap=b,Z.wbits=V,x(R))):f}function z(R,V){var b,Z;return R?(Z=new v,(R.state=Z).window=null,(b=E(R,V))!==_&&(R.state=null),b):f}var L,D,A=!0;function N(R){if(A){var V;for(L=new i.Buf32(512),D=new i.Buf32(32),V=0;V<144;)R.lens[V++]=8;for(;V<256;)R.lens[V++]=9;for(;V<280;)R.lens[V++]=7;for(;V<288;)R.lens[V++]=8;for(c(d,R.lens,0,288,L,0,R.work,{bits:9}),V=0;V<32;)R.lens[V++]=5;c(p,R.lens,0,32,D,0,R.work,{bits:5}),A=!1}R.lencode=L,R.lenbits=9,R.distcode=D,R.distbits=5}function te(R,V,b,Z){var ce,G=R.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),Z>=G.wsize?(i.arraySet(G.window,V,b-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(Z<(ce=G.wsize-G.wnext)&&(ce=Z),i.arraySet(G.window,V,b-Z,ce,G.wnext),(Z-=ce)?(i.arraySet(G.window,V,b-Z,Z,0),G.wnext=Z,G.whave=G.wsize):(G.wnext+=ce,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=ce))),0}s.inflateReset=x,s.inflateReset2=E,s.inflateResetKeep=w,s.inflateInit=function(R){return z(R,15)},s.inflateInit2=z,s.inflate=function(R,V){var b,Z,ce,G,J,F,ie,H,M,K,Y,ee,fe,q,$,j,Q,oe,C,O,u,P,T,k,S=0,I=new i.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return f;(b=R.state).mode===12&&(b.mode=13),J=R.next_out,ce=R.output,ie=R.avail_out,G=R.next_in,Z=R.input,F=R.avail_in,H=b.hold,M=b.bits,K=F,Y=ie,P=_;e:for(;;)switch(b.mode){case y:if(b.wrap===0){b.mode=13;break}for(;M<16;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(2&b.wrap&&H===35615){I[b.check=0]=255&H,I[1]=H>>>8&255,b.check=o(b.check,I,2,0),M=H=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&H)<<8)+(H>>8))%31){R.msg="incorrect header check",b.mode=30;break}if((15&H)!=8){R.msg="unknown compression method",b.mode=30;break}if(M-=4,u=8+(15&(H>>>=4)),b.wbits===0)b.wbits=u;else if(u>b.wbits){R.msg="invalid window size",b.mode=30;break}b.dmax=1<<u,R.adler=b.check=1,b.mode=512&H?10:12,M=H=0;break;case 2:for(;M<16;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(b.flags=H,(255&b.flags)!=8){R.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){R.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=H>>8&1),512&b.flags&&(I[0]=255&H,I[1]=H>>>8&255,b.check=o(b.check,I,2,0)),M=H=0,b.mode=3;case 3:for(;M<32;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}b.head&&(b.head.time=H),512&b.flags&&(I[0]=255&H,I[1]=H>>>8&255,I[2]=H>>>16&255,I[3]=H>>>24&255,b.check=o(b.check,I,4,0)),M=H=0,b.mode=4;case 4:for(;M<16;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}b.head&&(b.head.xflags=255&H,b.head.os=H>>8),512&b.flags&&(I[0]=255&H,I[1]=H>>>8&255,b.check=o(b.check,I,2,0)),M=H=0,b.mode=5;case 5:if(1024&b.flags){for(;M<16;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}b.length=H,b.head&&(b.head.extra_len=H),512&b.flags&&(I[0]=255&H,I[1]=H>>>8&255,b.check=o(b.check,I,2,0)),M=H=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(F<(ee=b.length)&&(ee=F),ee&&(b.head&&(u=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),i.arraySet(b.head.extra,Z,G,ee,u)),512&b.flags&&(b.check=o(b.check,Z,ee,G)),F-=ee,G+=ee,b.length-=ee),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(F===0)break e;for(ee=0;u=Z[G+ee++],b.head&&u&&b.length<65536&&(b.head.name+=String.fromCharCode(u)),u&&ee<F;);if(512&b.flags&&(b.check=o(b.check,Z,ee,G)),F-=ee,G+=ee,u)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(F===0)break e;for(ee=0;u=Z[G+ee++],b.head&&u&&b.length<65536&&(b.head.comment+=String.fromCharCode(u)),u&&ee<F;);if(512&b.flags&&(b.check=o(b.check,Z,ee,G)),F-=ee,G+=ee,u)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;M<16;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(H!==(65535&b.check)){R.msg="header crc mismatch",b.mode=30;break}M=H=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),R.adler=b.check=0,b.mode=12;break;case 10:for(;M<32;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}R.adler=b.check=g(H),M=H=0,b.mode=11;case 11:if(b.havedict===0)return R.next_out=J,R.avail_out=ie,R.next_in=G,R.avail_in=F,b.hold=H,b.bits=M,2;R.adler=b.check=1,b.mode=12;case 12:if(V===5||V===6)break e;case 13:if(b.last){H>>>=7&M,M-=7&M,b.mode=27;break}for(;M<3;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}switch(b.last=1&H,M-=1,3&(H>>>=1)){case 0:b.mode=14;break;case 1:if(N(b),b.mode=20,V!==6)break;H>>>=2,M-=2;break e;case 2:b.mode=17;break;case 3:R.msg="invalid block type",b.mode=30}H>>>=2,M-=2;break;case 14:for(H>>>=7&M,M-=7&M;M<32;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if((65535&H)!=(H>>>16^65535)){R.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&H,M=H=0,b.mode=15,V===6)break e;case 15:b.mode=16;case 16:if(ee=b.length){if(F<ee&&(ee=F),ie<ee&&(ee=ie),ee===0)break e;i.arraySet(ce,Z,G,ee,J),F-=ee,G+=ee,ie-=ee,J+=ee,b.length-=ee;break}b.mode=12;break;case 17:for(;M<14;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(b.nlen=257+(31&H),H>>>=5,M-=5,b.ndist=1+(31&H),H>>>=5,M-=5,b.ncode=4+(15&H),H>>>=4,M-=4,286<b.nlen||30<b.ndist){R.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;M<3;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}b.lens[W[b.have++]]=7&H,H>>>=3,M-=3}for(;b.have<19;)b.lens[W[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,T={bits:b.lenbits},P=c(0,b.lens,0,19,b.lencode,0,b.work,T),b.lenbits=T.bits,P){R.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;j=(S=b.lencode[H&(1<<b.lenbits)-1])>>>16&255,Q=65535&S,!(($=S>>>24)<=M);){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(Q<16)H>>>=$,M-=$,b.lens[b.have++]=Q;else{if(Q===16){for(k=$+2;M<k;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(H>>>=$,M-=$,b.have===0){R.msg="invalid bit length repeat",b.mode=30;break}u=b.lens[b.have-1],ee=3+(3&H),H>>>=2,M-=2}else if(Q===17){for(k=$+3;M<k;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}M-=$,u=0,ee=3+(7&(H>>>=$)),H>>>=3,M-=3}else{for(k=$+7;M<k;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}M-=$,u=0,ee=11+(127&(H>>>=$)),H>>>=7,M-=7}if(b.have+ee>b.nlen+b.ndist){R.msg="invalid bit length repeat",b.mode=30;break}for(;ee--;)b.lens[b.have++]=u}}if(b.mode===30)break;if(b.lens[256]===0){R.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,T={bits:b.lenbits},P=c(d,b.lens,0,b.nlen,b.lencode,0,b.work,T),b.lenbits=T.bits,P){R.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,T={bits:b.distbits},P=c(p,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,T),b.distbits=T.bits,P){R.msg="invalid distances set",b.mode=30;break}if(b.mode=20,V===6)break e;case 20:b.mode=21;case 21:if(6<=F&&258<=ie){R.next_out=J,R.avail_out=ie,R.next_in=G,R.avail_in=F,b.hold=H,b.bits=M,l(R,Y),J=R.next_out,ce=R.output,ie=R.avail_out,G=R.next_in,Z=R.input,F=R.avail_in,H=b.hold,M=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;j=(S=b.lencode[H&(1<<b.lenbits)-1])>>>16&255,Q=65535&S,!(($=S>>>24)<=M);){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(j&&!(240&j)){for(oe=$,C=j,O=Q;j=(S=b.lencode[O+((H&(1<<oe+C)-1)>>oe)])>>>16&255,Q=65535&S,!(oe+($=S>>>24)<=M);){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}H>>>=oe,M-=oe,b.back+=oe}if(H>>>=$,M-=$,b.back+=$,b.length=Q,j===0){b.mode=26;break}if(32&j){b.back=-1,b.mode=12;break}if(64&j){R.msg="invalid literal/length code",b.mode=30;break}b.extra=15&j,b.mode=22;case 22:if(b.extra){for(k=b.extra;M<k;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}b.length+=H&(1<<b.extra)-1,H>>>=b.extra,M-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;j=(S=b.distcode[H&(1<<b.distbits)-1])>>>16&255,Q=65535&S,!(($=S>>>24)<=M);){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(!(240&j)){for(oe=$,C=j,O=Q;j=(S=b.distcode[O+((H&(1<<oe+C)-1)>>oe)])>>>16&255,Q=65535&S,!(oe+($=S>>>24)<=M);){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}H>>>=oe,M-=oe,b.back+=oe}if(H>>>=$,M-=$,b.back+=$,64&j){R.msg="invalid distance code",b.mode=30;break}b.offset=Q,b.extra=15&j,b.mode=24;case 24:if(b.extra){for(k=b.extra;M<k;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}b.offset+=H&(1<<b.extra)-1,H>>>=b.extra,M-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){R.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(ie===0)break e;if(ee=Y-ie,b.offset>ee){if((ee=b.offset-ee)>b.whave&&b.sane){R.msg="invalid distance too far back",b.mode=30;break}fe=ee>b.wnext?(ee-=b.wnext,b.wsize-ee):b.wnext-ee,ee>b.length&&(ee=b.length),q=b.window}else q=ce,fe=J-b.offset,ee=b.length;for(ie<ee&&(ee=ie),ie-=ee,b.length-=ee;ce[J++]=q[fe++],--ee;);b.length===0&&(b.mode=21);break;case 26:if(ie===0)break e;ce[J++]=b.length,ie--,b.mode=21;break;case 27:if(b.wrap){for(;M<32;){if(F===0)break e;F--,H|=Z[G++]<<M,M+=8}if(Y-=ie,R.total_out+=Y,b.total+=Y,Y&&(R.adler=b.check=b.flags?o(b.check,ce,Y,J-Y):a(b.check,ce,Y,J-Y)),Y=ie,(b.flags?H:g(H))!==b.check){R.msg="incorrect data check",b.mode=30;break}M=H=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;M<32;){if(F===0)break e;F--,H+=Z[G++]<<M,M+=8}if(H!==(4294967295&b.total)){R.msg="incorrect length check",b.mode=30;break}M=H=0}b.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return f}return R.next_out=J,R.avail_out=ie,R.next_in=G,R.avail_in=F,b.hold=H,b.bits=M,(b.wsize||Y!==R.avail_out&&b.mode<30&&(b.mode<27||V!==4))&&te(R,R.output,R.next_out,Y-R.avail_out)?(b.mode=31,-4):(K-=R.avail_in,Y-=R.avail_out,R.total_in+=K,R.total_out+=Y,b.total+=Y,b.wrap&&Y&&(R.adler=b.check=b.flags?o(b.check,ce,Y,R.next_out-Y):a(b.check,ce,Y,R.next_out-Y)),R.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(K==0&&Y===0||V===4)&&P===_&&(P=-5),P)},s.inflateEnd=function(R){if(!R||!R.state)return f;var V=R.state;return V.window&&(V.window=null),R.state=null,_},s.inflateGetHeader=function(R,V){var b;return R&&R.state&&2&(b=R.state).wrap?((b.head=V).done=!1,_):f},s.inflateSetDictionary=function(R,V){var b,Z=V.length;return R&&R.state?(b=R.state).wrap!==0&&b.mode!==11?f:b.mode===11&&a(1,V,Z,0)!==b.check?-3:te(R,V,Z,Z)?(b.mode=31,-4):(b.havedict=1,_):f},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,p,_,f,y,h,m,g){var v,w,x,E,z,L,D,A,N,te=g.bits,R=0,V=0,b=0,Z=0,ce=0,G=0,J=0,F=0,ie=0,H=0,M=null,K=0,Y=new i.Buf16(16),ee=new i.Buf16(16),fe=null,q=0;for(R=0;R<=15;R++)Y[R]=0;for(V=0;V<f;V++)Y[p[_+V]]++;for(ce=te,Z=15;1<=Z&&Y[Z]===0;Z--);if(Z<ce&&(ce=Z),Z===0)return y[h++]=20971520,y[h++]=20971520,g.bits=1,0;for(b=1;b<Z&&Y[b]===0;b++);for(ce<b&&(ce=b),R=F=1;R<=15;R++)if(F<<=1,(F-=Y[R])<0)return-1;if(0<F&&(d===0||Z!==1))return-1;for(ee[1]=0,R=1;R<15;R++)ee[R+1]=ee[R]+Y[R];for(V=0;V<f;V++)p[_+V]!==0&&(m[ee[p[_+V]]++]=V);if(L=d===0?(M=fe=m,19):d===1?(M=a,K-=257,fe=o,q-=257,256):(M=l,fe=c,-1),R=b,z=h,J=V=H=0,x=-1,E=(ie=1<<(G=ce))-1,d===1&&852<ie||d===2&&592<ie)return 1;for(;;){for(D=R-J,N=m[V]<L?(A=0,m[V]):m[V]>L?(A=fe[q+m[V]],M[K+m[V]]):(A=96,0),v=1<<R-J,b=w=1<<G;y[z+(H>>J)+(w-=v)]=D<<24|A<<16|N|0,w!==0;);for(v=1<<R-1;H&v;)v>>=1;if(v!==0?(H&=v-1,H+=v):H=0,V++,--Y[R]==0){if(R===Z)break;R=p[_+m[V]]}if(ce<R&&(H&E)!==x){for(J===0&&(J=ce),z+=b,F=1<<(G=R-J);G+J<Z&&!((F-=Y[G+J])<=0);)G++,F<<=1;if(ie+=1<<G,d===1&&852<ie||d===2&&592<ie)return 1;y[x=H&E]=ce<<24|G<<16|z-h|0}}return H!==0&&(y[z+H]=R-J<<24|64<<16|0),g.bits=ce,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),a=0,o=1;function l(S){for(var I=S.length;0<=--I;)S[I]=0}var c=0,d=29,p=256,_=p+1+d,f=30,y=19,h=2*_+1,m=15,g=16,v=7,w=256,x=16,E=17,z=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=new Array(2*(_+2));l(te);var R=new Array(2*f);l(R);var V=new Array(512);l(V);var b=new Array(256);l(b);var Z=new Array(d);l(Z);var ce,G,J,F=new Array(f);function ie(S,I,W,U,B){this.static_tree=S,this.extra_bits=I,this.extra_base=W,this.elems=U,this.max_length=B,this.has_stree=S&&S.length}function H(S,I){this.dyn_tree=S,this.max_code=0,this.stat_desc=I}function M(S){return S<256?V[S]:V[256+(S>>>7)]}function K(S,I){S.pending_buf[S.pending++]=255&I,S.pending_buf[S.pending++]=I>>>8&255}function Y(S,I,W){S.bi_valid>g-W?(S.bi_buf|=I<<S.bi_valid&65535,K(S,S.bi_buf),S.bi_buf=I>>g-S.bi_valid,S.bi_valid+=W-g):(S.bi_buf|=I<<S.bi_valid&65535,S.bi_valid+=W)}function ee(S,I,W){Y(S,W[2*I],W[2*I+1])}function fe(S,I){for(var W=0;W|=1&S,S>>>=1,W<<=1,0<--I;);return W>>>1}function q(S,I,W){var U,B,X=new Array(m+1),re=0;for(U=1;U<=m;U++)X[U]=re=re+W[U-1]<<1;for(B=0;B<=I;B++){var ne=S[2*B+1];ne!==0&&(S[2*B]=fe(X[ne]++,ne))}}function $(S){var I;for(I=0;I<_;I++)S.dyn_ltree[2*I]=0;for(I=0;I<f;I++)S.dyn_dtree[2*I]=0;for(I=0;I<y;I++)S.bl_tree[2*I]=0;S.dyn_ltree[2*w]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function j(S){8<S.bi_valid?K(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function Q(S,I,W,U){var B=2*I,X=2*W;return S[B]<S[X]||S[B]===S[X]&&U[I]<=U[W]}function oe(S,I,W){for(var U=S.heap[W],B=W<<1;B<=S.heap_len&&(B<S.heap_len&&Q(I,S.heap[B+1],S.heap[B],S.depth)&&B++,!Q(I,U,S.heap[B],S.depth));)S.heap[W]=S.heap[B],W=B,B<<=1;S.heap[W]=U}function C(S,I,W){var U,B,X,re,ne=0;if(S.last_lit!==0)for(;U=S.pending_buf[S.d_buf+2*ne]<<8|S.pending_buf[S.d_buf+2*ne+1],B=S.pending_buf[S.l_buf+ne],ne++,U===0?ee(S,B,I):(ee(S,(X=b[B])+p+1,I),(re=L[X])!==0&&Y(S,B-=Z[X],re),ee(S,X=M(--U),W),(re=D[X])!==0&&Y(S,U-=F[X],re)),ne<S.last_lit;);ee(S,w,I)}function O(S,I){var W,U,B,X=I.dyn_tree,re=I.stat_desc.static_tree,ne=I.stat_desc.has_stree,ue=I.stat_desc.elems,pe=-1;for(S.heap_len=0,S.heap_max=h,W=0;W<ue;W++)X[2*W]!==0?(S.heap[++S.heap_len]=pe=W,S.depth[W]=0):X[2*W+1]=0;for(;S.heap_len<2;)X[2*(B=S.heap[++S.heap_len]=pe<2?++pe:0)]=1,S.depth[B]=0,S.opt_len--,ne&&(S.static_len-=re[2*B+1]);for(I.max_code=pe,W=S.heap_len>>1;1<=W;W--)oe(S,X,W);for(B=ue;W=S.heap[1],S.heap[1]=S.heap[S.heap_len--],oe(S,X,1),U=S.heap[1],S.heap[--S.heap_max]=W,S.heap[--S.heap_max]=U,X[2*B]=X[2*W]+X[2*U],S.depth[B]=(S.depth[W]>=S.depth[U]?S.depth[W]:S.depth[U])+1,X[2*W+1]=X[2*U+1]=B,S.heap[1]=B++,oe(S,X,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(de,Le){var He,$e,Xe,De,Ut,Ke,Ue=Le.dyn_tree,vn=Le.max_code,Ea=Le.stat_desc.static_tree,Oa=Le.stat_desc.has_stree,Ca=Le.stat_desc.extra_bits,$s=Le.stat_desc.extra_base,yn=Le.stat_desc.max_length,Yn=0;for(De=0;De<=m;De++)de.bl_count[De]=0;for(Ue[2*de.heap[de.heap_max]+1]=0,He=de.heap_max+1;He<h;He++)yn<(De=Ue[2*Ue[2*($e=de.heap[He])+1]+1]+1)&&(De=yn,Yn++),Ue[2*$e+1]=De,vn<$e||(de.bl_count[De]++,Ut=0,$s<=$e&&(Ut=Ca[$e-$s]),Ke=Ue[2*$e],de.opt_len+=Ke*(De+Ut),Oa&&(de.static_len+=Ke*(Ea[2*$e+1]+Ut)));if(Yn!==0){do{for(De=yn-1;de.bl_count[De]===0;)De--;de.bl_count[De]--,de.bl_count[De+1]+=2,de.bl_count[yn]--,Yn-=2}while(0<Yn);for(De=yn;De!==0;De--)for($e=de.bl_count[De];$e!==0;)vn<(Xe=de.heap[--He])||(Ue[2*Xe+1]!==De&&(de.opt_len+=(De-Ue[2*Xe+1])*Ue[2*Xe],Ue[2*Xe+1]=De),$e--)}}(S,I),q(X,pe,S.bl_count)}function u(S,I,W){var U,B,X=-1,re=I[1],ne=0,ue=7,pe=4;for(re===0&&(ue=138,pe=3),I[2*(W+1)+1]=65535,U=0;U<=W;U++)B=re,re=I[2*(U+1)+1],++ne<ue&&B===re||(ne<pe?S.bl_tree[2*B]+=ne:B!==0?(B!==X&&S.bl_tree[2*B]++,S.bl_tree[2*x]++):ne<=10?S.bl_tree[2*E]++:S.bl_tree[2*z]++,X=B,pe=(ne=0)===re?(ue=138,3):B===re?(ue=6,3):(ue=7,4))}function P(S,I,W){var U,B,X=-1,re=I[1],ne=0,ue=7,pe=4;for(re===0&&(ue=138,pe=3),U=0;U<=W;U++)if(B=re,re=I[2*(U+1)+1],!(++ne<ue&&B===re)){if(ne<pe)for(;ee(S,B,S.bl_tree),--ne!=0;);else B!==0?(B!==X&&(ee(S,B,S.bl_tree),ne--),ee(S,x,S.bl_tree),Y(S,ne-3,2)):ne<=10?(ee(S,E,S.bl_tree),Y(S,ne-3,3)):(ee(S,z,S.bl_tree),Y(S,ne-11,7));X=B,pe=(ne=0)===re?(ue=138,3):B===re?(ue=6,3):(ue=7,4)}}l(F);var T=!1;function k(S,I,W,U){Y(S,(c<<1)+(U?1:0),3),function(B,X,re,ne){j(B),K(B,re),K(B,~re),i.arraySet(B.pending_buf,B.window,X,re,B.pending),B.pending+=re}(S,I,W)}s._tr_init=function(S){T||(function(){var I,W,U,B,X,re=new Array(m+1);for(B=U=0;B<d-1;B++)for(Z[B]=U,I=0;I<1<<L[B];I++)b[U++]=B;for(b[U-1]=B,B=X=0;B<16;B++)for(F[B]=X,I=0;I<1<<D[B];I++)V[X++]=B;for(X>>=7;B<f;B++)for(F[B]=X<<7,I=0;I<1<<D[B]-7;I++)V[256+X++]=B;for(W=0;W<=m;W++)re[W]=0;for(I=0;I<=143;)te[2*I+1]=8,I++,re[8]++;for(;I<=255;)te[2*I+1]=9,I++,re[9]++;for(;I<=279;)te[2*I+1]=7,I++,re[7]++;for(;I<=287;)te[2*I+1]=8,I++,re[8]++;for(q(te,_+1,re),I=0;I<f;I++)R[2*I+1]=5,R[2*I]=fe(I,5);ce=new ie(te,L,p+1,_,m),G=new ie(R,D,0,f,m),J=new ie(new Array(0),A,0,y,v)}(),T=!0),S.l_desc=new H(S.dyn_ltree,ce),S.d_desc=new H(S.dyn_dtree,G),S.bl_desc=new H(S.bl_tree,J),S.bi_buf=0,S.bi_valid=0,$(S)},s._tr_stored_block=k,s._tr_flush_block=function(S,I,W,U){var B,X,re=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(ne){var ue,pe=4093624447;for(ue=0;ue<=31;ue++,pe>>>=1)if(1&pe&&ne.dyn_ltree[2*ue]!==0)return a;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return o;for(ue=32;ue<p;ue++)if(ne.dyn_ltree[2*ue]!==0)return o;return a}(S)),O(S,S.l_desc),O(S,S.d_desc),re=function(ne){var ue;for(u(ne,ne.dyn_ltree,ne.l_desc.max_code),u(ne,ne.dyn_dtree,ne.d_desc.max_code),O(ne,ne.bl_desc),ue=y-1;3<=ue&&ne.bl_tree[2*N[ue]+1]===0;ue--);return ne.opt_len+=3*(ue+1)+5+5+4,ue}(S),B=S.opt_len+3+7>>>3,(X=S.static_len+3+7>>>3)<=B&&(B=X)):B=X=W+5,W+4<=B&&I!==-1?k(S,I,W,U):S.strategy===4||X===B?(Y(S,2+(U?1:0),3),C(S,te,R)):(Y(S,4+(U?1:0),3),function(ne,ue,pe,de){var Le;for(Y(ne,ue-257,5),Y(ne,pe-1,5),Y(ne,de-4,4),Le=0;Le<de;Le++)Y(ne,ne.bl_tree[2*N[Le]+1],3);P(ne,ne.dyn_ltree,ue-1),P(ne,ne.dyn_dtree,pe-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,re+1),C(S,S.dyn_ltree,S.dyn_dtree)),$(S),U&&j(S)},s._tr_tally=function(S,I,W){return S.pending_buf[S.d_buf+2*S.last_lit]=I>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&I,S.pending_buf[S.l_buf+S.last_lit]=255&W,S.last_lit++,I===0?S.dyn_ltree[2*W]++:(S.matches++,I--,S.dyn_ltree[2*(b[W]+p+1)]++,S.dyn_dtree[2*M(I)]++),S.last_lit===S.lit_bufsize-1},s._tr_align=function(S){Y(S,2,3),ee(S,w,te),function(I){I.bi_valid===16?(K(I,I.bi_buf),I.bi_buf=0,I.bi_valid=0):8<=I.bi_valid&&(I.pending_buf[I.pending++]=255&I.bi_buf,I.bi_buf>>=8,I.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(a,o){if(!a.setImmediate){var l,c,d,p,_=1,f={},y=!1,h=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,l={}.toString.call(a.process)==="[object process]"?function(x){process.nextTick(function(){v(x)})}:function(){if(a.postMessage&&!a.importScripts){var x=!0,E=a.onmessage;return a.onmessage=function(){x=!1},a.postMessage("","*"),a.onmessage=E,x}}()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(x){a.postMessage(p+x,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(x){v(x.data)},function(x){d.port2.postMessage(x)}):h&&"onreadystatechange"in h.createElement("script")?(c=h.documentElement,function(x){var E=h.createElement("script");E.onreadystatechange=function(){v(x),E.onreadystatechange=null,c.removeChild(E),E=null},c.appendChild(E)}):function(x){setTimeout(v,0,x)},m.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var E=new Array(arguments.length-1),z=0;z<E.length;z++)E[z]=arguments[z+1];var L={callback:x,args:E};return f[_]=L,l(_),_++},m.clearImmediate=g}function g(x){delete f[x]}function v(x){if(y)setTimeout(v,0,x);else{var E=f[x];if(E){y=!0;try{(function(z){var L=z.callback,D=z.args;switch(D.length){case 0:L();break;case 1:L(D[0]);break;case 2:L(D[0],D[1]);break;case 3:L(D[0],D[1],D[2]);break;default:L.apply(o,D)}})(E)}finally{g(x),y=!1}}}}function w(x){x.source===a&&typeof x.data=="string"&&x.data.indexOf(p)===0&&v(+x.data.slice(p.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Jn<"u"?Jn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(wa);var If=wa.exports;const Lf=ba(If);class Rf{constructor(t){ke(this,"nodeList");ke(this,"title","");ke(this,"downTotal",0);ke(this,"downFile",0);ke(this,"downCur",0);ke(this,"fileMap",new Map);ke(this,"zipRoot");this.nodeList=t,this.title=this.buildTitle()}async prepare(){this.nodeList=await this.getFullSubList(),console.info(this.nodeList)}buildTitle(){let t="";if(this.nodeList.length==1)t=this.nodeList[0].title??"";else{let n=[];for(let r=0;r<this.nodeList.length&&(n.push(this.nodeList[r].title??""),!(r>3));r++);t=n.join("，")}return t.length>150&&(t=t.substring(0,150)+"…"),t+=".zip",t}async getFullSubList(){const t=new Set;this.nodeList.forEach(r=>{r.type==="directory"&&r.id&&t.add(r.id)});const n=Array.from(t);for(let r=0;r<n.length;r++){const s=n[r],i=await Oe("file/get",Object.assign({mode:"directory",cascade_dir:"1",id_dir:s.toString(),with:"file"}));i&&this.nodeList.push(...i.list)}return this.nodeList.sort((r,s)=>{let i=r.type==="directory"?"0":"1";r.node_id_list&&r.node_id_list.forEach(o=>i+=o.toString().padStart(15,"0"));let a=s.type==="directory"?"0":"1";return s.node_id_list&&s.node_id_list.forEach(o=>a+=o.toString().padStart(15,"0")),i>a?1:-1}),this.nodeList.forEach(r=>{var s,i;return this.downTotal+=((i=(s=r.file_index)==null?void 0:s.raw)==null?void 0:i.size)??0}),this.nodeList}async download(){var t,n;for(let r=0;r<this.nodeList.length;r++){const s=this.nodeList[r];if(!s.id||s.type==="directory"||(t=s.file_index)!=null&&t.raw)continue;const i=(n=s.file_index)==null?void 0:n.raw;if(!i||!i.path)continue;const a=i.path+"?filename="+s.title,o=await this.downloadFile(a,this.downloadProcess.bind(this));this.fileMap.set(s.id,o),this.downCur=0,this.downFile+=i.size}}downloadProcess(t){this.downCur=t.loaded}downloadFile(t,n){return new Promise(r=>{const s=new XMLHttpRequest;s.withCredentials=!0,s.responseType="arraybuffer",s.onreadystatechange=function(){if(s.readyState===4){if(s.status>=400)return cs(`${s.status}:${s.statusText}`);r(s.response)}},n&&(s.onprogress=n),s.open("GET",t),s.send()})}async build(){this.zipRoot=new Lf;const t=new Map;this.nodeList.forEach(n=>{if(!n.id)return;let r=n.title??"";const s=t.get(n.id_parent??0);if(s&&(r=s[0]+"/"+r),n.type!="directory"){const i=this.fileMap.get(n.id);if(!i)return;t.set(n.id,[r,this.zipRoot.file(r,i)])}else t.set(n.id,[r,this.zipRoot.folder(r)])})}complete(){return new Promise(t=>{var n;(n=this.zipRoot)==null||n.generateAsync({type:"blob"}).then(r=>{let s=document.createElement("a");s.style.display="none",s.href=URL.createObjectURL(r),s.target="_blank",s.setAttribute("download",this.title),s.click(),t(!0)})})}}const Kr=["scroll_log","image_rotate"];let er=null,Nt=null;function Tf(){er=window.indexedDB.open(ze.indexedDBName,4),er.onupgradeneeded=Pf,er.onerror=e=>{},er.onsuccess=e=>{Nt=e.target.result}}function Pf(e){return console.info("onupgradeneeded",e),new Promise(t=>{Nt=e.target.result,Mf(Nt);let n=0;for(let r=0;r<Kr.length;r++){const s=Kr[r],i=Nt.createObjectStore(s,{keyPath:"key"});i.transaction.oncomplete=a=>{n+=1,n==Kr.length-1&&t()}}})}function Mf(e){if(!e)return;const t=e==null?void 0:e.objectStoreNames;if(t)for(let n=0;n<t.length;n++)e.deleteObjectStore(t[n])}function Ts(e,t){return new Promise(n=>{if(!Nt)return n(null);const r=Nt.transaction([e],"readonly").objectStore(e).get(t);r.onerror=s=>n(null),r.onsuccess=s=>s.target.result?n(s.target.result.val):n(null)})}function Ps(e,t,n){return new Promise(r=>{if(!Nt)return r(null);const s=Nt.transaction([e],"readwrite").objectStore(e).put({key:t,val:n});s.onerror=i=>r(null),s.onsuccess=i=>r(null)})}var xa={};Object.defineProperty(xa,"__esModule",{value:!0});function zf(e){e===void 0&&(e={});var t=/^0/,n=/\s+/g,r=/^\s+|\s+$/g,s=/[^\x00-\x80]/,i=/^0x[0-9a-f]+$/i,a=/(0x[\da-fA-F]+|(^[\+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|\d+)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=String.prototype.toLocaleLowerCase||String.prototype.toLowerCase,c=e.desc?-1:1,d=-c,p=e.insensitive?function(y){return l.call(""+y).replace(r,"")}:function(y){return(""+y).replace(r,"")};function _(y){return y.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")}function f(y,h){return(!y.match(t)||h===1)&&parseFloat(y)||y.replace(n," ").replace(r,"")||0}return function(y,h){var m=p(y),g=p(h);if(!m&&!g)return 0;if(!m&&g)return d;if(m&&!g)return c;var v=_(m),w=_(g),x=m.match(i),E=g.match(i),z=x&&E?parseInt(x[0],16):v.length!==1&&Date.parse(m),L=x&&E?parseInt(E[0],16):z&&g.match(o)&&Date.parse(g)||null;if(L){if(z===L)return 0;if(z<L)return d;if(z>L)return c}for(var D=v.length,A=w.length,N=0,te=Math.max(D,A);N<te;N+=1){var R=f(v[N]||"",D),V=f(w[N]||"",A);if(isNaN(R)!==isNaN(V))return isNaN(R)?c:d;if(s.test(R+V)&&R.localeCompare){var b=R.localeCompare(V);if(b>0)return c;if(b<0)return d;if(N===te-1)return 0}if(R<V)return d;if(R>V)return c;if(""+R<""+V)return d;if(""+R>""+V)return c}return 0}}var $f=xa.default=zf;let ge;class op{constructor(t){ke(this,"nodeList",he([]));ke(this,"getList");ke(this,"route");ke(this,"router");ke(this,"contentDOM");ke(this,"emitGo");ke(this,"modalStore");ke(this,"localConfigure");ke(this,"contextStore");ke(this,"mode",he(""));ke(this,"modeKey","");ke(this,"sortVal",he(""));ke(this,"selecting",!1);ke(this,"selectingMovEvtCount",0);ke(this,"selectingOffset",[[0,0],[0,0]]);ke(this,"preSelectedNodeIndexSet",new Set);ke(this,"selectingKeyDef","");ke(this,"showSelectionOp",he(!1));ke(this,"lastSelectIndex",-1);ke(this,"reloadOffset_timer",0);ke(this,"reloadOffset_count",0);ke(this,"startScroll",!1);console.info(t),this.contentDOM=t.contentDOM,this.getList=t.getList,this.route=t.route,this.router=t.router,this.emitGo=t.emitGo,this.modalStore=en(),this.localConfigure=gn(),this.contextStore=ya(),this.mode.value=this.localConfigure.get("file_view_mode")??"detail",this.modeKey=this.localConfigure.listen("file_view_mode",n=>this.mode.value=n),this.sortVal=he(this.localConfigure.get("file_view_sort")??"name_asc"),this.contextMenuEvt=this.contextMenuEvt.bind(this),this.mouseDownEvt=this.mouseDownEvt.bind(this),this.mouseMoveEvt=this.mouseMoveEvt.bind(this),this.mouseUpEvt=this.mouseUpEvt.bind(this),this.keymap=this.keymap.bind(this),this.reloadOffset=this.reloadOffset.bind(this),this.scrollEvt=this.scrollEvt.bind(this),addEventListener("contextmenu",this.contextMenuEvt),addEventListener("pointerdown",this.mouseDownEvt),addEventListener("pointermove",this.mouseMoveEvt),addEventListener("pointerup",this.mouseUpEvt),addEventListener("keydown",this.keymap),addEventListener("resize",this.reloadOffset),this.contentDOM.addEventListener("scroll",this.scrollEvt),ge=this}destructor(){console.info("destructor loaded"),this.localConfigure.release("file_view_mode",this.modeKey),removeEventListener("contextmenu",this.contextMenuEvt),removeEventListener("mousedown",this.mouseDownEvt),removeEventListener("mousemove",this.mouseMoveEvt),removeEventListener("mouseup",this.mouseUpEvt),removeEventListener("keydown",this.keymap),removeEventListener("resize",this.reloadOffset),this.contentDOM&&this.contentDOM.removeEventListener("scroll",this.scrollEvt),ge=null}setList(t){this.nodeList.value=t,setTimeout(()=>{console.info("setList",t),this.reloadOffset(void 0)},ze.timeouts.offsetDebounce)}deleteFromList(t){const n=[],r=new Set;t.forEach(s=>r.add(s)),this.nodeList.value.forEach(s=>{r.has(s.id)||n.push(s)}),this.getList(n)}inDetailView(t){let n=!1,r=t.target;for(;r;){if(r.contentEditable==="true"){n=!1;break}if(r.classList.contains("rater")){n=!1;break}if(r.classList.contains("list_fav")){n=!0;break}if(r.classList.contains("view_fav")){n=!1;break}if(r.classList.contains("content_meta")){n=!1;break}if(r.classList.contains("fr_content")){n=!0;break}if(!r.parentElement)break;r=r.parentElement}return n}inTaggingDOM(t){let n=!1,r=t.target;for(;r;){if(r.classList.contains("content_detail"))return!1;if(r.classList.contains("tag_list")){n=!0;break}if(!r.parentElement)break;r=r.parentElement}return n}mouseDownEvt(t){var a,o,l,c;if(!this.inDetailView(t)||t.button===1)return;if(this.selectingOffset[0]=[t.x+(((a=this.contentDOM)==null?void 0:a.scrollLeft)??0),t.y+(((o=this.contentDOM)==null?void 0:o.scrollTop)??0)],this.selectingOffset[1]=[t.x+(((l=this.contentDOM)==null?void 0:l.scrollLeft)??0),t.y+(((c=this.contentDOM)==null?void 0:c.scrollTop)??0)],this.preSelectedNodeIndexSet.clear(),t.preventDefault(),t.button!==0)return this.rightMouseDownEvt(t);this.nodeList.value.forEach((d,p)=>{d._selected&&this.preSelectedNodeIndexSet.add(p)}),this.selecting=!0,this.selectingMovEvtCount=0;const n=this.getSelection(this.selectingOffset),r=[];t.ctrlKey&&r.push("ctrl"),t.shiftKey&&r.push("shift"),this.selectingKeyDef=r.join("_");let s=-1;const i=Array.from(n);switch(i.length&&(s=i.pop()??-1),this.selectingKeyDef){case"shift":this.preSelectedNodeIndexSet.clear();case"ctrl_shift":if(s==-1||this.lastSelectIndex==-1)break;const d=Math.min(s,this.lastSelectIndex),p=Math.max(s,this.lastSelectIndex);for(let _=d;_<=p;_++)n.has(_)||this.preSelectedNodeIndexSet.add(_);break;default:this.preSelectedNodeIndexSet.clear();break;case"ctrl":break}this.nodeList.value.forEach((d,p)=>{let _=0;this.preSelectedNodeIndexSet.has(p)&&(_+=1),n.has(p)&&(_+=1),d._selected=_===1}),this.lastSelectIndex=s,this.showSelectionOp.value=this.preSelectedNodeIndexSet.size+n.size>0}rightMouseDownEvt(t){const n=this.getSelection(this.selectingOffset);let r=!1;const s=new Set;this.nodeList.value.forEach((i,a)=>{i._selected&&(s.add(a),n.has(a)&&(r=!0))}),r?this.preSelectedNodeIndexSet=s:this.preSelectedNodeIndexSet=n,this.nodeList.value.forEach((i,a)=>{i._selected=this.preSelectedNodeIndexSet.has(a)})}mouseMoveEvt(t){var s,i;if(!this.selecting||(this.selectingMovEvtCount+=1,this.selectingMovEvtCount<10))return;t.preventDefault(),this.selectingOffset[1]=[t.x+(((s=this.contentDOM)==null?void 0:s.scrollLeft)??0),t.y+(((i=this.contentDOM)==null?void 0:i.scrollTop)??0)];const n=this.getSelection(this.selectingOffset);this.nodeList.value.forEach((a,o)=>{let l=0;this.preSelectedNodeIndexSet.has(o)&&(l+=1),n.has(o)&&(l+=1),a._selected=l===1});const r=this.getSelection([this.selectingOffset[1],this.selectingOffset[1]]);r.size&&(this.lastSelectIndex=Array.from(r).pop()??-1),this.showSelectionOp.value=this.preSelectedNodeIndexSet.size+n.size>0}mouseUpEvt(t){this.selecting&&(t.preventDefault(),setTimeout(()=>{this.selecting=!1,this.selectingMovEvtCount=0,this.selectingOffset=[[0,0],[0,0]],this.preSelectedNodeIndexSet.clear(),this.selectingKeyDef=""},ze.timeouts.selectEvt))}async contextMenuEvt(t){if(!this.inDetailView(t))return;let n=this.route.name==="Recycle",r=this.getSelected();if(!r.nodeLs||!r.nodeLs.length)return;let s=r.nodeLs.length!==1;const i=r.nodeLs,a=r.idSet;let o=this.localConfigure.get("file_view_mode")??"detail";this.route.name!=="Directory"&&(o="detail");let l=o==="detail";this.route.name==="Recycle"&&(l=!1),t.preventDefault(),t.stopPropagation(),this.contextStore.trigger([{title:"Open",auth:"guest",method:async c=>{console.info("Open",c),s?await ye.op_bath_browser(a,i):this.emitGo("node",i[0].id)}},{title:"Download",auth:s||i[0].type=="directory"?"none":"guest",method:c=>{var y,h;console.info("Download",c);const d=i[0];let p=(h=(y=d.file_index)==null?void 0:y.raw)==null?void 0:h.path,_=(d==null?void 0:d.title)??"";if(!p)return;let f=document.createElement("a");f.style.display="none",f.href=p+"?filename="+_,f.target="_blank",f.setAttribute("download",_),f.click()}},{title:"Download Selected",auth:s||i[0].type=="directory"?"guest":"none",method:async c=>{if(console.info("DownloadSelected",c),console.info(this,i),!ge||!ge.modalStore)return;const d=new Rf(i),p=he("downloading 0/0 (0%)"),_=ge.modalStore.set({title:d.title,alpha:!1,key:"",single:!1,w:400,h:150,minW:400,minH:150,allow_resize:!0,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,text:p});await d.prepare();const f=setInterval(()=>{const y=d.downFile+d.downCur,h=d.downTotal,m=Math.round(1e4*y/h)/100+"%";_.content.text.value=`downloading ${y}/${h} (${m})`},500);await d.download(),await d.build(),await d.complete(),clearInterval(f),ge.modalStore.close(_.nid)}},{title:"Rename",auth:l?"user":"none",method:async c=>{console.info("Rename",c),s?await ye.op_bath_rename(a,i):await ye.op_rename(i[0])}},{title:"Move",auth:l?"user":"none",method:async c=>{console.info("Move",c),s?await ye.op_bath_move(a,i):await ye.op_move(i[0])}},{title:"Delete",auth:n?"none":"user",method:async c=>{console.info("Delete",c),s?await ye.op_bath_delete(a,i):await ye.op_delete(i[0])}},{title:"Recover",auth:n?"user":"none",method:async c=>{console.info("Recover",c),s?await ye.op_bath_delete(a,i,!0):await ye.op_delete(i[0],!0)}},{title:"Delete Forever",auth:n?"user":"none",method:async c=>{console.info("Delete Forever",c),s?await ye.op_bath_delete_forever(a,i):await ye.op_delete_forever(i[0])}},{title:"Favourite",auth:l?"user":"none",method:async c=>{console.info("Favourite",c),s?await ye.op_bath_favourite(a,i):await ye.op_toggle_favourite(i[0])}},{title:"Extra",auth:"guest",method:c=>{console.info("Extra",c)},child:[{title:"Tagging",auth:l?"user":"none",method:async c=>{console.info("Tagging",c),i.forEach(d=>{ye.op_tag(d)})}},{title:"Set Cover",auth:s?"none":"user",method:async c=>{console.info("Set Cover",c),await ye.op_set_cover(i[0])}},{title:"Import EHT",auth:"admin",method:async c=>{console.info("Import EHT",c),await ye.op_imp_tag_eh(Array.from(a))}},{title:"Cascade Tag",auth:"user",method:async c=>{console.info("Cascade Tag",c),await ye.op_cascade_tag(Array.from(a))}}]},{title:"Admin",auth:"admin",method:c=>{console.info("Extra",c)},child:[{title:"ReBuild",auth:"admin",method:async c=>{console.info("ReBuild",c),await ye.op_rebuild(Array.from(a))}},{title:"ReCheck",auth:s?"none":"admin",method:async c=>{console.info("ReCheck",c),await ye.op_recheck(Array.from(a))}},{title:"RM RAW",auth:"admin",method:async c=>{console.info("RMRAW",c),await ye.op_rm_raw(Array.from(a))}}]}],t)}getSelection(t){let n=t[0][0]>t[1][0]?t[1][0]:t[0][0],r=t[0][1]>t[1][1]?t[1][1]:t[0][1],s=t[0][0]<t[1][0]?t[1][0]:t[0][0],i=t[0][1]<t[1][1]?t[1][1]:t[0][1];const a=new Set;return this.nodeList.value.forEach((o,l)=>{if(!o._offsets)return;let c=o==null?void 0:o._offsets[0],d=o==null?void 0:o._offsets[1],p=o==null?void 0:o._offsets[2],_=o==null?void 0:o._offsets[3],f=c>=n&&c<=s||p>=n&&p<=s||c<=s&&p>=n,y=d>=r&&d<=i||_>=r&&_<=i||d<=i&&_>=r;!f||!y||a.add(l)}),a}clearSelect(t){t.target.classList.contains("content_detail")&&(this.nodeList.value.forEach(n=>{n._selected=!1}),this.showSelectionOp.value=!1)}async bathOp(t){let{idSet:n,nodeLs:r}=this.getSelected();if(n.size)switch(t){case"rename":await ye.op_bath_rename(n,r);break;case"move":await ye.op_bath_move(n,r);break;case"delete":await ye.op_bath_delete(n,r);break;case"delete_forever":await ye.op_bath_delete_forever(n,r);break;case"browser":await ye.op_bath_browser(n,r);break;case"favourite":await ye.op_bath_favourite(n,r);break}}getSelected(){const t=[],n=new Set;return this.nodeList.value.forEach(r=>{r._selected&&(t.push(r),n.add((r==null?void 0:r.id)??0))}),{nodeLs:t,idSet:n}}arrowSelection(t){if(!this.nodeList.value.length)return;let n=this.lastSelectIndex;if(n===-1){const c=this.getSelected();c.idSet.size?n=Array.from(c.idSet).pop()??0:n=0}this.localConfigure.get("file_view_mode"),this.route.name;const r=this.nodeList.value[n];if(!r)return;r._offsets||(r._offsets=[]);const s=r._offsets[2]-r._offsets[0],i=this.contentDOM.offsetWidth,a=Math.floor(i/s);let o=n;switch(t.key){case"ArrowRight":o+=1;break;case"ArrowLeft":o-=1;break;case"ArrowUp":o-=1*a;break;case"ArrowDown":o+=1*a;break}let l=!1;(t.ctrlKey||t.shiftKey)&&(l=!0),o<0&&(o=0),o>this.nodeList.value.length-1&&(o=this.nodeList.value.length-1),this.lastSelectIndex=o,this.nodeList.value.forEach((c,d)=>{if(o===d)return c._selected=!0;c._selected&&!l&&(c._selected=!1)})}setMode(t){this.localConfigure.set("file_view_mode",t),this.setList(this.nodeList.value)}setSort(t){console.info("setSort",t),this.localConfigure.set("file_view_sort",t);const n=this.nodeList.value;this.nodeList.value=[],setTimeout(()=>{this.nodeList.value=this.sortList(n,this.sortVal.value),this.setList(this.nodeList.value)},ze.timeouts.sort)}sortList(t,n){return t=ka(t,n),t}async keymap(t){let n;const r=t.target;switch(t.key){case"F2":if(Mt(r)||Sn(r))return;n=this.getSelected(),n.nodeLs.length!==1?await ye.op_bath_rename(n.idSet,n.nodeLs):await ye.op_rename(n.nodeLs[0]);break;case"Delete":if(Mt(r)||Sn(r))return;n=this.getSelected(),this.route.name==="Recycle"?await ye.op_bath_delete_forever(n.idSet,n.nodeLs):await ye.op_bath_delete(n.idSet,n.nodeLs);break;case"NumpadEnter":case"Enter":if(Mt(r)||Sn(r)||(n=this.getSelected(),!n.idSet.size))return;if(console.info(n.idSet.size),t.altKey&&n.idSet.size==1)return this.emitGo("node",Array.from(n.idSet)[0]);await ye.op_bath_browser(n.idSet,n.nodeLs);break;case"ArrowRight":case"ArrowLeft":case"ArrowUp":case"ArrowDown":return Mt(r)||Sn(r)?void 0:this.arrowSelection(t)}}reloadOffset(t){if(this.reloadOffset_count>100)return;let n=!0;if(this.nodeList.value.forEach(r=>{r._dom||(n=!1)}),clearTimeout(this.reloadOffset_timer),!n){this.reloadOffset_timer=setTimeout(()=>{this.reloadOffset_count+=1,this.reloadOffset(t)},ze.timeouts.offsetDebounce);return}this.nodeList.value.forEach(r=>{if(!r._dom)return;const s=r._dom;let i=0,a=0,o=0,l=0;i=Pe.nodeOffsetX(s),a=Pe.nodeOffsetY(s),o=i+s.offsetWidth,l=a+s.offsetHeight,r._offsets=[i,a,o,l]}),this.scrollEvt(t)}go(t){const n=Object.assign({id_dir:"",id_tag:""},t);this.router.push({path:"/",query:n})}scrollEvt(t){Pe.debounce(()=>{this.saveScroll(),this.reloadLazyLoad()},ze.timeouts.scrollEvt,"debounce_scroll_view")}saveScroll(){const t=this.route.query??{},n=[this.route.path,t.mode?t.mode:"",t.pid?t.pid:"",t.id?t.id:"",t.id?t.id:"",t.tag_id?t.tag_id:""].join(":"),r=[this.contentDOM.scrollTop,this.contentDOM.scrollLeft];!r[0]&&!r[1]||Pe.debounce(()=>{Ps("scroll_log",n,r)},ze.timeouts.scrollSave,"debounce_scroll_save")}async reloadScroll(){const t=this.route.query??{},n=[this.route.path,t.mode?t.mode:"",t.pid?t.pid:"",t.id?t.id:"",t.id?t.id:"",t.tag_id?t.tag_id:""].join(":"),r=await Ts("scroll_log",n);r&&(this.contentDOM.scrollTop=r[0]??0,this.contentDOM.scrollLeft=r[1]??0)}reloadLazyLoad(){if(!this.contentDOM)return;const t=this.contentDOM,n=Pe.nodeOffsetY(t),r=t.scrollTop+n,s=r+t.clientHeight+n;this.nodeList.value.forEach(i=>{let a=!0;if(!i._offsets||!i._offsets.length)return;let o=i._offsets;o[1]>s&&(a=!1),o[3]<r&&(a=!1),i._in_screen=a})}}class ye{static async op_download(t){var r,s;let n=(s=(r=t.file_index)==null?void 0:r.raw)==null?void 0:s.path;n&&window.open(`${n}?filename=${t.title}`)}static async op_rename(t){if(t._renaming){const n=new FormData;n.set("id",`${t.id}`),n.set("title",t.title??""),n.set("description",t.description??""),await Oe("file/mod",n),ge&&ge.emitGo("reload")}t._renaming=!t._renaming,setTimeout(()=>{let n=document.body.querySelector('[contenteditable="true"]');n&&n.focus()},50)}static async op_bath_rename(t,n){ge&&ge.modalStore.set({title:"bath rename",alpha:!1,key:"",single:!1,w:400,h:275,minW:400,minH:275,allow_resize:!0,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,component:[{componentName:"renameUtil",data:{node_list:n,callback:()=>{ge&&ge.getList()}}}]})}static async op_move(t){ge&&ge.modalStore.set({title:`locator | move ${t.title} to:`,alpha:!1,key:"",single:!1,w:400,h:60,minW:400,minH:60,allow_resize:!0,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,component:[{componentName:"locator",data:{query:{type:"directory"},call:async n=>{const r=new FormData;r.set("id_node",`${t.id}`),r.set("id_target",`${n.id}`),await Oe("file/mov",r),ge&&ge.emitGo("reload")}}}]})}static async op_bath_move(t,n){ge&&ge.modalStore.set({title:`locator | move ${t.size} files to:`,alpha:!1,key:"",single:!1,w:400,h:60,minW:400,minH:60,allow_resize:!0,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,component:[{componentName:"locator",data:{query:{type:"directory"},call:async r=>{const s={id_list:Array.from(t).join(","),id_parent:`${r.id}`},i=await Oe("file/bath_move",s);ge&&ge.getList()}}}]})}static async op_delete(t,n=!1){const r=new FormData;r.set("id",`${t.id}`);const s=await Oe("file/delete",r);return console.info(ge),ge&&t.id&&ge.deleteFromList([t.id]),s}static async op_bath_delete(t,n,r=!1,s){ge&&ge.modalStore.set({title:`confirm to ${r?"recover":"delete"} ${t.size} files`,alpha:!1,key:"",single:!1,w:400,h:100,minW:400,minH:100,allow_resize:!1,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,text:"conform to "+(r?"recover":"delete"),callback:{confirm:async i=>{const a=Array.from(t),o={id_list:a.join(",")},l=await Oe("file/bath_delete",o);ge&&ge.deleteFromList(a),s&&s()}}})}static async op_delete_forever(t){const n=new FormData;n.set("id",`${t.id}`);const r=await Oe("file/delete_forever",n);return ge&&t.id&&ge.deleteFromList([t.id]),r}static async op_bath_delete_forever(t,n){ge&&ge.modalStore.set({title:`confirm to delete ${t.size} files forever`,alpha:!1,key:"",single:!1,w:400,h:100,minW:400,minH:100,allow_resize:!1,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,text:"conform to delete forever",callback:{confirm:async r=>{const s=Array.from(t),i={id_list:s.join(",")},a=await Oe("file/bath_delete_forever",i);ge&&ge.deleteFromList(s)}}})}static async op_toggle_favourite(t){const n=await Oe("favourite_group/get",{}),r={};n&&n.forEach(s=>{s.auto||(r[s.id??0]=s.title??"")}),ge&&ge.modalStore.set({title:"select fav group:",alpha:!1,key:"",single:!1,w:400,h:150,minW:400,minH:150,allow_resize:!0,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,form:[{type:"checkbox",label:"attach to",key:"target_group",value:t.list_fav,options:r}],callback:{submit:async function(s){const a=s.content.form[0].value.join(",");await Oe("favourite/attach",{id_node:t.id,list_group:a}),location.reload()}}})}static async op_bath_favourite(t,n){const r=await Oe("favourite_group/get",{}),s={};r&&r.forEach(i=>{i.auto||(s[i.id??0]=i.title??"")}),ge&&ge.modalStore.set({title:"select fav group:",alpha:!1,key:"",single:!1,w:400,h:150,minW:400,minH:150,allow_resize:!0,allow_move:!0,allow_fullscreen:!1,auto_focus:!0,form:[{type:"checkbox",label:"attach to:",key:"target_group",value:[],options:s}],callback:{submit:async function(i){const a=i.content.form[0].value.join(",");await Oe("favourite/bath_attach",{node_id_list:Array.from(t),list_group:a})}}})}static async op_bath_browser(t,n){let r=Array.from(t),s={};s.with="crumb,file",r.length==1?(s.mode="directory",s.id_dir=`${r[0]}`):(s.mode="id_iterate",s.keyword=r.join(",")),s.cascade_dir="0",Nf(s,r[0])}static async op_tag(t){if(t._tagging){const n=new Set;if(t.tag)for(let s=0;s<t.tag.length;s++)for(let i=0;i<t.tag[s].sub.length;i++){const a=t.tag[s].sub[i].id;a&&n.add(a)}const r=new FormData;r.set("id_node",`${t.id}`),r.set("tag_list",Array.from(n).join(",")),await Oe("tag/attach",r)}t._tagging=!t._tagging}static async op_set_cover(t){const n=new FormData;return n.set("id",`${t.id}`),await Oe("file/cover",n)}static async op_rebuild(t){const n=new FormData;return n.set("id_list",t.join(",")),await Oe("file/rebuild",n)}static async op_recheck(t){const n=new FormData;return n.set("id_list",t.join(",")),await Oe("file/rehash",n)}static async op_cascade_tag(t){const n=new FormData;return n.set("id_list",t.join(",")),await Oe("file/cascade_tag",n)}static async op_rm_raw(t){const n=new FormData;return n.set("id_list",t.join(",")),await Oe("file/rm_raw",n)}static async op_imp_tag_eh(t){const n=new FormData;return n.set("id_list",t.join(",")),await Oe("setting/import_eht_tag",n)}static async op_rate(t,n){if(!ge)return;let r=ge.getSelected();n&&!r.idSet.size&&(r.idSet.add((n==null?void 0:n.id)??0),r.nodeLs.push(n)),r.nodeLs.forEach(i=>{i.rate=t});const s=new FormData;s.set("node_id_list",Array.from(r.idSet).join(",")),s.set("rate",`${t}`),await Oe("rate/attach",s)}}function Nf(e,t){if(!ge)return;let n=ge.localConfigure.get("browser_layout_w"),r=ge.localConfigure.get("browser_layout_h");const s=window.innerWidth,i=window.innerHeight;s<n&&(n=0),i<r&&(r=0),ge.modalStore.set({title:"file browser",alpha:!1,key:"",single:!1,w:n||400,h:r||400,minW:400>window.innerWidth?window.innerWidth*.9:400,minH:400>window.innerHeight?window.innerHeight*.9:400,allow_resize:!0,allow_move:!0,allow_fullscreen:!0,auto_focus:!1,component:[{componentName:"fileBrowser",data:{query:Pe.copyObject(e),curId:t}}]})}function ka(e,t){let n=["id","asc"];switch(t){default:case"id_asc":n=["id","asc"];break;case"id_desc":n=["id","desc"];break;case"name_asc":n=["title","asc"];break;case"name_desc":n=["title","desc"];break;case"crt_asc":n=["time_create","asc"];break;case"crt_desc":n=["time_create","desc"];break;case"upd_asc":n=["time_update","asc"];break;case"upd_desc":n=["time_update","desc"];break;case"rate_asc":n=["rate","asc"];break;case"rate_desc":n=["rate","desc"];break}for(let i=0;i<e.length;i++){const a=e[i];a._sort_index||(a._sort_index=a.node_path+"/"+a.title)}const r=n[1]==="desc",s=r?-1:1;return e.sort((i,a)=>{let o="",l="";switch(n[0]){default:o=i[n[0]],l=a[n[0]];break;case"title":return o=s*(i.type==="directory"?0:1)+(i._sort_index??""),l=s*(a.type==="directory"?0:1)+(a._sort_index??""),$f({desc:r,insensitive:!0})(o,l)}return(o>l?1:-1)*s}),e}const Bf={class:"modal_browser base"},Ff={class:"base"},jf={class:"l"},Hf={class:"r"},Uf={class:"content"},$i=We({__name:"browserBase",props:{data:{},modalData:{},nodeList:{},curIndex:{},curNode:{}},setup(e){const t=e;return(n,r)=>(ae(),le("div",Bf,[se("div",Ff,[se("div",jf,[Fe(n.$slots,"info")]),se("div",Hf,[Fe(n.$slots,"btnContainer")])]),Fe(n.$slots,"navigator"),se("div",Uf,[se("span",{class:Ae(["listIcon",`listIcon_file_${t.curNode.type}`]),style:nt({fontSize:t.modalData.layout.h*.5+"px",lineHeight:t.modalData.layout.h*.8+"px"})},null,6)])]))}}),Wf={class:"modal_browser image"},Vf={class:"base"},Kf={class:"l"},Yf={class:"btnContainer"},Xf={class:"r"},Zf={key:0,class:"loader sysIcon sysIcon_sync"},qf=["data-ref-node-id","src","data-rotate"],Gf=We({__name:"browserImage",props:{data:{},modalData:{},nodeList:{},curIndex:{},curNode:{}},emits:["nav"],setup(e,{emit:t}){const n=gn(),r=e,s=t,i=[.1,.25,.5,.75,1,1.25,1.5,2],a=he(null),o=he(null),l=he({loaded:0,w:0,h:0,x:0,y:0,rotate:0,orgRatio:0,ratio:0,ratioTxt:"0 %",orgW:0,orgH:0}),c=he();async function d(D){const A=o.value;if(!A)return;if(!A.complete)return setTimeout(d,50);const N=await Ts("image_rotate",r.curNode.id);Object.assign(l.value,{loaded:r.curNode.id,orgH:A.naturalHeight,orgW:A.naturalWidth,rotate:N}),await _()}ot(()=>{c.value=p(r.curNode),Object.assign(l.value,{loaded:0,w:0,h:0,x:0,y:0,rotate:0,orgW:0,orgH:0}),document.addEventListener(`modal_resizing_${r.modalData.nid}`,_),document.addEventListener("pointerup",m),document.addEventListener("pointermove",h),document.addEventListener("wheel",x),document.addEventListener("keydown",z),document.addEventListener("pointercancel",m),document.addEventListener("pointerout",m)}),dt(()=>r.curNode,async D=>{console.info("onMod props.curNode"),l.value.loaded=0;const A=p(D),N=new Image;N.src=A,N.onload=te=>{c.value=A}}),mt(()=>{document.removeEventListener(`modal_resizing_${r.modalData.nid}`,_),document.removeEventListener("pointerup",m),document.removeEventListener("pointermove",h),document.removeEventListener("wheel",x),document.removeEventListener("keydown",z),document.removeEventListener("pointercancel",m),document.removeEventListener("pointerout",m)});function p(D){var A,N;return((N=(A=D.file_index)==null?void 0:A.normal)==null?void 0:N.path)+"?filename="+D.title}async function _(){if(!l.value.loaded)return;const D=r.modalData.layout,A=D.w??0;let N=D.h??0;N-=16;const te=l.value,R=Math.abs(te.rotate%180-90)<45,V=A/(R?te.orgH:te.orgW),b=N/(R?te.orgW:te.orgH),Z={w:0,h:0,x:0,y:0,ratio:0,orgRatio:0,ratioTxt:"0 %"},ce=Math.min(V,b);Z.w=te.orgW*ce,Z.h=te.orgH*ce,Z.x=(A-Z.w)/2,Z.y=(N-Z.h)/2,Z.ratio=ce,Z.orgRatio=ce,Z.ratioTxt=Math.round(ce*1e3)/10+" %",Object.assign(l.value,Z)}const f=new Map;function y(D){if(!r.modalData.layout.active||!D.pointerId)return;D.preventDefault(),D.stopPropagation(),l.value;const A={x:D.clientX,y:D.clientY};f.set(D.pointerId,A)}function h(D){r.modalData.layout.active&&D.pointerId&&(D.preventDefault(),D.stopPropagation(),g(D))}function m(D){f.get(D.pointerId)&&f.delete(D.pointerId)}function g(D){const A=f.get(D.pointerId);if(!A||Math.abs(D.clientX-A.x)<1&&Math.abs(D.clientY-A.y)<1)return;const N=l.value,te=o.value,R=a.value;if(!te||!R)return;if(f.size==1){const Q={x:D.clientX-A.x+N.x,y:D.clientY-A.y+N.y};Object.assign(l.value,Q),f.set(D.pointerId,{x:D.clientX,y:D.clientY});return}const V={x:0,y:0,pointerCount:0};f.forEach((Q,oe,C)=>{oe!=D.pointerId&&(V.x+=Q.x,V.y+=Q.y,V.pointerCount+=1)}),V.x=V.x/V.pointerCount,V.y=V.y/V.pointerCount;const b={orgX:A.x-V.x,orgY:A.y-V.y,tgtX:D.clientX-V.x,tgtY:D.clientY-V.y},Z={x:0,y:0,w:0,h:0,ratio:N.ratio*Math.sqrt((b.tgtX*b.tgtX+b.tgtY*b.tgtY)/(b.orgX*b.orgX+b.orgY*b.orgY)),ratioTxt:"0 %"};Z.ratio>5&&(Z.ratio=5),Z.w=N.orgW*Z.ratio,Z.h=N.orgH*Z.ratio;const ce=R.clientWidth??0,G=R.clientHeight??0,{x:J,y:F}=Pe.nodeOffsetXY(R),ie=te.clientWidth??0,H=te.clientHeight??0,{x:M,y:K}=Pe.nodeOffsetXY(te),Y=(D.clientX-A.x)/2,ee=(D.clientY-A.y)/2,fe=V.x-J-ce/2,q=V.y-F-G/2,$=(V.x-(M+ie/2))/N.ratio*Z.ratio,j=(V.y-(K+H/2))/N.ratio*Z.ratio;Z.x=(ce-Z.w)/2+fe-$+Y,Z.y=(G-Z.h)/2+q-j+ee,Z.ratioTxt=Math.round(Z.ratio*1e4)/100+" %",Object.assign(l.value,Z),f.set(D.pointerId,{x:D.clientX,y:D.clientY})}const v=he(n.get("browser_image_scrollLock")??!1);function w(D){v.value=D,n.set("browser_image_scrollLock",D)}function x(D){let A=D==null?void 0:D.target,N;do if(N=A.getAttribute("data-ref-id"),N||!A.parentElement||(A=A.parentElement,A.tagName==="BODY"))break;while(!0);if(N!==r.modalData.nid)return;const te=D.deltaY<0?1:-1;v.value?s("nav",r.curIndex-te):E(te,D.clientX,D.clientY)}function E(D,A,N){const te=l.value,R=o.value,V=a.value;if(!R||!V)return;let b=[];const Z=te.ratio;b.push(...i,te.ratio,te.orgRatio);const ce=new Set(b);b=Array.from(ce),b.sort();const G=b.indexOf(te.ratio)+D;if(G<0||G>=b.length)return;const J=b[G],F=V.clientWidth??0,ie=V.clientHeight??0,{x:H,y:M}=Pe.nodeOffsetXY(V);Math.abs(te.rotate%180-90)<45;const K={w:te.orgW*J,h:te.orgH*J,x:0,y:0,ratio:J,ratioTxt:Math.round(J*1e4)/100+" %"};if(A===void 0||N===void 0){K.x=(F-K.w)/2,K.y=(ie-K.h)/2,Object.assign(l.value,K);return}const Y=R.clientWidth??0,ee=R.clientHeight??0,{x:fe,y:q}=Pe.nodeOffsetXY(R),$=A-H-F/2,j=N-M-ie/2,Q=(A-(fe+Y/2))/Z*K.ratio,oe=(N-(q+ee/2))/Z*K.ratio;K.x=(F-K.w)/2+$-Q,K.y=(ie-K.h)/2+j-oe,Object.assign(l.value,K)}function z(D){if(!Mt(D.target)&&r.modalData.layout.active)switch(D.code){case"KeyQ":L(-90);break;case"KeyE":L(90);break}}function L(D){let A={rotate:l.value.rotate},N=A.rotate+D;for(;N<0;)N+=360;for(;N>360;)N-=360;A.rotate=N,Ps("image_rotate",r.curNode.id,N),Object.assign(l.value,A),_()}return(D,A)=>(ae(),le("div",Wf,[se("div",Vf,[se("div",Kf,[Fe(D.$slots,"info"),se("div",Yf,[se("button",{class:Ae(["sysIcon","sysIcon_scroll",v.value?"active":""]),onClick:A[0]||(A[0]=N=>w(!v.value))},null,2),se("button",{class:Ae(["sysIcon","sysIcon_zoomout"]),onClick:A[1]||(A[1]=N=>E(-1))}),se("button",{onClick:_},we(l.value.ratioTxt),1),se("button",{class:Ae(["sysIcon","sysIcon_zoomin"]),onClick:A[2]||(A[2]=N=>E(1))})])]),se("div",Xf,[Fe(D.$slots,"btnContainer")])]),Fe(D.$slots,"navigator"),se("div",{class:"content",ref_key:"contentDOM",ref:a},[l.value.loaded?Ce("",!0):(ae(),le("span",Zf)),se("img",{"data-ref-node-id":r.curNode.id,src:c.value,"data-rotate":l.value.rotate,onPointerdown:y,onDblclick:A[3]||(A[3]=(...N)=>D.resetImgresetImg&&D.resetImgresetImg(...N)),onLoad:d,class:Ae({loading:!l.value.loaded}),style:nt({width:l.value.w+"px",height:l.value.h+"px",left:l.value.x+"px",top:l.value.y+"px",rotate:l.value.rotate+"deg"}),ref_key:"imgDOM",ref:o},null,46,qf)],512)]))}}),Jf={class:"modal_browser audio"},Qf={class:"base"},ed={class:"l"},td={class:"btnContainer"},nd={class:"r"},rd={key:0,class:"loader sysIcon sysIcon_sync"},sd=["src"],id=["data-item-id","poster"],od=["src"],ad=We({__name:"browserAudio",props:{data:{},modalData:{},nodeList:{},curIndex:{},curNode:{}},emits:["nav"],setup(e,{emit:t}){var ce,G,J,F,ie,H,M;const n=gn(),r=e,s=t,i=he(null),a=he(null),o=he(null),l=he("");(J=(G=(ce=r.curNode)==null?void 0:ce.file_index)==null?void 0:G.normal)!=null&&J.path?l.value=`${(ie=(F=r.curNode.file_index)==null?void 0:F.normal)==null?void 0:ie.path}?filename=${r.curNode.title}`:l.value=`${(M=(H=r.curNode.file_index)==null?void 0:H.raw)==null?void 0:M.path}?filename=${r.curNode.title}`;const c=he({duration:0,buffered:0,time:0,volume:n.get("browser_play_volume")?n.get("browser_play_volume"):100,brightness:n.get("browser_play_brightness")?n.get("browser_play_brightness"):1,mute:!1,play:!1,loading:!0,loop:n.get("browser_play_mode")==="single"}),d=n.listen("browser_play_mode",K=>Object.assign(c.value,{loop:K==="single"})),p=n.listen("browser_play_volume",K=>Object.assign(c.value,{volume:K})),_=n.listen("browser_play_brightness",K=>Object.assign(c.value,{brightness:K}));function f(){var fe;console.info("onInit");const K=o.value;if(!K)return;if(K.readyState!==4)return setTimeout(f,50);const Y=c.value,ee={time:0,duration:K.duration};Object.assign(c.value,ee),Y.play&&K.play(),K.volume=Y.mute?0:Y.volume/100,(fe=i.value)==null||fe.addEventListener("wheel",V)}function y(K){console.info("onCanplay"),o.value&&(document.addEventListener("keydown",b),Object.assign(c.value,{loading:!1}))}function h(K=!0){var Y;document.removeEventListener("wheel",V),document.removeEventListener("keydown",b),l.value="",o.value&&((Y=o.value)==null||Y.load()),K&&Object.assign(c.value,{loading:!0})}function m(){const K=o.value;if(!K)return;const Y=c.value;Y.play?K.pause():K.play(),Object.assign(c.value,{play:!Y.play})}function g(K){console.info("onEnd",K);const Y=o.value;if(!Y)return;if(c.value.loop){Y.currentTime=0,Y.play();return}s("nav",r.curIndex+1)}ot(async()=>{var K;o.value&&((K=o.value)==null||K.load()),v=setInterval(w,200)}),dt(()=>r.curNode,async K=>{var Y,ee,fe,q,$,j,Q,oe;h(),(fe=(ee=(Y=r.curNode)==null?void 0:Y.file_index)==null?void 0:ee.normal)!=null&&fe.path?l.value=`${($=(q=K.file_index)==null?void 0:q.normal)==null?void 0:$.path}?filename=${K.title}`:l.value=`${(Q=(j=K.file_index)==null?void 0:j.raw)==null?void 0:Q.path}?filename=${K.title}`,o.value&&((oe=o.value)==null||oe.load())}),kr(()=>{h(!1),n.release("browser_play_mode",d),n.release("browser_play_volume",p),n.release("browser_play_brightness",_),clearInterval(v)});let v=0;function w(){if(!o.value||!o.value.buffered||!o.value.buffered.length)return;let K=0;for(let Y=0;Y<o.value.buffered.length;Y++){const ee=o.value.buffered.end(Y);if(!(c.value.time>ee)){K=ee;break}}Object.assign(c.value,{buffered:K})}function x(K){const Y=o.value;Y&&Object.assign(c.value,{time:Y.currentTime})}const E={active:!1,x:0,y:0,w:0,h:0,orgX:0,orgY:0,left:0,right:0,t:0};let z=0;function L(K){if(z)return;const Y=o.value;if(!Y)return;const ee=a.value;if(!ee)return;z=K.pointerId,document.addEventListener("pointermove",D),document.addEventListener("pointerup",A);const fe={active:!0,x:K.clientX,w:ee.clientWidth,orgX:Pe.nodeOffsetX(ee)};Object.assign(E,fe);const q=(fe.x-fe.orgX)/fe.w;Y.currentTime=Y.duration*q,Object.assign(c.value,{time:Y.currentTime})}function D(K){if(K.pointerId!=z||(K.preventDefault(),K.stopPropagation(),!E.active))return;const Y=o.value;if(!Y)return;Object.assign(E,{x:K.clientX});let ee=(E.x-E.orgX)/E.w;ee>1&&(ee=1),ee<0&&(ee=0),Y.currentTime=Y.duration*ee,Object.assign(c.value,{time:Y.currentTime})}function A(K){K.pointerId==z&&(z=0,Object.assign(E,{active:!1}),document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",A))}function N(K){if(z||!o.value)return;const ee=i.value;if(!ee)return;z=K.pointerId,K.preventDefault(),K.stopPropagation(),document.addEventListener("pointermove",te),document.addEventListener("pointerup",R);const fe={active:!0,x:K.clientX,y:K.clientY,w:ee.clientWidth,h:ee.clientHeight,orgX:Pe.nodeOffsetX(ee),orgY:Pe.nodeOffsetX(ee),left:0,right:0,t:new Date().valueOf()},q=(fe.x-fe.orgX)/fe.w;q>.5&&(fe.right=1),q<.5&&(fe.left=1),Object.assign(E,fe)}function te(K){if(K.pointerId!=z||(K.preventDefault(),K.stopPropagation(),!E.active))return;const Y=o.value;if(!Y||!i.value)return;const fe=(K.clientY-E.y)/E.h;Object.assign(E,{y:K.clientY});const q=c.value;if(E.right){let $=q.volume-fe*100*1.5;$<0&&($=0),$>100&&($=100),Y.volume=$/100,n.set("browser_play_volume",$)}if(E.left){let $=q.brightness-fe;$<0&&($=0),$>1&&($=1),q.brightness=$,n.set("browser_play_brightness",$)}}function R(K){if(K.pointerId!=z)return;z=0;const Y=new Date().valueOf();E.t>Y-250&&m(),Object.assign(E,{active:!1}),document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",R)}function V(K){const Y=o.value;if(!Y)return;let fe=c.value.volume+(K.deltaY<0?5:-5);fe<0&&(fe=0),fe>100&&(fe=100),Y.volume=fe/100,n.set("browser_play_volume",fe)}function b(K){if(!Mt(K.target)&&r.modalData.layout.active)switch(K.key){case" ":m();break;case"ArrowUp":V({deltaY:-1});break;case"ArrowDown":V({deltaY:1});break;case"ArrowLeft":case"ArrowRight":const Y=o.value;if(!Y)return;Y.currentTime+=K.key==="ArrowLeft"?-5:5,Object.assign(c.value,{time:Y.currentTime});break}}function Z(K){const Y={h:""+Math.floor(K/3600),m:""+Math.floor(K/60%60),s:""+Math.floor(K%60)};Y.m.length<2&&(Y.m="0"+Y.m),Y.s.length<2&&(Y.s="0"+Y.s);let ee=""+Y.s;return(Y.m||Y.h)&&(ee=`${Y.m}:${ee}`),Y.h!=="0"&&(ee=`${Y.h}:${ee}`),ee}return(K,Y)=>{var ee,fe,q,$,j;return ae(),le("div",Jf,[se("div",Qf,[se("div",ed,[Fe(K.$slots,"info"),se("div",td,[se("button",{class:Ae({sysIcon:!0,sysIcon_volume:!c.value.mute&&c.value.volume,sysIcon_mute:c.value.mute,sysIcon_mutemode:!c.value.mute&&!c.value.volume})},we(Math.round(c.value.volume)),3),se("button",{class:Ae({sysIcon:!0,sysIcon_caretright:c.value.play,sysIcon_pause:!c.value.play})},we(Z(c.value.time)),3),se("div",{class:Ae(["audio_bar"]),onPointerdown:L,ref_key:"timelineDOM",ref:a},[se("span",{class:"duration",style:nt({left:100*c.value.time/c.value.duration+"%"})},null,4),se("span",{class:"buffer",style:nt({width:100*c.value.buffered/c.value.duration+"%"})},null,4)],544)])]),se("div",nd,[Fe(K.$slots,"btnContainer")])]),Fe(K.$slots,"navigator"),se("div",{class:"content",ref_key:"contentDOM",ref:i,onPointerdown:N},[c.value.loading?(ae(),le("span",rd)):Ce("",!0),(ee=r.curNode.file_index)!=null&&ee.preview?(ae(),le("img",{key:1,src:(q=(fe=r.curNode.file_index)==null?void 0:fe.preview)==null?void 0:q.path,style:nt({filter:`brightness(${c.value.brightness})`})},null,12,sd)):(ae(),le("span",{key:2,class:Ae(["listIcon",`listIcon_file_${r.curNode.type}`]),style:nt({fontSize:r.modalData.layout.h*.5+"px",lineHeight:r.modalData.layout.h*.8+"px"})},null,6)),se("audio",{ref_key:"mediaDOM",ref:o,preload:"metadata","data-item-id":r.curNode.id,poster:(j=($=r.curNode.file_index)==null?void 0:$.preview)==null?void 0:j.path,onLoadedmetadata:f,onCanplay:y,onEnded:g,onTimeupdate:x},[se("source",{src:l.value},null,8,od)],40,id)],544)])}}}),ld={class:"modal_browser video"},cd={class:"base"},ud={class:"l"},fd={class:"btnContainer"},dd=["value"],hd={class:"r"},pd={key:0,class:"loader sysIcon sysIcon_sync"},md=["data-item-id","poster"],_d=["src"],gd=["default","src","srclang","label"],vd=["default","src","srclang","label"],yd=We({__name:"browserVideo",props:{data:{},modalData:{},nodeList:{},curIndex:{},curNode:{}},emits:["nav"],setup(e,{emit:t}){var H,M,K,Y,ee,fe,q;const n=gn(),r=e,s=t,i=he(null),a=he(null),o=he(null),l=he("");(K=(M=(H=r.curNode)==null?void 0:H.file_index)==null?void 0:M.normal)!=null&&K.path?l.value=`${(ee=(Y=r.curNode.file_index)==null?void 0:Y.normal)==null?void 0:ee.path}?filename=${r.curNode.title}`:l.value=`${(q=(fe=r.curNode.file_index)==null?void 0:fe.raw)==null?void 0:q.path}?filename=${r.curNode.title}`;const c=he({duration:0,buffered:0,time:0,volume:n.get("browser_play_volume")?n.get("browser_play_volume"):100,brightness:n.get("browser_play_brightness")?n.get("browser_play_brightness"):1,mute:!1,play:!1,loading:!0,loop:n.get("browser_play_mode")==="single"}),d=n.listen("browser_play_mode",$=>Object.assign(c.value,{loop:$==="single"})),p=n.listen("browser_play_volume",$=>Object.assign(c.value,{volume:$})),_=n.listen("browser_play_brightness",$=>Object.assign(c.value,{brightness:$}));function f(){var oe;console.info("onInit");const $=o.value;if(!$)return;if($.readyState!==4)return setTimeout(f,50);const j=c.value,Q={time:0,duration:$.duration};Object.assign(c.value,Q),j.play&&$.play(),$.volume=j.mute?0:j.volume/100,(oe=i.value)==null||oe.addEventListener("wheel",b)}function y($){console.info("onCanplay"),o.value&&(document.addEventListener("keydown",Z),Object.assign(c.value,{loading:!1}))}function h($=!0){var j;document.removeEventListener("wheel",b),document.removeEventListener("keydown",Z),l.value="",o.value&&((j=o.value)==null||j.load()),$&&Object.assign(c.value,{loading:!0})}function m(){const $=o.value;if(!$)return;const j=c.value;j.play?$.pause():$.play(),Object.assign(c.value,{play:!j.play})}function g($){console.info("onEnd",$);const j=o.value;if(!j)return;if(c.value.loop){j.currentTime=0,j.play();return}s("nav",r.curIndex+1)}ot(async()=>{var $;await v(),o.value&&(($=o.value)==null||$.load()),w=setInterval(x,200)});async function v(){J.value=[],F()}dt(()=>r.curNode,async $=>{var j,Q,oe,C,O,u,P,T;h(),v(),(oe=(Q=(j=r.curNode)==null?void 0:j.file_index)==null?void 0:Q.normal)!=null&&oe.path?l.value=`${(O=(C=$.file_index)==null?void 0:C.normal)==null?void 0:O.path}?filename=${$.title}`:l.value=`${(P=(u=$.file_index)==null?void 0:u.raw)==null?void 0:P.path}?filename=${$.title}`,o.value&&((T=o.value)==null||T.load())}),kr(()=>{h(!1),n.release("browser_play_mode",d),n.release("browser_play_volume",p),n.release("browser_play_brightness",_),clearInterval(w)});let w=0;function x(){if(!o.value||!o.value.buffered||!o.value.buffered.length)return;let $=0;for(let j=0;j<o.value.buffered.length;j++){const Q=o.value.buffered.end(j);if(!(c.value.time>Q)){$=Q;break}}Object.assign(c.value,{buffered:$})}function E($){const j=o.value;j&&Object.assign(c.value,{time:j.currentTime})}const z={active:!1,x:0,y:0,w:0,h:0,orgX:0,orgY:0,left:0,right:0,t:0};let L=0;function D($){if(L)return;const j=o.value;if(!j)return;const Q=a.value;if(!Q)return;L=$.pointerId,document.addEventListener("pointermove",A),document.addEventListener("pointerup",N);const oe={active:!0,x:$.clientX,w:Q.clientWidth,orgX:Pe.nodeOffsetX(Q)};Object.assign(z,oe);const C=(oe.x-oe.orgX)/oe.w;j.currentTime=j.duration*C,Object.assign(c.value,{time:j.currentTime})}function A($){if($.pointerId!=L||($.preventDefault(),$.stopPropagation(),!z.active))return;const j=o.value;if(!j)return;Object.assign(z,{x:$.clientX});let Q=(z.x-z.orgX)/z.w;Q>1&&(Q=1),Q<0&&(Q=0),j.currentTime=j.duration*Q,Object.assign(c.value,{time:j.currentTime})}function N($){$.pointerId==L&&(L=0,Object.assign(z,{active:!1}),document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",N))}function te($){if(L||!o.value)return;const Q=i.value;if(!Q)return;L=$.pointerId,$.preventDefault(),$.stopPropagation(),document.addEventListener("pointermove",R),document.addEventListener("pointerup",V);const oe={active:!0,x:$.clientX,y:$.clientY,w:Q.clientWidth,h:Q.clientHeight,orgX:Pe.nodeOffsetX(Q),orgY:Pe.nodeOffsetX(Q),left:0,right:0,t:new Date().valueOf()},C=(oe.x-oe.orgX)/oe.w;C>.5&&(oe.right=1),C<.5&&(oe.left=1),Object.assign(z,oe)}function R($){if($.pointerId!=L||($.preventDefault(),$.stopPropagation(),!z.active))return;const j=o.value;if(!j||!i.value)return;const oe=($.clientY-z.y)/z.h;Object.assign(z,{y:$.clientY});const C=c.value;if(z.right){let O=C.volume-oe*100*1.5;O<0&&(O=0),O>100&&(O=100),j.volume=O/100,n.set("browser_play_volume",O)}if(z.left){let O=C.brightness-oe;O<0&&(O=0),O>1&&(O=1),C.brightness=O,n.set("browser_play_brightness",O)}}function V($){if($.pointerId!=L)return;L=0;const j=new Date().valueOf();z.t>j-250&&m(),Object.assign(z,{active:!1}),document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",V)}function b($){const j=o.value;if(!j)return;let oe=c.value.volume+($.deltaY<0?5:-5);oe<0&&(oe=0),oe>100&&(oe=100),j.volume=oe/100,n.set("browser_play_volume",oe)}function Z($){if(!Mt($.target)&&r.modalData.layout.active)switch($.key){case" ":m();break;case"ArrowUp":b({deltaY:-1});break;case"ArrowDown":b({deltaY:1});break;case"ArrowLeft":case"ArrowRight":const j=o.value;if(!j)return;j.currentTime+=$.key==="ArrowLeft"?-5:5,Object.assign(c.value,{time:j.currentTime});break}}function ce($){const j={h:""+Math.floor($/3600),m:""+Math.floor($/60%60),s:""+Math.floor($%60)};j.m.length<2&&(j.m="0"+j.m),j.s.length<2&&(j.s="0"+j.s);let Q=""+j.s;return(j.m||j.h)&&(Q=`${j.m}:${Q}`),j.h!=="0"&&(Q=`${j.h}:${Q}`),Q}const G=he(0),J=he([]);function F(){var oe,C;let $=(oe=r.curNode.title)==null?void 0:oe.lastIndexOf("."),j=((C=r.curNode.title)==null?void 0:C.substring(0,$))??"";if(!j)return J.value=[];const Q=[];r.nodeList.forEach(O=>{var P,T,k,S,I,W;if(O.type!=="subtitle"||!((T=(P=O.file_index)==null?void 0:P.normal)!=null&&T.path||(S=(k=O.file_index)==null?void 0:k.raw)!=null&&S.path))return;let u=(I=O.title)==null?void 0:I.substring(j.length);((W=O.title)==null?void 0:W.indexOf(j))===0&&Q.push(Object.assign({label:u},O))}),J.value=Q}function ie($){var Q;const j=(Q=o.value)==null?void 0:Q.textTracks;if(j)for(let oe=0;oe<j.length;oe++)$==oe?j[oe].mode="showing":j[oe].mode="disabled"}return($,j)=>{var Q,oe;return ae(),le("div",ld,[se("div",cd,[se("div",ud,[Fe($.$slots,"info"),se("div",fd,[se("button",{class:Ae({sysIcon:!0,sysIcon_volume:!c.value.mute&&c.value.volume,sysIcon_mute:c.value.mute,sysIcon_mutemode:!c.value.mute&&!c.value.volume})},we(Math.round(c.value.volume)),3),se("button",{class:Ae({sysIcon:!0,sysIcon_caretright:c.value.play,sysIcon_pause:!c.value.play})},we(ce(c.value.time)),3),se("div",{class:Ae(["video_bar"]),onPointerdown:D,ref_key:"timelineDOM",ref:a},[se("span",{class:"duration",style:nt({left:100*c.value.time/c.value.duration+"%"})},null,4),se("span",{class:"buffer",style:nt({width:100*c.value.buffered/c.value.duration+"%"})},null,4)],544),J.value&&J.value.length?Ze((ae(),le("select",{key:0,"onUpdate:modelValue":j[0]||(j[0]=C=>G.value=C),onChange:j[1]||(j[1]=C=>ie(G.value))},[(ae(!0),le(_e,null,Ne(J.value,(C,O)=>(ae(),le("option",{value:O,key:"MO_BS_VDO_"+$.modalData.nid+"_sub_"+O},we(C.label),9,dd))),128))],544)),[[an,G.value]]):Ce("",!0)])]),se("div",hd,[Fe($.$slots,"btnContainer")])]),Fe($.$slots,"navigator"),se("div",{class:"content",ref_key:"contentDOM",ref:i,onPointerdown:te},[c.value.loading?(ae(),le("span",pd)):Ce("",!0),se("video",{ref_key:"mediaDOM",ref:o,preload:"metadata","data-item-id":r.curNode.id,poster:(oe=(Q=r.curNode.file_index)==null?void 0:Q.preview)==null?void 0:oe.path,onLoadedmetadata:f,onCanplay:y,onEnded:g,onTimeupdate:E,style:nt({filter:`brightness(${c.value.brightness})`})},[se("source",{src:l.value},null,8,_d),(ae(!0),le(_e,null,Ne(J.value,(C,O)=>{var u;return ae(),le(_e,null,[(u=C.file_index)!=null&&u.normal?(ae(),le("track",{key:"MO_BS_VDO_"+$.modalData.nid+"_track_"+O,default:G.value==O,src:C.file_index.normal.path,kind:"subtitles",srclang:C.label,label:C.label},null,8,gd)):(ae(),le("track",{key:"MO_BS_VDO_"+$.modalData.nid+"_track_"+O,default:G.value==O,src:C.file_index.raw.path,kind:"subtitles",srclang:C.label,label:C.label},null,8,vd))],64)}),256))],44,md)],544)])}}}),bd={class:"modal_browser txt"},wd={class:"base"},xd={class:"l"},kd={class:"r"},Sd={class:"content"},Ed=We({__name:"browserText",props:{data:{},modalData:{},nodeList:{},curIndex:{},curNode:{}},setup(e){const t=e,n=he(""),r=he(null);async function s(o){const c=await(await fetch(o.path,{method:"GET",headers:{}})).text();n.value=c,await a()}async function i(o){Pe.debounce(()=>{if(!r.value)return;const l=[r.value.scrollTop,r.value.scrollLeft];if(!l[0]&&!l[1])return;const c=`browser:${t.curNode.id}`;Pe.debounce(()=>{Ps("scroll_log",c,l)},ze.timeouts.scrollSave,"debounce_scroll_save")},ze.timeouts.scrollEvt,"debounce_scroll_view")}async function a(){if(!r.value)return;r.value.scrollTop=0,r.value.scrollLeft=0;const o=`browser:${t.curNode.id}`,l=await Ts("scroll_log",o);l&&(r.value.scrollTop=l[0],r.value.scrollLeft=l[1])}return ot(async()=>{var o;t.curNode&&t.curNode.file_index&&t.curNode.file_index.raw&&await s(t.curNode.file_index.raw),r.value&&((o=r.value)==null||o.addEventListener("scroll",i))}),dt(()=>t.curNode,async o=>{o.file_index&&o.file_index.raw&&await s(o.file_index.raw)}),kr(()=>{}),(o,l)=>(ae(),le("div",bd,[se("div",wd,[se("div",xd,[Fe(o.$slots,"info")]),se("div",kd,[Fe(o.$slots,"btnContainer")])]),Fe(o.$slots,"navigator"),se("div",Sd,[se("div",{class:"textContent",ref_key:"contentDOM",ref:r},we(n.value),513)])]))}}),Od={class:"modal_browser pdf"},Cd={class:"base"},Ad={class:"l"},Dd={class:"r"},Id={class:"content"},Ld=["src"],Rd=We({__name:"browserPDF",props:{data:{},modalData:{},nodeList:{},curIndex:{},curNode:{}},setup(e){const t=e;""+t.modalData.nid,he(null);const n=he(null);return ot(()=>{var r,s;console.warn("mounted"),n.value="/pdfjs/web/viewer.html?file="+((s=(r=t.curNode.file_index)==null?void 0:r.raw)==null?void 0:s.path)+"&filename="+t.curNode.title}),dt(()=>t.curNode,async r=>{var s,i;console.info("onMod props.curNode"),n.value="/pdfjs/web/viewer.html?file="+((i=(s=r.file_index)==null?void 0:s.raw)==null?void 0:i.path)+"&filename="+r.title}),mt(()=>{n.value=null}),(r,s)=>(ae(),le("div",Od,[se("div",Cd,[se("div",Ad,[Fe(r.$slots,"info")]),se("div",Dd,[Fe(r.$slots,"btnContainer")])]),Fe(r.$slots,"navigator"),se("div",Id,[n.value?(ae(),le("iframe",{key:0,src:n.value,allowfullscreen:""},null,8,Ld)):Ce("",!0)])]))}});var Lr={},bt=bt||function(e,t){var n={},r=n.lib={},s=function(){},i=r.Base={extend:function(f){s.prototype=this;var y=new s;return f&&y.mixIn(f),y.hasOwnProperty("init")||(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var f=this.extend();return f.init.apply(f,arguments),f},init:function(){},mixIn:function(f){for(var y in f)f.hasOwnProperty(y)&&(this[y]=f[y]);f.hasOwnProperty("toString")&&(this.toString=f.toString)},clone:function(){return this.init.prototype.extend(this)}},a=r.WordArray=i.extend({init:function(f,y){f=this.words=f||[],this.sigBytes=y!=t?y:4*f.length},toString:function(f){return(f||l).stringify(this)},concat:function(f){var y=this.words,h=f.words,m=this.sigBytes;if(f=f.sigBytes,this.clamp(),m%4)for(var g=0;g<f;g++)y[m+g>>>2]|=(h[g>>>2]>>>24-8*(g%4)&255)<<24-8*((m+g)%4);else if(65535<h.length)for(g=0;g<f;g+=4)y[m+g>>>2]=h[g>>>2];else y.push.apply(y,h);return this.sigBytes+=f,this},clamp:function(){var f=this.words,y=this.sigBytes;f[y>>>2]&=4294967295<<32-8*(y%4),f.length=e.ceil(y/4)},clone:function(){var f=i.clone.call(this);return f.words=this.words.slice(0),f},random:function(f){for(var y=[],h=0;h<f;h+=4)y.push(4294967296*e.random()|0);return new a.init(y,f)}}),o=n.enc={},l=o.Hex={stringify:function(f){var y=f.words;f=f.sigBytes;for(var h=[],m=0;m<f;m++){var g=y[m>>>2]>>>24-8*(m%4)&255;h.push((g>>>4).toString(16)),h.push((g&15).toString(16))}return h.join("")},parse:function(f){for(var y=f.length,h=[],m=0;m<y;m+=2)h[m>>>3]|=parseInt(f.substr(m,2),16)<<24-4*(m%8);return new a.init(h,y/2)}},c=o.Latin1={stringify:function(f){var y=f.words;f=f.sigBytes;for(var h=[],m=0;m<f;m++)h.push(String.fromCharCode(y[m>>>2]>>>24-8*(m%4)&255));return h.join("")},parse:function(f){for(var y=f.length,h=[],m=0;m<y;m++)h[m>>>2]|=(f.charCodeAt(m)&255)<<24-8*(m%4);return new a.init(h,y)}},d=o.Utf8={stringify:function(f){try{return decodeURIComponent(escape(c.stringify(f)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(f){return c.parse(unescape(encodeURIComponent(f)))}},p=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(f){typeof f=="string"&&(f=d.parse(f)),this._data.concat(f),this._nDataBytes+=f.sigBytes},_process:function(f){var y=this._data,h=y.words,m=y.sigBytes,g=this.blockSize,v=m/(4*g),v=f?e.ceil(v):e.max((v|0)-this._minBufferSize,0);if(f=v*g,m=e.min(4*f,m),f){for(var w=0;w<f;w+=g)this._doProcessBlock(h,w);w=h.splice(0,f),y.sigBytes-=m}return new a.init(w,m)},clone:function(){var f=i.clone.call(this);return f._data=this._data.clone(),f},_minBufferSize:0});r.Hasher=p.extend({cfg:i.extend(),init:function(f){this.cfg=this.cfg.extend(f),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(f){return this._append(f),this._process(),this},finalize:function(f){return f&&this._append(f),this._doFinalize()},blockSize:16,_createHelper:function(f){return function(y,h){return new f.init(h).finalize(y)}},_createHmacHelper:function(f){return function(y,h){return new _.HMAC.init(f,h).finalize(y)}}});var _=n.algo={};return n}(Math);(function(e){for(var t=bt,f=t.lib,n=f.WordArray,r=f.Hasher,f=t.algo,s=[],i=[],a=function(h){return 4294967296*(h-(h|0))|0},o=2,l=0;64>l;){var c;e:{c=o;for(var d=e.sqrt(c),p=2;p<=d;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>l&&(s[l]=a(e.pow(o,.5))),i[l]=a(e.pow(o,1/3)),l++),o++}var _=[],f=f.SHA256=r.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(y,h){for(var m=this._hash.words,g=m[0],v=m[1],w=m[2],x=m[3],E=m[4],z=m[5],L=m[6],D=m[7],A=0;64>A;A++){if(16>A)_[A]=y[h+A]|0;else{var N=_[A-15],te=_[A-2];_[A]=((N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3)+_[A-7]+((te<<15|te>>>17)^(te<<13|te>>>19)^te>>>10)+_[A-16]}N=D+((E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25))+(E&z^~E&L)+i[A]+_[A],te=((g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22))+(g&v^g&w^v&w),D=L,L=z,z=E,E=x+N|0,x=w,w=v,v=g,g=N+te|0}m[0]=m[0]+g|0,m[1]=m[1]+v|0,m[2]=m[2]+w|0,m[3]=m[3]+x|0,m[4]=m[4]+E|0,m[5]=m[5]+z|0,m[6]=m[6]+L|0,m[7]=m[7]+D|0},_doFinalize:function(){var y=this._data,h=y.words,m=8*this._nDataBytes,g=8*y.sigBytes;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=e.floor(m/4294967296),h[(g+64>>>9<<4)+15]=m,y.sigBytes=4*h.length,this._process(),this._hash},clone:function(){var y=r.clone.call(this);return y._hash=this._hash.clone(),y}});t.SHA256=r._createHelper(f),t.HmacSHA256=r._createHmacHelper(f)})(Math);(function(){var e=bt,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(n,r){n=this._hasher=new n.init,typeof r=="string"&&(r=t.parse(r));var s=n.blockSize,i=4*s;r.sigBytes>i&&(r=n.finalize(r)),r.clamp();for(var a=this._oKey=r.clone(),o=this._iKey=r.clone(),l=a.words,c=o.words,d=0;d<s;d++)l[d]^=1549556828,c[d]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var n=this._hasher;n.reset(),n.update(this._iKey)},update:function(n){return this._hasher.update(n),this},finalize:function(n){var r=this._hasher;return n=r.finalize(n),r.reset(),r.finalize(this._oKey.clone().concat(n))}})})();(function(){var e=bt,t=e.lib.WordArray;e.enc.Base64={stringify:function(n){var r=n.words,s=n.sigBytes,i=this._map;n.clamp(),n=[];for(var a=0;a<s;a+=3)for(var o=(r[a>>>2]>>>24-8*(a%4)&255)<<16|(r[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|r[a+2>>>2]>>>24-8*((a+2)%4)&255,l=0;4>l&&a+.75*l<s;l++)n.push(i.charAt(o>>>6*(3-l)&63));if(r=i.charAt(64))for(;n.length%4;)n.push(r);return n.join("")},parse:function(n){var r=n.length,s=this._map,i=s.charAt(64);i&&(i=n.indexOf(i),i!=-1&&(r=i));for(var i=[],a=0,o=0;o<r;o++)if(o%4){var l=s.indexOf(n.charAt(o-1))<<2*(o%4),c=s.indexOf(n.charAt(o))>>>6-2*(o%4);i[a>>>2]|=(l|c)<<24-8*(a%4),a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(e){for(var t=bt,f=t.lib,n=f.WordArray,r=f.Hasher,f=t.algo,s=[],i=[],a=function(h){return 4294967296*(h-(h|0))|0},o=2,l=0;64>l;){var c;e:{c=o;for(var d=e.sqrt(c),p=2;p<=d;p++)if(!(c%p)){c=!1;break e}c=!0}c&&(8>l&&(s[l]=a(e.pow(o,.5))),i[l]=a(e.pow(o,1/3)),l++),o++}var _=[],f=f.SHA256=r.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(y,h){for(var m=this._hash.words,g=m[0],v=m[1],w=m[2],x=m[3],E=m[4],z=m[5],L=m[6],D=m[7],A=0;64>A;A++){if(16>A)_[A]=y[h+A]|0;else{var N=_[A-15],te=_[A-2];_[A]=((N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3)+_[A-7]+((te<<15|te>>>17)^(te<<13|te>>>19)^te>>>10)+_[A-16]}N=D+((E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25))+(E&z^~E&L)+i[A]+_[A],te=((g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22))+(g&v^g&w^v&w),D=L,L=z,z=E,E=x+N|0,x=w,w=v,v=g,g=N+te|0}m[0]=m[0]+g|0,m[1]=m[1]+v|0,m[2]=m[2]+w|0,m[3]=m[3]+x|0,m[4]=m[4]+E|0,m[5]=m[5]+z|0,m[6]=m[6]+L|0,m[7]=m[7]+D|0},_doFinalize:function(){var y=this._data,h=y.words,m=8*this._nDataBytes,g=8*y.sigBytes;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=e.floor(m/4294967296),h[(g+64>>>9<<4)+15]=m,y.sigBytes=4*h.length,this._process(),this._hash},clone:function(){var y=r.clone.call(this);return y._hash=this._hash.clone(),y}});t.SHA256=r._createHelper(f),t.HmacSHA256=r._createHmacHelper(f)})(Math);Lr.enc={Base64:bt.enc.Base64,Utf8:bt.enc.Utf8,Latin1:bt.enc.Latin1};Lr.SHA256=bt.SHA256;Lr.HmacSHA256=bt.HmacSHA256;const Ms=Lr,Td={alg:"HS256",typ:"JWT"};function Sa(e){return Ms.enc.Base64.stringify(e).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pd(e,t,n={}){const r=Object.assign(Td,n);if(r.alg!=="HS256"&&r.typ!=="JWT")throw new Error("jwt-encode only support the HS256 algorithm and the JWT type of hash");const s=Ni(r),i=Ni(e);let a=`${s}.${i}`;return a=Ms.HmacSHA256(a,t),a=Sa(a),`${s}.${i}.${a}`}function Ni(e){const t=Ms.enc.Utf8.parse(JSON.stringify(e));return Sa(t)}var Md=Pd;const zd=ba(Md),$d={class:"modal_browser office"},Nd={class:"base"},Bd={class:"l"},Fd={class:"r"},jd={class:"content"},Hd=["id"],Yr=100,Ud=We({__name:"browserOffice",props:{data:{},modalData:{},nodeList:{},curIndex:{},curNode:{}},setup(e){const t=e;""+t.modalData.nid,he(null);let n=null;const s=Qt().get();ot(()=>{console.warn("mounted");const c=new URL(location.href);o(`${c.origin}/onlyoffice_server/web-apps/apps/api/documents/api.js`),setTimeout(()=>i(),Yr)});function i(){if(!a)return setTimeout(()=>i(),Yr);const c="modal_office_"+t.modalData.nid;if(!document.getElementById(c))return setTimeout(()=>i(),Yr);const p=ze.onlyOffice.jwtSecret,_=t.curNode,f=_.title.lastIndexOf("."),y=_.title.substring(f+1),h=l(y);if(!h)return;const m=new URL(location.href),g={document:{fileType:y,key:_.id.toString(16)+"_"+parseInt(new Date(_.time_update).valueOf()),title:_.title,url:`${m.origin}${_.file_index.raw.path}?tosho_token=${s==null?void 0:s.token}`},documentType:h,editorConfig:{callbackUrl:`${m.origin}/api/onlyoffice/callback?id=${_.id}&tosho_token=${s==null?void 0:s.token}`}};g.token=zd(g,p),console.info(g),n=new DocsAPI.DocEditor(c,g),console.info(n)}dt(()=>t.curNode,async c=>{console.info("onMod props.curNode")}),mt(()=>{});let a=!1;function o(c){var d=document.createElement("script");d.type="text/javascript",d.src=c,d.onload=p=>{console.info(p),a=!0},document.body.appendChild(d)}function l(c){let d;switch(c){default:break;case"doc":case"docm":case"docx":case"dot":case"dotm":case"dotx":case"epub":case"fb2":case"fodt":case"htm":case"html":case"mht":case"mhtml":case"odt":case"ott":case"rtf":case"stw":case"sxw":case"txt":case"wps":case"wpt":d="word";break;case"csv":case"et":case"ett":case"fods":case"ods":case"ots":case"sxc":case"xls":case"xlsb":case"xlsm":case"xlsx":case"xlt":case"xltm":case"xltx":d="cell";break;case"dps":case"dpt":case"fodp":case"odp":case"otp":case"pot":case"potm":case"potx":case"pps":case"ppsm":case"ppsx":case"ppt":case"pptm":case"pptx":case"sxi":d="slide";break}return d}return(c,d)=>(ae(),le("div",$d,[se("div",Nd,[se("div",Bd,[Fe(c.$slots,"info")]),se("div",Fd,[Fe(c.$slots,"btnContainer")])]),Fe(c.$slots,"navigator"),se("div",jd,[se("div",{id:"modal_office_"+c.modalData.nid},null,8,Hd)])]))}}),Wd={key:0},Vd={class:"preLine"},Kd={class:"btnContainer"},Yd=["value"],Xd=["value","innerHTML"],Zd=["value"],qd=["value"],Gd=We({__name:"browser",props:{data:{},modalData:{}},setup(e){const t=e,n=window.navigator.userAgent.toLowerCase().indexOf("mobile")!==-1,r={audio:ad,video:yd,image:Gf,pdf:Rd,text:Ed,office:$i,base:$i};ze.onlyOffice.enabled&&(r.office=Ud);const s=gn();let i=!1;function a(){if(i&&!t.modalData.layout.fullscreen){let J=s.get("browser_layout_w"),F=s.get("browser_layout_h");t.modalData.layout.w=J,t.modalData.layout.h=F,t.modalData.layout.x=(window.innerWidth-J)/2,t.modalData.layout.y=(window.innerHeight-F)/2}else t.modalData.layout.fullscreen||(s.set("browser_layout_w",t.modalData.layout.w),s.set("browser_layout_h",t.modalData.layout.h));i=t.modalData.layout.fullscreen}const o=he(s.get("browser_play_mode")??"loop");function l(){let J=ze.playMode.indexOf(o.value);J+=1,J>ze.playMode.length-1&&(J=0),o.value=ze.playMode[J],s.set("browser_play_mode",o.value)}const c=he(s.get("browser_show_detail")??!1);function d(){c.value=!c.value,s.set("browser_show_detail",c.value)}ot(()=>{document.addEventListener("keydown",A),document.addEventListener(`modal_resizing_${t.modalData.nid}`,a),setTimeout(()=>{document.activeElement&&document.activeElement.blur()},100)}),mt(()=>{document.removeEventListener("keydown",A),document.removeEventListener(`modal_resizing_${t.modalData.nid}`,a)});const p=he([]),_=he([]),f=he([]);let y=0;const h=he(0),m=he({});async function g(J){const F=await Oe("file/get",{node_type:"directory",id_dir:`${J}`,with:"none"});return F||{path:[],list:[]}}w();function v(){let J=[];return y=0,_.value.forEach(F=>{if(!z(F))return;const ie=F.rate?F.rate+2:2;J.push(Object.assign(F,{_weight_stack:y})),y+=ie}),J=V(J,te.value),J}async function w(J={}){J&&(t.data.query=Object.assign(t.data.query,J));let F;if(F=await Oe("file/get",t.data.query),!F||!F.list.length)return!1;let ie=[];if(F.list.forEach(Y=>{Y.is_file&&ie.push(Y)}),F.list=ie,!F.list.length){if(t.data.query.cascade_dir)return!1;const Y=Pe.copyObject(t.data.query);if(Y.cascade_dir=1,F=await Oe("file/get",Y),!F||!F.list.length)return!1;ie=[],F.list.forEach(ee=>{ee.is_file&&ie.push(ee)}),F.list=ie}if(!F.list.length)return!1;let H=0,M=null;for(let Y=0;Y<F.list.length;Y++)if(F.list[Y].id===t.data.curId){H=Y,M=F.list[Y];break}console.info(H,M),p.value=F.path,_.value=F.list;let K=v();return K.length?(f.value=V(K,te.value),M||(M=f.value[0]),h.value=N(f.value,M),console.info(h.value),L(),!0):!1}function x(J,F,ie=0){let H=f.value.length;if(H<1)return;let M=0;if(o.value==="shuffle"){let K=Math.random()*y;F=0;for(let Y=0;Y<H&&(F=Y,!(f.value[Y]._weight_stack>K));Y++);M=F}else M=J+F;for(;M<0;)M+=H;for(;M>H-1;)M-=H;ie||(ie=0),ie+=1,!(ie>H)&&(h.value=M,L())}function E(J){let F=J-h.value;x(h.value,F)}function z(J){const F=parseInt(ce.value)??0;if((J.rate??0)<F)return!1;switch(b.value){case"any":case"file":return ze.ignoreFileType.indexOf(J.type??"directory")===-1;default:return b.value==J.type}}function L(){f.value.length&&(m.value.type,f.value[h.value].type,m.value=f.value[h.value]),D()}function D(){t.modalData.base.title=h.value+1+"/"+f.value.length+" "+(m.value.title??"")}async function A(J){if(Mt(J.target)||!t.modalData.layout.active)return;let F,ie,H,M,K,Y;switch(J.key){case"ArrowLeft":if(J.preventDefault(),J.stopPropagation(),["audio","video"].indexOf(m.value.type??"")!==-1)return;x(h.value,-1);break;case"ArrowRight":if(J.preventDefault(),J.stopPropagation(),["audio","video"].indexOf(m.value.type??"")!==-1)return;x(h.value,1);break;case"a":case"PageUp":J.preventDefault(),J.stopPropagation(),x(h.value,-1);break;case"d":case"PageDown":J.preventDefault(),J.stopPropagation(),x(h.value,1);break;case"w":case"[":switch(t.data.query.mode){default:const fe=p.value.length?p.value[p.value.length-1]:{id:0,id_parent:0,type:"directory",title:"root",description:"",status:1,building:0};if(F=await g(fe.id_parent),ie=V(F.list,te.value),H=ie.length,H<2)return;M=0,ie.forEach((O,u)=>{O.id==t.data.query.id_dir&&(M=u)}),Y=ie.length;do{for(M-=1;M<0;)M+=H;for(;M>H-1;)M-=H;if(K=ie[M],t.data.query.id_dir=`${K.id}`,await w())break}while(--Y>0);break;case"id_iterate":const q=t.data.query.keyword.split(","),$=[];q.forEach(O=>$.push(parseInt(O)));let j=null;for(let O=0;O<m.value.crumb_node.length;O++){const u=m.value.crumb_node[O];if($.indexOf(u.id)!==-1){j=u.id;break}}if(!j)break;const Q=$.indexOf(j);H=$.length;let oe=Q-1;for(;oe<0;)oe+=H;for(;oe>H-1;)oe-=H;const C=$[oe];for(let O=0;O<f.value.length;O++){const u=f.value[O];for(let P=0;P<u.crumb_node.length;P++)if(u.crumb_node[P].id===C)return x(O,0)}}break;case"s":case"]":switch(t.data.query.mode){default:const fe=p.value.length?p.value[p.value.length-1]:{id:0,id_parent:0,type:"directory",title:"root",description:"",status:1,building:0};if(F=await g(fe.id_parent),ie=V(F.list,te.value),H=ie.length,H<2)return;M=0,ie.forEach((O,u)=>{O.id==t.data.query.id_dir&&(M=u)}),Y=ie.length;do{for(M+=1;M<0;)M+=H;for(;M>H-1;)M-=H;if(K=ie[M],t.data.query.id_dir=`${K.id}`,await w())break}while(--Y>0);break;case"id_iterate":const q=t.data.query.keyword.split(","),$=[];q.forEach(O=>$.push(parseInt(O)));let j=null;for(let O=0;O<m.value.crumb_node.length;O++){const u=m.value.crumb_node[O];if($.indexOf(u.id)!==-1){j=u.id;break}}if(!j)break;const Q=$.indexOf(j);H=$.length;let oe=Q+1;for(;oe<0;)oe+=H;for(;oe>H-1;)oe-=H;const C=$[oe];for(let O=0;O<f.value.length;O++){const u=f.value[O];for(let P=0;P<u.crumb_node.length;P++)if(u.crumb_node[P].id===C)return x(O,0)}break}break;case"NumpadEnter":case"Enter":break;case"Delete":J.preventDefault(),J.stopPropagation();const ee=new Set;m.value&&m.value.id&&ee.add(m.value.id),await ye.op_bath_delete(ee,[],!1,()=>{x(h.value,1)});break}}function N(J,F){let ie=0;return J.forEach((H,M)=>{H.id===F.id&&(ie=M)}),ie}const te=he(s.get("browser_list_sort")??"name_asc");function R(J){var ie;console.info("setSort",te.value,J),(ie=J.target)==null||ie.blur();const F=f.value;f.value=[],V(F,te.value),f.value=F,h.value=N(F,m.value),D()}function V(J,F){return J=ka(J,F),h.value=N(J,m.value),s.set("browser_list_sort",te.value),J}const b=he(s.get("browser_list_filter")??"any");function Z(J){s.set("browser_list_filter",J);let F=f.value[h.value],ie=v();f.value=V(ie,te.value),h.value=N(f.value,F),console.info(h.value),L()}const ce=he("0");function G(J){let F=f.value[h.value],ie=v();f.value=V(ie,te.value),h.value=N(f.value,F),console.info(h.value),L()}return(J,F)=>(ae(),$n(Oo(m.value.type&&r[m.value.type]?r[m.value.type]:r.base),{data:t.data,modalData:t.modalData,nodeList:_.value,curNode:m.value,curIndex:h.value,onNav:E},{info:nr(()=>{var ie,H;return[se("div",{class:Ae({info:!0,detail:c.value})},[c.value?(ae(),le(_e,{key:0},[se("p",null,we(m.value.title)+" ("+we(xe(Pe).kmgt(((H=(ie=m.value.file_index)==null?void 0:ie.raw)==null?void 0:H.size)??0,2))+") ",1),m.value.crumb_node?(ae(),le("p",Wd,[F[11]||(F[11]=ns("Dir : ")),(ae(!0),le(_e,null,Ne(m.value.crumb_node,M=>(ae(),le(_e,null,[ns("/"+we(M.title),1)],64))),256))])):Ce("",!0),se("p",Vd,we(m.value.description),1)],64)):Ce("",!0)],2)]}),btnContainer:nr(()=>{var ie,H;return[se("div",Kd,[c.value?(ae(),le(_e,{key:0},[n?Ze((ae(),le("select",{key:0,"onUpdate:modelValue":F[0]||(F[0]=M=>ce.value=M),onChange:F[1]||(F[1]=M=>G(ce.value))},[(ae(!0),le(_e,null,Ne(xe(ze).rateMobile,(M,K)=>(ae(),le("option",{value:K,key:"BROWSER_RATE_"+J.modalData.nid+"_"+K},we(M),9,Yd))),128))],544)),[[an,ce.value]]):Ze((ae(),le("select",{key:1,class:"sysIcon","onUpdate:modelValue":F[2]||(F[2]=M=>ce.value=M),onChange:F[3]||(F[3]=M=>G(ce.value))},[(ae(!0),le(_e,null,Ne(xe(ze).rate,(M,K)=>(ae(),le("option",{class:"sysIcon_A sysIcon",value:K,innerHTML:M,key:"BROWSER_RATE_"+J.modalData.nid+"_"+K},null,8,Xd))),128))],544)),[[an,ce.value]]),Ze(se("select",{"onUpdate:modelValue":F[4]||(F[4]=M=>b.value=M),onChange:F[5]||(F[5]=M=>Z(b.value))},[(ae(!0),le(_e,null,Ne(xe(ze).fileType,(M,K)=>(ae(),le("option",{value:M,key:"BROWSER_TYPE_"+J.modalData.nid+"_"+K},we(M),9,Zd))),128))],544),[[an,b.value]]),F[12]||(F[12]=se("br",null,null,-1))],64)):Ce("",!0),Ze(se("select",{"onUpdate:modelValue":F[6]||(F[6]=M=>te.value=M),onChange:F[7]||(F[7]=M=>R(M))},[(ae(!0),le(_e,null,Ne(xe(ze).sort,(M,K)=>(ae(),le("option",{value:K,key:"BROWSER_SORT_"+J.modalData.nid+"_"+K},we(M),9,qd))),128))],544),[[an,te.value]]),se("button",{class:Ae(["sysIcon",`sysIcon_player_${o.value}`]),onClick:l},null,2),se("button",{class:Ae(["sysIcon","sysIcon_info-cirlce-o"]),onClick:d}),(H=(ie=m.value.file_index)==null?void 0:ie.raw)!=null&&H.path?(ae(),le("button",{key:1,class:Ae(["sysIcon","sysIcon_download"]),onClick:F[8]||(F[8]=M=>xe(ye).op_download(m.value))})):Ce("",!0)])]}),navigator:nr(()=>[se("div",{class:Ae({pagination:1,isMobile:n})},[se("div",{class:"left",onClick:F[9]||(F[9]=ie=>x(h.value,-1))},F[13]||(F[13]=[se("span",{class:"sysIcon sysIcon_arrowleft"},null,-1)])),se("div",{class:"right",onClick:F[10]||(F[10]=ie=>x(h.value,1))},F[14]||(F[14]=[se("span",{class:"sysIcon sysIcon_arrowright"},null,-1)]))],2)]),_:1},40,["data","modalData","nodeList","curNode","curIndex"]))}}),Jd={class:"modal_locator"},Qd={class:"locator_list"},eh=["onClick"],th={class:"type"},nh={class:"tree"},rh={class:"title"},sh=We({__name:"locator",props:{data:{},modalData:{}},setup(e){const t=he(null);let n={mode:"directory",id_dir:"",keyword:"",id_tag:"",cascade_dir:"1",node_type:"directory",with:"crumb",limit:"20"};const r=e,s=he([]);ot(()=>{var c;(c=t.value)==null||c.focus()}),mt(()=>{});async function i(){const c=await Oe("file/get",n);!c||!c.list||(n.keyword&&"root".indexOf(n.keyword)!==-1&&c.list.unshift({id:0,title:"root",status:1,type:"directory",crumb_node:[]}),s.value=c.list,s.value.length&&(s.value[0]._sel=!0,r.modalData.layout.h<220&&(r.modalData.layout.h=220)))}async function a(c){console.info(c),!await l(c)&&Pe.debounce(()=>{var _;let p=(_=t.value)==null?void 0:_.value;if(!p||!p.length){s.value=[];return}console.info(p),console.info(r.modalData),n.keyword=p,i()},200,"locator")}async function o(c){console.info(c);const d=en();if(!await r.data.call(c))return d.close(r.modalData.nid)}async function l(c){let d,p,_=!1;switch(c.code){case"ArrowDown":if(_=!0,c.stopPropagation(),c.preventDefault(),!s.value.length)break;for(d=-1,s.value.forEach((y,h)=>{y._sel&&(d=h)}),p=d+1;p<0;)p+=s.value.length;for(;p>=s.value.length;)p-=s.value.length;s.value.forEach((y,h)=>{y._sel=h==p});break;case"ArrowUp":if(_=!0,c.stopPropagation(),c.preventDefault(),!s.value.length)break;for(d=0,s.value.forEach((y,h)=>{y._sel&&(d=h)}),p=d-1;p<0;)p+=s.value.length;for(;p>=s.value.length;)p-=s.value.length;s.value.forEach((y,h)=>{y._sel=h==p});break;case"NumpadEnter":case"Enter":if(_=!0,c.stopPropagation(),c.preventDefault(),!s.value.length||(d=-1,s.value.forEach((y,h)=>{y._sel&&(d=h)}),d==-1))break;const f=s.value[d];o(f);break}return _}return(c,d)=>(ae(),le("div",Jd,[se("input",{type:"text",class:"locator_input",placeholder:"type title/desc here ...",ref_key:"locatorInput",ref:t,onKeydown:a},null,544),se("div",Qd,[(ae(!0),le(_e,null,Ne(s.value,p=>(ae(),le("div",{onClick:_=>o(p),class:Ae({active:p._sel})},[se("p",th,we(p.type),1),se("p",nh,[se("span",rh,we(p.title),1),p.crumb_node?(ae(!0),le(_e,{key:0},Ne(p.crumb_node,_=>(ae(),le("span",null,we(_.title),1))),256)):Ce("",!0)])],10,eh))),256))])]))}}),ih={class:"upload_list"},oh={class:"title"},ah={class:"meta"},lh={key:0},ch={key:1},uh=["onClick"],fh={class:"upload_menu"},dh={key:1},hh=We({__name:"uploader",props:{data:{},modalData:{}},setup(e){const t=e,n=he([]),r=new Map;ot(()=>{}),mt(()=>{});function s(h){console.info("onSelectFile",h);const m=document.createElement("input");m.type="file",m.setAttribute("multiple",!0),m.onchange=g=>{var v;if((v=m.files)!=null&&v.length)for(let w=0;w<m.files.length;w++){const x=m.files[w];n.value.push({name:"/"+x.name,size:x.size,file:x,isDir:!1,status:"waiting",start:0,loaded:0})}},m.click()}function i(h){var m,g,v;if(console.debug("onDrop",h.type,(m=h.dataTransfer)==null?void 0:m.files,h),h.preventDefault(),h.stopPropagation(),!(!h.dataTransfer||!h.dataTransfer.files.length)){for(let w=0;w<((g=h.dataTransfer)==null?void 0:g.files.length);w++){const x=(v=h.dataTransfer)==null?void 0:v.items[w],E=x.webkitGetAsEntry();if(E.isFile){const z=x.getAsFile();n.value.push({name:E.fullPath,size:z.size,file:z,isDir:!1,status:"waiting",start:0,loaded:0})}else a(E).then(z=>{z.forEach(L=>n.value.push(L))})}console.info(n.value)}}async function a(h){const m=[];m.push({name:h.fullPath,size:0,file:null,isDir:!0,status:"waiting",start:0,loaded:0});const g=h.createReader(),v=await l(g);for(let w=0;w<v.length;w++){const x=v[w];if(x.isFile){const E=await o(x);m.push({name:x.fullPath,size:E.size,file:E,isDir:!1,status:"waiting",start:0,loaded:0})}x.isDirectory&&(await a(x)).forEach(z=>m.push(z))}return m}function o(h){return new Promise(m=>{h.file(g=>m(g))})}function l(h){return new Promise(m=>{h.readEntries(g=>{m(g)})})}function c(h){h.stopPropagation(),h.preventDefault()}let d=he(!1);async function p(){if(n.value.length){d.value=!0;for(let h=0;h<n.value.length;h++)n.value[h].status==="waiting"&&await _(n.value[h]);d.value=!1,t.data.emitGo("reload")}}async function _(h){let m=null,[g,v,w]=f(h.name);if(h.isDir){const x=new FormData;x.set("pid",g),x.set("title",w),h.status="uploading",m=await Oe("file/mkdir",x),r.set(v+w+"/",m.id)}else{const x=new FormData;x.set("pid",g),x.set("file",h.file),h.status="uploading",m=await Oe("file/upd",x,{upload:E=>{h.loaded=E.loaded}})}return h.status="complete",m}function f(h){const m=h.replace(/[\\/]+$/i).split(/[\\/]/i),g=m.pop();if(!m.length)return[t.data.pid,"/",g];let v="";for(let x=0;x<m.length;x++)v+=m[x]+"/";return v=="/"?[t.data.pid,v,g]:[r.get(v),v,g]}function y(h){n.value.splice(h,1)}return(h,m)=>(ae(),le("div",{class:"modal_uploader",onDrop:i,onDragover:c},[se("div",ih,[(ae(!0),le(_e,null,Ne(n.value,(g,v)=>(ae(),le("div",{key:`file_upload_${v}`},[se("div",oh,we(g.name),1),se("div",ah,[g.status==="uploading"?(ae(),le("span",lh,we(Math.round(100*g.loaded/g.size))+" % ",1)):(ae(),le("span",ch,we(g.status),1)),se("span",null,we(xe(Pe).kmgt(g.size)),1),g.status==="waiting"?(ae(),le("span",{key:2,onClick:w=>y(v),class:"pointer"},"X",8,uh)):Ce("",!0)])]))),128)),se("div",{onClick:s},"drag / drop files here...")]),se("div",fh,[xe(d)?(ae(),le("button",dh,"uploading")):(ae(),le("button",{key:0,onClick:p},"upload"))])],32))}}),ph={class:"modal_rename_util"},mh={class:"mode_selector"},_h=["id","name"],gh=["for"],vh=["id","name"],yh=["for"],bh=We({__name:"renameUtil",props:{data:{},modalData:{}},setup(e){he(null);const t=e;let n=he("pattern"),r=he("{index}_{filename}"),s=he("");ot(()=>{const o=[];t.data.node_list.forEach(l=>{o.push((l==null?void 0:l.title)??"")}),s.value=o.join(`\r
`),console.info(s)}),mt(()=>{});function i(o){let l=o.length.toString().length+1,c=0,d="",p=r.value.match(/\{index:(\d+)}/);p&&(c=parseInt(p[1]),d=p[0]);const _=new Map;o.forEach((y,h)=>{const m=y.crumb_node?y.crumb_node[y.crumb_node.length-1]:null,g=m?m.title:"";let v=new Map;v.set("{filename}",y.title??""),v.set("{index}",Pe.prefix(h+1,l,"0")),v.set("{directory}",g??""),v.set(`{index:${d}}`,Pe.prefix(h+1,c,"0"));let w=r.value;v.forEach((x,E)=>{w=w.replace(E,x)}),_.set(y.id??0,w)});const f=[];return _.forEach((y,h)=>{f.push({id:h,title:y})}),f}async function a(){const o=en();let l=[];switch(n.value){default:case"pattern":l=i(t.data.node_list);break;case"bath":const p=s.value.split(/[\r\n]+/);l=[],t.data.node_list.forEach((_,f)=>{p[f]&&p[f].trim().length&&l.push({id:_.id??0,title:p[f].trim()})});break}const c={list:JSON.stringify(l)},d=await Oe("file/bath_rename",c);return console.info(d),t.data.callback(l),o.close(t.modalData.nid)}return(o,l)=>(ae(),le("div",ph,[se("div",mh,[Ze(se("input",{id:`P_${t.modalData.nid}_MODE_PATTERN`,name:`P_${t.modalData.nid}_MODE`,value:"pattern",type:"radio","onUpdate:modelValue":l[0]||(l[0]=c=>Me(n)?n.value=c:n=c)},null,8,_h),[[is,xe(n)]]),se("label",{for:`P_${t.modalData.nid}_MODE_PATTERN`},"pattern",8,gh),Ze(se("input",{id:`P_${t.modalData.nid}_MODE_BATH`,name:`P_${t.modalData.nid}_MODE`,value:"bath",type:"radio","onUpdate:modelValue":l[1]||(l[1]=c=>Me(n)?n.value=c:n=c)},null,8,vh),[[is,xe(n)]]),se("label",{for:`P_${t.modalData.nid}_MODE_BATH`},"bath",8,yh)]),xe(n)=="pattern"?(ae(),le(_e,{key:0},[l[5]||(l[5]=Zo("<p>rename pattern:</p><table><tbody><tr><td>code</td><td>description</td></tr><tr><td>{filename}</td><td>file name</td></tr><tr><td>{index}</td><td>index by sort, prefix by max len+1</td></tr><tr><td>{index:n}</td><td>index by sort, prefix len by [n]</td></tr><tr><td>{directory}</td><td>parent directory name</td></tr></tbody></table>",2)),se("label",null,[l[4]||(l[4]=se("span",null,"pattern",-1)),Ze(se("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=c=>Me(r)?r.value=c:r=c)},null,512),[[on,xe(r)]])])],64)):Ce("",!0),xe(n)=="bath"?(ae(),le(_e,{key:1},[l[6]||(l[6]=se("p",null,"rename bath:",-1)),Ze(se("textarea",{"onUpdate:modelValue":l[3]||(l[3]=c=>Me(s)?s.value=c:s=c)},null,512),[[on,xe(s)]])],64)):Ce("",!0),se("label",{class:"confirm"},[se("button",{onClick:a},"submit")])]))}}),wh={class:"fr_popup"},xh=["data-ref-id","onClick"],kh=["onPointerdown","onDblclick"],Sh={class:"modal_title"},Eh={class:"modal_menu"},Oh=["onClick"],Ch=["onClick"],Ah=["onClick"],Dh={class:"modal_content"},Ih=["innerHTML"],Lh={key:1,class:"modal_content_form"},Rh={key:0},Th=["onUpdate:modelValue"],Ph=["onClick"],Mh={key:0},zh=["onUpdate:modelValue"],$h=["onUpdate:modelValue"],Nh=["onUpdate:modelValue"],Bh=["id","name","value","onUpdate:modelValue"],Fh=["for"],jh=["id","name","value","onUpdate:modelValue"],Hh=["for"],Uh=["onUpdate:modelValue","multiple"],Wh=["value"],Vh={key:2,class:"modal_content_callback"},Kh=["onClick"],Yh=["onPointerdown"],It=20,Xh=We({__name:"Popup",setup(e){const t={fileBrowser:Gd,uploader:hh,locator:sh,renameUtil:bh},n=new Date().valueOf(),r=he(new Map);function s(v){const w=Math.floor((new Date().valueOf()-n)/100),x=window.innerWidth,E=window.innerHeight,z={nid:"",base:{title:v.title??"",alpha:v.alpha??!1,key:v.key??"",single:v.single??!1},layout:{w:0,h:0,x:0,y:0,minW:0,minH:0,allow_resize:!1,allow_move:!1,allow_escape:!1,allow_fullscreen:!1,auto_focus:!1,active:!1,index:0,fullscreen:!1},content:{text:he(""),form:[],component:[]},callback:[],closed:!1,event:{}};z.nid=(w+Math.random()).toString(32),z.event.resize=new Event(`modal_resizing_${z.nid}`),console.info(w,z.nid);const L={};if(L.w=v.w??400,L.h=v.h??160,L.x=(x-L.w)/2,L.y=(E-L.h)/2,L.minW=v.minW??400,L.minH=v.minH??160,L.allow_resize=v.allow_resize??!0,L.allow_move=v.allow_move??!0,L.allow_escape=v.allow_escape??!0,L.allow_fullscreen=v.allow_fullscreen??!1,L.auto_focus=v.auto_focus??!0,L.active=!1,L.index=w,L.fullscreen=v.fullscreen??!1,Object.assign(z.layout,L),v.text&&(typeof v.text=="string"?z.content.text.value=v.text:z.content.text=v.text),v.form&&(Array.isArray(v.form)?z.content.form.push(...v.form):z.content.form.push(v.form),z.content.form.forEach(D=>{if(D.value=D.value??null,D.options=D.options??null,D.default=D.default??null,D.multiple=!!D.multiple,D.disabled=!!D.disabled,D.options&&Array.isArray(D.options)){let A={};D.options.forEach(N=>{A[N]=N}),D.options=A}})),v.component&&(Array.isArray(v.component)?v.component.forEach(D=>{let A;typeof D=="string"?A={key:"",componentName:D,data:{}}:A=Object.assign({key:"",componentName:null,data:{}},D),z.content.component.push(A)}):typeof v.component=="string"?z.content.component.push({key:"",componentName:v.component,data:{}}):z.content.component.push(Object.assign({key:"",componentName:null,data:{}},v.component))),v.callback){if(Array.isArray(v.callback))v.callback.forEach((D,A)=>{let N;typeof D=="function"?N={key:"",name:"",func:D}:N=Object.assign({key:"",name:"",func:null},D),z.callback.push(N)});else if(typeof v.callback=="function")z.callback.push({key:"",name:"",func:v.callback});else if(v.callback.func)z.callback.push(Object.assign({key:"",name:"",func:null},v.callback));else for(const D in v.callback){if(!Object.prototype.hasOwnProperty.call(v.callback,D))continue;const A=v.callback[D];z.callback.push(Object.assign({key:D,name:D,func:A}))}z.callback.forEach((D,A)=>{if(D.name&&!D.key)D.key=D.name;else if(!D.name&&D.key)D.name=D.key;else if(!D.name&&!D.key){let N="button";z.callback.length>1&&(N+=" "+A),D.name=N,D.key=N}})}return console.debug(z),z}window.addEventListener("resize",v=>{r.value.forEach(w=>{if(w.layout.fullscreen){const x={x:It,y:It,w:window.innerWidth-It*2,h:window.innerHeight-It*2};Object.assign(w.layout,x),document.dispatchEvent(w.event.resize)}})});const i=en();i.handleEvent("set",v=>{let w=null,x=null;return v.single&&r.value.forEach((E,z,L)=>{E.base.key==v.key&&(w=z,x=E)}),w?setTimeout(()=>{a(w)}):(x=s(v),r.value.set(x.nid,x),setTimeout(()=>{a(x.nid)})),x}),i.handleEvent("close",v=>c(v)),document.body.addEventListener("click",v=>{let w=v.target;Sn(w)||a(0)});function a(v){const w=Math.floor((new Date().valueOf()-n)/100);r.value.forEach(x=>{if(x.nid===v){x.layout.index=w;let E=!x.layout.active;x.layout.active=!0,x.layout.auto_focus&&E&&setTimeout(()=>{const z=document.querySelector(`.modal_dom[data-ref-id="${x.nid}"] input,.modal_dom[data-ref-id="${x.nid}"] button,.modal_dom[data-ref-id="${x.nid}"] textarea`);z&&z.focus()},100)}else x.layout.active=!1})}function o(v){const w=r.value.get(v);if(!w)return;const x={x:It,y:It,w:window.innerWidth-It*2,h:window.innerHeight-It*2,fullscreen:!0};Object.assign(w.layout,x),document.dispatchEvent(w.event.resize)}function l(v){const w=r.value.get(v);if(!w)return;const x={x:0,y:0,w:w.layout.minW,h:w.layout.minH,fullscreen:!1};x.x=(window.innerWidth-x.w)/2,x.y=(window.innerHeight-x.h)/2,Object.assign(w.layout,x),document.dispatchEvent(w.event.resize)}function c(v){const w=r.value.get(v);if(!w||!w.layout.allow_escape)return;r.value.delete(v);let x=-1,E=-1;return r.value.forEach(z=>{x>z.layout.index||(x=z.layout.index,E=z.nid)}),E!=-1&&a(E),w}let d={x:0,y:0,d:"",modalX:0,modalY:0,modalW:0,modalH:0,modal:null},p=0;function _(v,w){w.preventDefault(),w.stopPropagation(),w.pointerId&&(p=w.pointerId,w.target.hasPointerCapture(w.pointerId)),d.x=w.clientX,d.y=w.clientY,d.d=w.target.className,r.value.forEach(x=>{x.nid===v&&(d.modal=x)}),d.modal&&(d.modal.layout.fullscreen||(d.modalX=d.modal.layout.x,d.modalY=d.modal.layout.y,d.modalW=d.modal.layout.w,d.modalH=d.modal.layout.h,document.addEventListener("pointerup",y),document.addEventListener("pointermove",f)))}function f(v){if(v.preventDefault(),!d.modal||!v.pointerId||p!=v.pointerId)return;const w={x:v.clientX-d.x,y:v.clientY-d.y},x={x:d.modal.layout.x,y:d.modal.layout.y,w:d.modal.layout.w,h:d.modal.layout.h};switch(d.d){case"c_l":x.x=d.modalX+w.x,x.w=d.modalW-w.x;break;case"c_r":x.x=d.modalX,x.w=d.modalW+w.x;break;case"c_t":x.y=d.modalY+w.y,x.h=d.modalH-w.y;break;case"c_b":x.y=d.modalY,x.h=d.modalH+w.y;break;case"c_lt":x.x=d.modalX+w.x,x.w=d.modalW-w.x,x.y=d.modalY+w.y,x.h=d.modalH-w.y;break;case"c_lb":x.x=d.modalX+w.x,x.w=d.modalW-w.x,x.y=d.modalY,x.h=d.modalH+w.y;break;case"c_rt":x.x=d.modalX,x.w=d.modalW+w.x,x.y=d.modalY+w.y,x.h=d.modalH-w.y;break;case"c_rb":x.x=d.modalX,x.w=d.modalW+w.x,x.y=d.modalY,x.h=d.modalH+w.y;break;case"modal_header":case"modal_title":x.x=d.modalX+w.x,x.y=d.modalY+w.y;break}const E={l:0,r:window.innerWidth,t:0,b:window.innerHeight};x.w<100&&(x.w=100),x.h<80&&(x.h=80),x.y<0&&(x.y=0),x.y>E.b-x.h/2&&(x.y=E.b-x.h/2),x.x<0-x.w/2&&(x.x=0-x.w/2),x.x>E.r-x.w/2&&(x.x=E.r-x.w/2),d.modal.layout.minW&&x.w<d.modal.layout.minW&&(x.w=d.modal.layout.minW),d.modal.layout.minH&&x.h<d.modal.layout.minH&&(x.h=d.modal.layout.minH),Object.assign(d.modal.layout,x),document.dispatchEvent(d.modal.event.resize)}function y(v){v.preventDefault(),v.stopPropagation(),!(!v.pointerId||p!=v.pointerId)&&(document.removeEventListener("pointerup",y),document.removeEventListener("pointermove",f),p=0,d.modal=null)}function h(v,w){const x=r.value.get(v);x&&x.callback.forEach(async E=>{E.key!==w||await E.func(x)||c(v)})}ot(()=>{console.info("Popup mounted"),document.addEventListener("keydown",m)}),mt(()=>{console.info("unmounted"),document.removeEventListener("keydown",m)});function m(v){switch(v.key){case"Escape":r.value.forEach((x,E)=>{if(x.layout.active){if(!x.layout.allow_escape)return;setTimeout(()=>c(x.nid))}});break;case"NumpadEnter":case"Enter":if(v.target.tagName==="BODY"||v.target.tagName==="BUTTON"||v.isComposing)return;let w=v.target;for(;w.parentElement;){if(w=w.parentElement,!w.classList.contains("modal_dom"))continue;const E=w.getAttribute("data-ref-id");if(!E)break;const z=r.value.get(E);if(!z)break;for(let L=0;L<z.callback.length;L++){const D=z.callback[L].key;return h(E,D)}}break}}function g(v){console.info("processModalFile",v);const w=document.createElement("input");w.type="file",w.onchange=x=>{const E=x.target.files;!E||E.length===0||(v.value=E[0],console.info("processModalFile mod",v,v.value))},w.click()}return(v,w)=>(ae(),le("div",wh,[(ae(!0),le(_e,null,Ne(r.value,([x,E])=>{var z;return ae(),le("div",{key:`_modal_${x}`,class:Ae({modal_dom:!0,active:E.layout.active,resizing:((z=xe(d).modal)==null?void 0:z.nid)==E.nid,modal_alpha:E.base.alpha}),"data-ref-id":E.nid,style:nt({zIndex:E.layout.index,width:E.layout.w+"px",height:E.layout.h+"px",left:E.layout.x+"px",top:E.layout.y+"px"}),onClick:Wc(L=>a(E.nid),["stop"])},[se("div",{class:"modal_header",onPointerdown:L=>_(E.nid,L),onDblclick:L=>E.layout.fullscreen?l(E.nid):o(E.nid)},[se("div",Sh,we(E.base.title),1),se("div",Eh,[E.layout.allow_move&&E.layout.allow_fullscreen?(ae(),le(_e,{key:0},[E.layout.fullscreen?(ae(),le("span",{key:1,class:"buttonStyle sysIcon sysIcon_windowize",onClick:L=>l(E.nid)},null,8,Ch)):(ae(),le("span",{key:0,class:"buttonStyle sysIcon sysIcon_maximize",onClick:L=>o(E.nid)},null,8,Oh))],64)):Ce("",!0),se("span",{class:"buttonStyle sysIcon sysIcon_close",onClick:L=>c(E.nid)},null,8,Ah)])],40,kh),se("div",Dh,[E.content.text&&E.content.text.length?(ae(),le("div",{key:0,class:"modal_content_text",innerHTML:E.content.text},null,8,Ih)):Ce("",!0),E.content.form&&E.content.form.length?(ae(),le("div",Lh,[(ae(!0),le(_e,null,Ne(E.content.form,(L,D)=>(ae(),le("label",{key:`_modal_${x}_form_${D}`},[L.label?(ae(),le("span",Rh,we(L.label),1)):Ce("",!0),w[0]||(w[0]=se("span",null,null,-1)),se("span",null,[L.type==="text"?Ze((ae(),le("input",{key:0,type:"text","onUpdate:modelValue":A=>L.value=A},null,8,Th)),[[on,L.value]]):Ce("",!0),L.type==="file"?(ae(),le(_e,{key:1},[se("button",{onClick:A=>g(L)},"select file",8,Ph),L.value?(ae(),le("span",Mh,we(L.value.name),1)):Ce("",!0)],64)):Ce("",!0),L.type==="textarea"?Ze((ae(),le("textarea",{key:2,"onUpdate:modelValue":A=>L.value=A},null,8,zh)),[[on,L.value]]):Ce("",!0),L.type==="date"?Ze((ae(),le("input",{key:3,type:"date","onUpdate:modelValue":A=>L.value=A},null,8,$h)),[[on,L.value]]):Ce("",!0),L.type==="datetime"?Ze((ae(),le("input",{key:4,type:"datetime-local","onUpdate:modelValue":A=>L.value=A},null,8,Nh)),[[on,L.value]]):Ce("",!0),L.type==="checkbox"?(ae(!0),le(_e,{key:5},Ne(L.options,(A,N)=>(ae(),le(_e,{key:`P_${x}_C_${D}_CB_${N}`},[Ze(se("input",{id:`P_${x}_C_${D}_CB_${N}`,name:`P_${x}_C_${D}_CB`,value:N,type:"checkbox","onUpdate:modelValue":te=>L.value=te},null,8,Bh),[[jc,L.value]]),se("label",{for:`P_${x}_C_${D}_CB_${N}`},we(A),9,Fh)],64))),128)):Ce("",!0),L.type==="radio"?(ae(!0),le(_e,{key:6},Ne(L.options,(A,N)=>(ae(),le(_e,{key:`P_${x}_C_${D}_RD_${N}`},[Ze(se("input",{id:`P_${x}_C_${D}_RD_${N}`,name:`P_${x}_C_${D}_RD`,value:N,type:"radio","onUpdate:modelValue":te=>L.value=te},null,8,jh),[[is,L.value]]),se("label",{for:`P_${x}_C_${D}_RD_${N}`},we(A),9,Hh)],64))),128)):Ce("",!0),L.type==="select"?Ze((ae(),le("select",{key:7,"onUpdate:modelValue":A=>L.value=A,multiple:L.multiple},[(ae(!0),le(_e,null,Ne(L.options,(A,N)=>(ae(),le("option",{key:`P_${x}_C_${D}_SL_${N}`,value:N},we(A),9,Wh))),128))],8,Uh)),[[an,L.value]]):Ce("",!0)])]))),128))])):Ce("",!0),(ae(!0),le(_e,null,Ne(E.content.component,(L,D)=>(ae(),$n(Oo(t[L.componentName]),{key:`CMP_${x}_${D}`,data:L.data,modalData:E},null,8,["data","modalData"]))),128)),E.callback&&E.callback.length?(ae(),le("div",Vh,[(ae(!0),le(_e,null,Ne(E.callback,(L,D)=>(ae(),le("button",{key:`BTN_${x}_${D}`,onClick:A=>h(E.nid,L.key)},we(L.name),9,Kh))),128))])):Ce("",!0)]),E.layout.allow_resize?(ae(),le("div",{key:0,class:"modal_border",onPointerdown:L=>_(E.nid,L)},w[1]||(w[1]=[Zo('<div class="c_l"></div><div class="c_r"></div><div class="c_t"></div><div class="c_b"></div><div class="c_lt"></div><div class="c_lb"></div><div class="c_rt"></div><div class="c_rb"></div>',8)]),40,Yh)):Ce("",!0)],14,xh)}),128))]))}}),Zh={class:"fr_context"},qh=["onClick"],Gh=["innerHTML"],Jh={key:0,class:"context_menu_sub"},Qh=["onClick"],ep=["innerHTML"],tp=We({__name:"Context",setup(e){const n=Qt().get(),r=n?n!=null&&n.group.admin?2:1:0,s=ya(),i=he([]),a=he(null),o=he(!0),l=he({x:-1e3,y:0,w:0,h:0,sx:0,sy:0,direction:"lb"});s.register(c);function c(m,g){o.value=!1;const v=[];m.forEach(w=>{if(d(w)){if(w.child){let x=[];if(w.child.forEach(E=>{d(E)&&x.push(E)}),!x.length)return;w.child=x}v.push(w)}}),i.value=v,console.info(v),setTimeout(()=>p(g),20)}function d(m){switch(m.auth){case"none":return!1;default:case"guest":return!0;case"user":if(r<1)break;return!0;case"admin":if(r<2)break;return!0}}function p(m){if(!a.value)return;const g=a.value;let v=h();const w={x:m.clientX,y:m.clientY,w:g==null?void 0:g.offsetWidth,h:g==null?void 0:g.offsetHeight,sx:v.scrollTop,sy:v.scrollLeft,direction:"rb"};let x=["r","b"];switch(w.w+w.x>window.innerWidth&&(x[0]="l"),w.h+w.y>window.innerHeight&&(x[1]="t"),w.direction=x.join(""),w.direction){case"rb":break;case"rt":w.y-=w.h;break;case"lb":w.x-=w.w;break;case"lt":w.x-=w.w,w.y-=w.h;break}l.value=w,h().addEventListener("scroll",y),setTimeout(()=>o.value=!0,10)}function _(){h().removeEventListener("scroll",y),o.value=!1,f=null,setTimeout(()=>{i.value=[],l.value={x:-1e3,y:0,w:0,h:0,sx:0,sy:0,direction:"lb"}},10)}ot(()=>{console.info(f)});let f=null;function y(m){const g=h();if(!g)return;let v=l.value,w=g.scrollLeft,x=g.scrollTop,E=w-v.sx,z=x-v.sy;l.value=Object.assign(v,{x:v.x-E,y:v.y-z,sx:w,sy:x})}function h(){return f||(f=document.querySelector(".fr_content"),f)}return addEventListener("contextmenu",m=>{console.info("triggerMenu"),c([],m)}),addEventListener("click",m=>{_()}),(m,g)=>(ae(),le("div",Zh,[se("div",{class:Ae(["context_menu",o.value?"show":"",l.value.direction]),style:nt({left:l.value.x+"px",top:l.value.y+"px"}),ref_key:"contextDOM",ref:a},[(ae(!0),le(_e,{key:0},Ne(i.value,v=>{var w;return ae(),le("div",{class:Ae(["context_item",(w=v.child)!=null&&w.length?"has_sub":""]),onClick:v.method},[se("span",{innerHTML:v.title},null,8,Gh),v.child&&v.child.length?(ae(),le("div",Jh,[(ae(!0),le(_e,{key:0},Ne(v.child,x=>(ae(),le("div",{class:Ae({context_item:!0}),onClick:x.method},[se("span",{innerHTML:x.title},null,8,ep)],8,Qh))),256))])):Ce("",!0)],10,qh)}),256))],6)]))}}),np={class:"fr_body"},rp=We({__name:"App",setup(e){const n=Qt().get();n&&(document.cookie=`tosho_token=${n.token}; max-age=31536000`,r());async function r(){const s=await Oe("setting/get_front_conf");s&&s.onlyoffice_enabled==="true"&&(ze.onlyOffice.enabled=!0,ze.onlyOffice.onlyofficeOrigin=s.onlyoffice_origin,ze.onlyOffice.jwtSecret=s.onlyoffice_jwt_secret)}return(s,i)=>{const a=Ll("router-view");return ae(),le(_e,null,[Be(pu,{class:"fr_header"}),Be(Xh),Be(tp),se("div",np,[Be(Cf,{class:"fr_navi"}),Be(a)])],64)}}});Tf();const zs=Yc(rp);zs.use(Gc());zs.use(kf);zs.mount("#app");export{jc as A,Ar as B,ze as C,Mt as D,dt as E,_e as F,Pe as G,ye as H,is as I,ns as J,hu as _,en as a,ot as b,$n as c,We as d,op as e,mt as f,ip as g,le as h,se as i,Ne as j,xe as k,an as l,Ce as m,Ae as n,ae as o,Nf as p,Oe as q,he as r,wf as s,xf as t,gn as u,on as v,Ze as w,we as x,Wc as y,Be as z};
